<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jena-geo: Registry Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">jena-geo
   &#160;<span id="projectnumber">Version 0.1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a07035.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="a07032.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Registry Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A set of static methods for managing JAI's  OperationRegistry operation registry}.  
 <a href="a07035.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Registry:</div>
<div class="dyncontent">
<div class="center"><img src="a07034.png" border="0" usemap="#Registry_inherit__map" alt="Inheritance graph"/></div>
<map name="Registry_inherit__map" id="Registry_inherit__map">
<area shape="rect" id="node2" href="a07367.html" title="Parent of classes that contain only static utility methods. " alt="" coords="13,5,69,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Registry:</div>
<div class="dyncontent">
<div class="center"><img src="a07033.png" border="0" usemap="#Registry_coll__map" alt="Collaboration graph"/></div>
<map name="Registry_coll__map" id="Registry_coll__map">
<area shape="rect" id="node2" href="a07367.html" title="Parent of classes that contain only static utility methods. " alt="" coords="13,5,69,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad8e84bc73acb3ddf81036b833a2946ed"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07035.html#ad8e84bc73acb3ddf81036b833a2946ed">registerGeotoolkitServices</a> (final OperationRegistry registry)</td></tr>
<tr class="memdesc:ad8e84bc73acb3ddf81036b833a2946ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unconditionally registers all JAI operations provided in the <a class="el" href="a03857.html">org.geotoolkit.image.jai</a> package.  <a href="#ad8e84bc73acb3ddf81036b833a2946ed">More...</a><br /></td></tr>
<tr class="separator:ad8e84bc73acb3ddf81036b833a2946ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a010221b7211b0e51e2af0b1514bda1a6"><td class="memItemLeft" align="right" valign="top">static synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07035.html#a010221b7211b0e51e2af0b1514bda1a6">setNativeAccelerationAllowed</a> (final String operation, final boolean allowed, final JAI jai)</td></tr>
<tr class="memdesc:a010221b7211b0e51e2af0b1514bda1a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows or disallows native acceleration for the specified operation on the given JAI instance.  <a href="#a010221b7211b0e51e2af0b1514bda1a6">More...</a><br /></td></tr>
<tr class="separator:a010221b7211b0e51e2af0b1514bda1a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73bedb18f00b780f5acd87b359e74ea0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07035.html#a73bedb18f00b780f5acd87b359e74ea0">setNativeAccelerationAllowed</a> (final String operation, final boolean allowed)</td></tr>
<tr class="memdesc:a73bedb18f00b780f5acd87b359e74ea0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows or disallows native acceleration for the specified operation on the  JAI::getDefaultInstance default JAI instance}.  <a href="#a73bedb18f00b780f5acd87b359e74ea0">More...</a><br /></td></tr>
<tr class="separator:a73bedb18f00b780f5acd87b359e74ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2346016f945ebdce01089452088457a"><td class="memItemLeft" align="right" valign="top">static synchronized&lt; T extends ImageReaderWriterSpi &gt; void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a> (final String format, final Class&lt; T &gt; category, final boolean allowed)</td></tr>
<tr class="memdesc:af2346016f945ebdce01089452088457a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows or disallows native acceleration for the specified image format.  <a href="#af2346016f945ebdce01089452088457a">More...</a><br /></td></tr>
<tr class="separator:af2346016f945ebdce01089452088457a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c4ba200b76ea53e78a1ea9aaad679fe"><td class="memItemLeft" align="right" valign="top">static synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07035.html#a2c4ba200b76ea53e78a1ea9aaad679fe">setDefaultCodecPreferences</a> ()</td></tr>
<tr class="memdesc:a2c4ba200b76ea53e78a1ea9aaad679fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the default preferred order for JAI and Java standard codec.  <a href="#a2c4ba200b76ea53e78a1ea9aaad679fe">More...</a><br /></td></tr>
<tr class="separator:a2c4ba200b76ea53e78a1ea9aaad679fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab4b863169dfe28f6712034a6a879a72f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07035.html#ab4b863169dfe28f6712034a6a879a72f">Registry</a> ()</td></tr>
<tr class="memdesc:ab4b863169dfe28f6712034a6a879a72f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do not allows instantiation of this class.  <a href="#ab4b863169dfe28f6712034a6a879a72f">More...</a><br /></td></tr>
<tr class="separator:ab4b863169dfe28f6712034a6a879a72f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a63c298905b82697d517ee5911aa9d0a1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07035.html#a63c298905b82697d517ee5911aa9d0a1">log</a> (final String method, final LogRecord record)</td></tr>
<tr class="memdesc:a63c298905b82697d517ee5911aa9d0a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs the specified record.  <a href="#a63c298905b82697d517ee5911aa9d0a1">More...</a><br /></td></tr>
<tr class="separator:a63c298905b82697d517ee5911aa9d0a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A set of static methods for managing JAI's  OperationRegistry operation registry}. </p>
<p>Also provides convenience methods for setting the preferred order between standard and JAI <a class="el" href="">javax.imageio.ImageReader</a>/<a class="el" href="">javax.imageio.ImageWriter</a>.</p>
<dl class="section author"><dt>Author</dt><dd>Martin Desruisseaux (IRD, Geomatys) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>3.00</dd></dl>
<dl class="section since"><dt>Since</dt><dd>2.2  </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab4b863169dfe28f6712034a6a879a72f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4b863169dfe28f6712034a6a879a72f">&#9670;&nbsp;</a></span>Registry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a07035.html">Registry</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do not allows instantiation of this class. </p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                       {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a63c298905b82697d517ee5911aa9d0a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c298905b82697d517ee5911aa9d0a1">&#9670;&nbsp;</a></span>log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final LogRecord&#160;</td>
          <td class="paramname"><em>record</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Logs the specified record. </p>

<p class="reference">Referenced by <a class="el" href="a07035.html#ad8e84bc73acb3ddf81036b833a2946ed">Registry.registerGeotoolkitServices()</a>, <a class="el" href="a07035.html#a010221b7211b0e51e2af0b1514bda1a6">Registry.setNativeAccelerationAllowed()</a>, and <a class="el" href="a07035.html#af2346016f945ebdce01089452088457a">Registry.setNativeCodecAllowed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                                                                         {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        record.setSourceClassName(<a class="code" href="a07035.html#ab4b863169dfe28f6712034a6a879a72f">Registry</a>.class.getName());</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        record.setSourceMethodName(method);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keyword">final</span> Logger logger = Logging.getLogger(<span class="stringliteral">&quot;org.geotoolkit.image.jai&quot;</span>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        record.setLoggerName(logger.getName());</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        logger.log(record);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div><div class="ttc" id="a07035_html_ab4b863169dfe28f6712034a6a879a72f"><div class="ttname"><a href="a07035.html#ab4b863169dfe28f6712034a6a879a72f">org.geotoolkit.image.jai.Registry.Registry</a></div><div class="ttdeci">Registry()</div><div class="ttdoc">Do not allows instantiation of this class. </div><div class="ttdef"><b>Definition:</b> Registry.java:62</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad8e84bc73acb3ddf81036b833a2946ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8e84bc73acb3ddf81036b833a2946ed">&#9670;&nbsp;</a></span>registerGeotoolkitServices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean registerGeotoolkitServices </td>
          <td>(</td>
          <td class="paramtype">final OperationRegistry&#160;</td>
          <td class="paramname"><em>registry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unconditionally registers all JAI operations provided in the <a class="el" href="a03857.html">org.geotoolkit.image.jai</a> package. </p>
<p>This method usually don't need to be invoked, since JAI should parse automatically the</p><div class="fragment"><div class="line">META-INF/registryFile.jai </div></div><!-- fragment --><p> file at startup time. However, this default mechanism may fail when the Geotk JAR file is unreachable from the JAI class loader, in which case the <a class="el" href="">org.geotoolkit.coverage.processing</a> package will invoke this method as a fallback. </p>
<p>Note to module maintainer: if this method is updated, remember to update the </p><div class="fragment"><div class="line">META-INF/registryFile.jai </div></div><!-- fragment --><p> file accordingly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">registry</td><td>The operation registry to register with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --> if all registrations have been successful. </dd></dl>

<p class="reference">References <a class="el" href="a07839.html#a9d5b9020885c57a05fd860bd8c771e05">Loggings.Keys.CantRegisterJaiOperation_1</a>, <a class="el" href="a07835.html#a621802aa7d89b0bf76fab832b7200b9c">Loggings.format()</a>, <a class="el" href="a07835.html#a94e8e650381ee883f7c6b9911d9468c2">Loggings.getResources()</a>, <a class="el" href="a07035.html#a63c298905b82697d517ee5911aa9d0a1">Registry.log()</a>, <a class="el" href="a07031.html#a4ba7d667bd2c11bb15f09506d145b31e">NodataFilter.OPERATION_NAME</a>, <a class="el" href="a07023.html#a4ba7d667bd2c11bb15f09506d145b31e">Hysteresis.OPERATION_NAME</a>, <a class="el" href="a07055.html#a4ba7d667bd2c11bb15f09506d145b31e">SilhouetteMask.OPERATION_NAME</a>, <a class="el" href="a07007.html#a4ba7d667bd2c11bb15f09506d145b31e">Combine.OPERATION_NAME</a>, and <a class="el" href="a07839.html#af8f879809d1dc99a91ec573549f8b7cc">Loggings.Keys.RegisteredJaiOperations</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06903.html#acc3dd720cb527ba4e667680650bc2454">Setup.initialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                                                                       {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        LogRecord record;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        String op = PRODUCT_NAME;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            op = <a class="code" href="a07007.html">Combine</a>.<a class="code" href="a07007.html#a4ba7d667bd2c11bb15f09506d145b31e">OPERATION_NAME</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            registry.registerDescriptor(<span class="keyword">new</span> <a class="code" href="a07131.html">CombineDescriptor</a>());</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            RIFRegistry.register(registry, op, PRODUCT_NAME, <span class="keyword">new</span> <a class="code" href="a07127.html">CombineCRIF</a>());</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            op = <a class="code" href="a07023.html">Hysteresis</a>.<a class="code" href="a07023.html#a4ba7d667bd2c11bb15f09506d145b31e">OPERATION_NAME</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            registry.registerDescriptor(<span class="keyword">new</span> <a class="code" href="a07139.html">HysteresisDescriptor</a>());</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            RIFRegistry.register(registry, op, PRODUCT_NAME, <span class="keyword">new</span> <a class="code" href="a07135.html">HysteresisCRIF</a>());</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            op = <a class="code" href="a07031.html">NodataFilter</a>.<a class="code" href="a07031.html#a4ba7d667bd2c11bb15f09506d145b31e">OPERATION_NAME</a>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            registry.registerDescriptor(<span class="keyword">new</span> <a class="code" href="a07155.html">NodataFilterDescriptor</a>());</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            RIFRegistry.register(registry, op, PRODUCT_NAME, <span class="keyword">new</span> <a class="code" href="a07151.html">NodataFilterCRIF</a>());</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            op = <a class="code" href="a07055.html">SilhouetteMask</a>.<a class="code" href="a07055.html#a4ba7d667bd2c11bb15f09506d145b31e">OPERATION_NAME</a>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            registry.registerDescriptor(<span class="keyword">new</span> <a class="code" href="a07163.html">SilhouetteMaskDescriptor</a>());</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            RIFRegistry.register(registry, op, PRODUCT_NAME, <span class="keyword">new</span> <a class="code" href="a07159.html">SilhouetteMaskCRIF</a>());</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            record  = Loggings.format(Level.CONFIG, Loggings.Keys.RegisteredJaiOperations);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            op = null;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        } <span class="keywordflow">catch</span> (<a class="code" href="a14239.html">IllegalArgumentException</a> exception) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">             * Logs a message with the WARNING level, because DefaultProcessing class initialization</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">             * is likely to fails (since it tries to load operations declared in META-INF/services,</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">             * and some of them depend on JAI operations).</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            record = Loggings.getResources(null).getLogRecord(Level.WARNING,</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    Loggings.Keys.CantRegisterJaiOperation_1, op);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            record.setThrown(exception);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="a07035.html#a63c298905b82697d517ee5911aa9d0a1">log</a>(<span class="stringliteral">&quot;registerGeotoolkitServices&quot;</span>, record);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">return</span> op == null;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div><div class="ttc" id="a07055_html"><div class="ttname"><a href="a07055.html">org.geotoolkit.image.jai.SilhouetteMask</a></div><div class="ttdoc">Creates the silhouette of an image that isolates its content from its background. ...</div><div class="ttdef"><b>Definition:</b> SilhouetteMask.java:74</div></div>
<div class="ttc" id="a07155_html"><div class="ttname"><a href="a07155.html">org.geotoolkit.internal.image.jai.NodataFilterDescriptor</a></div><div class="ttdoc">The descriptor for the NodataFilter operation. </div><div class="ttdef"><b>Definition:</b> NodataFilterDescriptor.java:37</div></div>
<div class="ttc" id="a07163_html"><div class="ttname"><a href="a07163.html">org.geotoolkit.internal.image.jai.SilhouetteMaskDescriptor</a></div><div class="ttdoc">The descriptor for the SilhouetteMask operation. </div><div class="ttdef"><b>Definition:</b> SilhouetteMaskDescriptor.java:36</div></div>
<div class="ttc" id="a07023_html_a4ba7d667bd2c11bb15f09506d145b31e"><div class="ttname"><a href="a07023.html#a4ba7d667bd2c11bb15f09506d145b31e">org.geotoolkit.image.jai.Hysteresis.OPERATION_NAME</a></div><div class="ttdeci">static final String OPERATION_NAME</div><div class="ttdoc">The name of this operation in the JAI registry. </div><div class="ttdef"><b>Definition:</b> Hysteresis.java:56</div></div>
<div class="ttc" id="a07031_html_a4ba7d667bd2c11bb15f09506d145b31e"><div class="ttname"><a href="a07031.html#a4ba7d667bd2c11bb15f09506d145b31e">org.geotoolkit.image.jai.NodataFilter.OPERATION_NAME</a></div><div class="ttdeci">static final String OPERATION_NAME</div><div class="ttdoc">The name of this operation in the JAI registry. </div><div class="ttdef"><b>Definition:</b> NodataFilter.java:55</div></div>
<div class="ttc" id="a07031_html"><div class="ttname"><a href="a07031.html">org.geotoolkit.image.jai.NodataFilter</a></div><div class="ttdoc">Replaces Double#NaN values by the weighted average of neighbors values. </div><div class="ttdef"><b>Definition:</b> NodataFilter.java:50</div></div>
<div class="ttc" id="a07131_html"><div class="ttname"><a href="a07131.html">org.geotoolkit.internal.image.jai.CombineDescriptor</a></div><div class="ttdoc">The operation descriptor for the Combine operation. </div><div class="ttdef"><b>Definition:</b> CombineDescriptor.java:45</div></div>
<div class="ttc" id="a07151_html"><div class="ttname"><a href="a07151.html">org.geotoolkit.internal.image.jai.NodataFilterCRIF</a></div><div class="ttdoc">The factory for the NodataFilter operation. </div><div class="ttdef"><b>Definition:</b> NodataFilterCRIF.java:39</div></div>
<div class="ttc" id="a07007_html"><div class="ttname"><a href="a07007.html">org.geotoolkit.image.jai.Combine</a></div><div class="ttdoc">Computes a set of arbitrary linear combinations of the bands of many rendered source images...</div><div class="ttdef"><b>Definition:</b> Combine.java:86</div></div>
<div class="ttc" id="a14239_html"><div class="ttname"><a href="a14239.html">IllegalArgumentException</a></div></div>
<div class="ttc" id="a07055_html_a4ba7d667bd2c11bb15f09506d145b31e"><div class="ttname"><a href="a07055.html#a4ba7d667bd2c11bb15f09506d145b31e">org.geotoolkit.image.jai.SilhouetteMask.OPERATION_NAME</a></div><div class="ttdeci">static final String OPERATION_NAME</div><div class="ttdoc">The name of this operation in the JAI registry. </div><div class="ttdef"><b>Definition:</b> SilhouetteMask.java:79</div></div>
<div class="ttc" id="a07139_html"><div class="ttname"><a href="a07139.html">org.geotoolkit.internal.image.jai.HysteresisDescriptor</a></div><div class="ttdoc">The descriptor for the Hysteresis operation. </div><div class="ttdef"><b>Definition:</b> HysteresisDescriptor.java:37</div></div>
<div class="ttc" id="a07127_html"><div class="ttname"><a href="a07127.html">org.geotoolkit.internal.image.jai.CombineCRIF</a></div><div class="ttdoc">The image factory for the Combine operation. </div><div class="ttdef"><b>Definition:</b> CombineCRIF.java:43</div></div>
<div class="ttc" id="a07035_html_a63c298905b82697d517ee5911aa9d0a1"><div class="ttname"><a href="a07035.html#a63c298905b82697d517ee5911aa9d0a1">org.geotoolkit.image.jai.Registry.log</a></div><div class="ttdeci">static void log(final String method, final LogRecord record)</div><div class="ttdoc">Logs the specified record. </div><div class="ttdef"><b>Definition:</b> Registry.java:308</div></div>
<div class="ttc" id="a07007_html_a4ba7d667bd2c11bb15f09506d145b31e"><div class="ttname"><a href="a07007.html#a4ba7d667bd2c11bb15f09506d145b31e">org.geotoolkit.image.jai.Combine.OPERATION_NAME</a></div><div class="ttdeci">static final String OPERATION_NAME</div><div class="ttdoc">The name of this operation in the JAI registry. </div><div class="ttdef"><b>Definition:</b> Combine.java:91</div></div>
<div class="ttc" id="a07159_html"><div class="ttname"><a href="a07159.html">org.geotoolkit.internal.image.jai.SilhouetteMaskCRIF</a></div><div class="ttdoc">The factory for the SilhouetteMask operation. </div><div class="ttdef"><b>Definition:</b> SilhouetteMaskCRIF.java:39</div></div>
<div class="ttc" id="a07135_html"><div class="ttname"><a href="a07135.html">org.geotoolkit.internal.image.jai.HysteresisCRIF</a></div><div class="ttdoc">The factory for the Hysteresis operation. </div><div class="ttdef"><b>Definition:</b> HysteresisCRIF.java:39</div></div>
<div class="ttc" id="a07023_html"><div class="ttname"><a href="a07023.html">org.geotoolkit.image.jai.Hysteresis</a></div><div class="ttdoc">Applies a hysteresis threshold on an image. </div><div class="ttdef"><b>Definition:</b> Hysteresis.java:51</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c4ba200b76ea53e78a1ea9aaad679fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c4ba200b76ea53e78a1ea9aaad679fe">&#9670;&nbsp;</a></span>setDefaultCodecPreferences()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static synchronized void setDefaultCodecPreferences </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the default preferred order for JAI and Java standard codec. </p>
<p>This method invokes <a class="el" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a> for some well-known formats. </p>
<p><b>TIP:</b> Experience suggests that on some platforms, new codecs appear magically after an AWT window has been created (e.g. "Standard TIFF image reader"). If this method is to be invoked for a graphical application, it is recommended to invoke this method <b>after</b> the  java.awt.Window} has been created but before it is made visible.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a03856.html">org.geotoolkit.image.io</a> </dd>
<dd>
<a class="el" href="a07363.html" title="A central place where to perform initialization and shutdown of all Geotk services. ">org.geotoolkit.lang.Setup</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.00 </dd></dl>

<p class="reference">References <a class="el" href="a07035.html#af2346016f945ebdce01089452088457a">Registry.setNativeCodecAllowed()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06903.html#acc3dd720cb527ba4e667680650bc2454">Setup.initialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                                                 {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">         * NOTE: If the rules below are modified, then the rules in</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">         *       the following method shall be modified accordingly:</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">         * org.geotoolkit.internal.image.io.Formats.getReaderByFormatName(String)</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a>(<span class="stringliteral">&quot;GIF&quot;</span>,   ImageReaderSpi.class, <span class="keyword">false</span>);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <a class="code" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a>(<span class="stringliteral">&quot;GIF&quot;</span>,   ImageWriterSpi.class, <span class="keyword">false</span>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a>(<span class="stringliteral">&quot;PNG&quot;</span>,   ImageReaderSpi.class, <span class="keyword">false</span>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a>(<span class="stringliteral">&quot;PNG&quot;</span>,   ImageWriterSpi.class, <span class="keyword">false</span>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a>(<span class="stringliteral">&quot;BMP&quot;</span>,   ImageReaderSpi.class, <span class="keyword">false</span>);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <a class="code" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a>(<span class="stringliteral">&quot;BMP&quot;</span>,   ImageWriterSpi.class, <span class="keyword">false</span>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a>(<span class="stringliteral">&quot;WBMP&quot;</span>,  ImageReaderSpi.class, <span class="keyword">false</span>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a>(<span class="stringliteral">&quot;WBMP&quot;</span>,  ImageWriterSpi.class, <span class="keyword">false</span>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a>(<span class="stringliteral">&quot;JPEG&quot;</span>,  ImageReaderSpi.class, <span class="keyword">false</span>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a>(<span class="stringliteral">&quot;JPEG&quot;</span>,  ImageWriterSpi.class, <span class="keyword">false</span>);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <a class="code" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a>(<span class="stringliteral">&quot;TIFF&quot;</span>,  ImageReaderSpi.class, <span class="keyword">true</span>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="a07035.html#af2346016f945ebdce01089452088457a">setNativeCodecAllowed</a>(<span class="stringliteral">&quot;TIFF&quot;</span>,  ImageWriterSpi.class, <span class="keyword">true</span>);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div><div class="ttc" id="a07035_html_af2346016f945ebdce01089452088457a"><div class="ttname"><a href="a07035.html#af2346016f945ebdce01089452088457a">org.geotoolkit.image.jai.Registry.setNativeCodecAllowed</a></div><div class="ttdeci">static synchronized&lt; T extends ImageReaderWriterSpi &gt; void setNativeCodecAllowed(final String format, final Class&lt; T &gt; category, final boolean allowed)</div><div class="ttdoc">Allows or disallows native acceleration for the specified image format. </div><div class="ttdef"><b>Definition:</b> Registry.java:221</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a010221b7211b0e51e2af0b1514bda1a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a010221b7211b0e51e2af0b1514bda1a6">&#9670;&nbsp;</a></span>setNativeAccelerationAllowed() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static synchronized void setNativeAccelerationAllowed </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final boolean&#160;</td>
          <td class="paramname"><em>allowed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final JAI&#160;</td>
          <td class="paramname"><em>jai</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows or disallows native acceleration for the specified operation on the given JAI instance. </p>
<p>By default, JAI uses hardware accelerated methods when available. For example, it makes use of MMX instructions on Intel processors. Unfortunately, some native methods crash the Java Virtual Machine under some circumstances. For example on JAI 1.1.2, the</p><div class="fragment"><div class="line"><span class="stringliteral">&quot;Affine&quot;</span> </div></div><!-- fragment --><p> operation on an image with float data type, bilinear interpolation and an <a class="el" href="">javax.media.jai.ImageLayout</a> rendering hint cause an exception in medialib native code. Disabling the native acceleration (i.e using the pure Java version) is a convenient workaround until Sun fix the bug.</p>
<p>{</p><dl class="section note"><dt>Note</dt><dd>The current implementation assumes that factories for native implementations are declared in the <code>com.sun.media.jai.mlib</code> package, while factories for pure Java implementations are declared in the <code>com.sun.media.jai.opimage</code> package. It works for Sun's 1.1.2 implementation, but may change in future versions. If this method doesn't recognize the package, it does nothing.}</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">operation</td><td>The operation name (e.g.<div class="fragment"><div class="line"><span class="stringliteral">&quot;Affine&quot;</span> </div></div><!-- fragment --> ). </td></tr>
    <tr><td class="paramname">allowed</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a07835.html#a621802aa7d89b0bf76fab832b7200b9c">Loggings.format()</a>, <a class="el" href="a07035.html#a63c298905b82697d517ee5911aa9d0a1">Registry.log()</a>, and <a class="el" href="a07839.html#a535a3f65ec2834b06fb2f8aa94ccb445">Loggings.Keys.NativeAccelerationState_2</a>.</p>

<p class="reference">Referenced by <a class="el" href="a07035.html#a73bedb18f00b780f5acd87b359e74ea0">Registry.setNativeAccelerationAllowed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keyword">final</span> String product = <span class="stringliteral">&quot;com.sun.media.jai&quot;</span>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keyword">final</span> OperationRegistry registry = jai.getOperationRegistry();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        @SuppressWarnings(<span class="stringliteral">&quot;unchecked&quot;</span>)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        final List&lt;RenderedImageFactory&gt; factories = registry.getOrderedFactoryList(</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                RenderedRegistryMode.MODE_NAME, operation, product);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        if (factories != null) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            RenderedImageFactory   javaFactory = null;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            RenderedImageFactory nativeFactory = null;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            Boolean               currentState = null;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">final</span> RenderedImageFactory factory : factories) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="keyword">final</span> String pack = factory.getClass().getPackage().getName();</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordflow">if</span> (pack.equals(<span class="stringliteral">&quot;com.sun.media.jai.mlib&quot;</span>)) {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                    nativeFactory = factory;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    <span class="keywordflow">if</span> (javaFactory != null) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                        currentState = Boolean.FALSE;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <span class="keywordflow">if</span> (pack.equals(<span class="stringliteral">&quot;com.sun.media.jai.opimage&quot;</span>)) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    javaFactory = factory;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    <span class="keywordflow">if</span> (nativeFactory != null) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                        currentState = Boolean.TRUE;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                    }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">if</span> (currentState != null &amp;&amp; currentState.booleanValue() != allowed) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                RIFRegistry.unsetPreference(registry, operation, product,</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        allowed ? javaFactory : nativeFactory,</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        allowed ? nativeFactory : javaFactory);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                RIFRegistry.setPreference(registry, operation, product,</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        allowed ? nativeFactory : javaFactory,</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        allowed ? javaFactory : nativeFactory);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keyword">final</span> LogRecord record = Loggings.format(Level.CONFIG,</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        Loggings.Keys.NativeAccelerationState_2,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                        operation, Integer.valueOf(allowed ? 1 : 0));</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                <a class="code" href="a07035.html#a63c298905b82697d517ee5911aa9d0a1">log</a>(<span class="stringliteral">&quot;setNativeAccelerationAllowed&quot;</span>, record);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div><div class="ttc" id="a07035_html_a63c298905b82697d517ee5911aa9d0a1"><div class="ttname"><a href="a07035.html#a63c298905b82697d517ee5911aa9d0a1">org.geotoolkit.image.jai.Registry.log</a></div><div class="ttdeci">static void log(final String method, final LogRecord record)</div><div class="ttdoc">Logs the specified record. </div><div class="ttdef"><b>Definition:</b> Registry.java:308</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a73bedb18f00b780f5acd87b359e74ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73bedb18f00b780f5acd87b359e74ea0">&#9670;&nbsp;</a></span>setNativeAccelerationAllowed() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void setNativeAccelerationAllowed </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final boolean&#160;</td>
          <td class="paramname"><em>allowed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows or disallows native acceleration for the specified operation on the  JAI::getDefaultInstance default JAI instance}. </p>
<p>This method is a shortcut for <code> <a class="el" href="a07035.html#a010221b7211b0e51e2af0b1514bda1a6" title="Allows or disallows native acceleration for the specified operation on the given JAI instance...">setNativeAccelerationAllowed(String,boolean,JAI)</a> setNativeAccelerationAllowed}(operation, allowed, JAI.getDefaultInstance())</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">operation</td><td>The operation name (e.g.<div class="fragment"><div class="line"><span class="stringliteral">&quot;Affine&quot;</span> </div></div><!-- fragment --> ). </td></tr>
    <tr><td class="paramname">allowed</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a07035.html#a010221b7211b0e51e2af0b1514bda1a6">Registry.setNativeAccelerationAllowed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                                                                                   {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="a07035.html#a010221b7211b0e51e2af0b1514bda1a6">setNativeAccelerationAllowed</a>(operation, allowed, JAI.getDefaultInstance());</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div><div class="ttc" id="a07035_html_a010221b7211b0e51e2af0b1514bda1a6"><div class="ttname"><a href="a07035.html#a010221b7211b0e51e2af0b1514bda1a6">org.geotoolkit.image.jai.Registry.setNativeAccelerationAllowed</a></div><div class="ttdeci">static synchronized void setNativeAccelerationAllowed(final String operation, final boolean allowed, final JAI jai)</div><div class="ttdoc">Allows or disallows native acceleration for the specified operation on the given JAI instance...</div><div class="ttdef"><b>Definition:</b> Registry.java:141</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2346016f945ebdce01089452088457a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2346016f945ebdce01089452088457a">&#9670;&nbsp;</a></span>setNativeCodecAllowed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static synchronized&lt;T extends ImageReaderWriterSpi&gt; void setNativeCodecAllowed </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Class&lt; T &gt;&#160;</td>
          <td class="paramname"><em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final boolean&#160;</td>
          <td class="paramname"><em>allowed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows or disallows native acceleration for the specified image format. </p>
<p>By default, the image I/O extension for JAI provides native acceleration for PNG and JPEG. Unfortunately, those native codecs have bug in their 1.0 version. Invoking this method will force the use of standard codecs provided in J2SE 1.4.</p>
<p>{</p><dl class="section note"><dt>Note</dt><dd>The current implementation assumes that JAI codec class name start with <code>"com.sun.media"</code> package name. It works for JAI Image I/O 1.1 implementation, but may change in future versions. If this method doesn't recognize the class name, then it does nothing.}</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;T&gt;</td><td>The category (<div class="fragment"><div class="line">ImageReaderSpi </div></div><!-- fragment --> or<div class="fragment"><div class="line">ImageWriterSpi </div></div><!-- fragment --> ). </td></tr>
    <tr><td class="paramname">format</td><td>The format name (e.g.<div class="fragment"><div class="line"><span class="stringliteral">&quot;png&quot;</span> </div></div><!-- fragment --> ). </td></tr>
    <tr><td class="paramname">category</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a07835.html#a621802aa7d89b0bf76fab832b7200b9c">Loggings.format()</a>, <a class="el" href="a07035.html#a63c298905b82697d517ee5911aa9d0a1">Registry.log()</a>, and <a class="el" href="a07839.html#a19bab5587e83de38cfd1938a1c20a993">Loggings.Keys.NativeCodecState_3</a>.</p>

<p class="reference">Referenced by <a class="el" href="a07035.html#a2c4ba200b76ea53e78a1ea9aaad679fe">Registry.setDefaultCodecPreferences()</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        T standard = null;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        T codeclib = null;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keyword">final</span> ServiceRegistry registry = IIORegistry.getDefaultInstance();</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">final</span> Iterator&lt;T&gt; it = registry.getServiceProviders(category, <span class="keyword">false</span>); it.hasNext();) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keyword">final</span> T provider = it.next();</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="keyword">final</span> String[] formats = provider.getFormatNames();</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;formats.length; i++) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <span class="keywordflow">if</span> (formats[i].equalsIgnoreCase(format)) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    <span class="comment">/*</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">                     * NOTE: The following method uses the same rule for identifying JAI codecs.</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">                     *       If we change the way to identify those codecs here, we should do the</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">                     *       same for the other method.</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">                     *</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">                     * org.geotoolkit.internal.image.io.Formats.getReaderByFormatName(String)</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    <span class="keyword">final</span> String classname = provider.getClass().getName();</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    <span class="keywordflow">if</span> (classname.startsWith(<span class="stringliteral">&quot;com.sun.media.&quot;</span>)) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                        codeclib = provider;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    <span class="keywordflow">if</span> (classname.startsWith(<span class="stringliteral">&quot;com.sun.imageio.&quot;</span>)) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                        standard = provider;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">if</span> (standard != null &amp;&amp; codeclib != null) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">boolean</span> changed;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">if</span> (allowed) {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                changed = registry.setOrdering(category, codeclib, standard);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                changed = registry.setOrdering(category, standard, codeclib);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">if</span> (changed) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                <span class="keyword">final</span> LogRecord record = Loggings.format(Level.CONFIG,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                        Loggings.Keys.NativeCodecState_3,</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                        format, Integer.valueOf(allowed ? 1 : 0),</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                        Integer.valueOf(ImageWriterSpi.class.isAssignableFrom(category) ? 1 : 0));</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                <a class="code" href="a07035.html#a63c298905b82697d517ee5911aa9d0a1">log</a>(<span class="stringliteral">&quot;setNativeCodecAllowed&quot;</span>, record);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    }</div><div class="ttc" id="a07035_html_a63c298905b82697d517ee5911aa9d0a1"><div class="ttname"><a href="a07035.html#a63c298905b82697d517ee5911aa9d0a1">org.geotoolkit.image.jai.Registry.log</a></div><div class="ttdeci">static void log(final String method, final LogRecord record)</div><div class="ttdoc">Logs the specified record. </div><div class="ttdef"><b>Definition:</b> Registry.java:308</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a03833.html">org</a></li><li class="navelem"><a class="el" href="a03842.html">geotoolkit</a></li><li class="navelem"><a class="el" href="a03850.html">image</a></li><li class="navelem"><a class="el" href="a03857.html">jai</a></li><li class="navelem"><a class="el" href="a07035.html">Registry</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
