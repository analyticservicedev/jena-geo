<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jena-geo: Threads Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">jena-geo
   &#160;<span id="projectnumber">Version 0.1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a07223.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pac-static-methods">Static Package Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="a07220.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Threads Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Utilities methods for threads.  
 <a href="a07223.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Threads:</div>
<div class="dyncontent">
<div class="center"><img src="a07222.png" border="0" usemap="#Threads_inherit__map" alt="Inheritance graph"/></div>
<map name="Threads_inherit__map" id="Threads_inherit__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Threads:</div>
<div class="dyncontent">
<div class="center"><img src="a07221.png" border="0" usemap="#Threads_coll__map" alt="Collaboration graph"/></div>
<map name="Threads_coll__map" id="Threads_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a68a7804afab93ee43711a110255a335b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a14159.html">Thread</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a68a7804afab93ee43711a110255a335b">newThread</a> (final <a class="el" href="a14175.html">Runnable</a> task)</td></tr>
<tr class="memdesc:a68a7804afab93ee43711a110255a335b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked when a new thread needs to be created.  <a href="#a68a7804afab93ee43711a110255a335b">More...</a><br /></td></tr>
<tr class="separator:a68a7804afab93ee43711a110255a335b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a782b030077b906e18a7ae85f1f2b663f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a782b030077b906e18a7ae85f1f2b663f">rejectedExecution</a> (final <a class="el" href="a14175.html">Runnable</a> task, final ThreadPoolExecutor executor)</td></tr>
<tr class="memdesc:a782b030077b906e18a7ae85f1f2b663f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked when a task can not be accepted because the queue is full and the maximal number of threads have been reached.  <a href="#a782b030077b906e18a7ae85f1f2b663f">More...</a><br /></td></tr>
<tr class="separator:a782b030077b906e18a7ae85f1f2b663f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4d7ebbfb53fab390d9a5ca952dfdd270"><td class="memItemLeft" align="right" valign="top">static ThreadFactory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a4d7ebbfb53fab390d9a5ca952dfdd270">createThreadFactory</a> (final String <a class="el" href="a07223.html#ab9aa80baa8113e20a123650a1e9d9a29">prefix</a>)</td></tr>
<tr class="memdesc:a4d7ebbfb53fab390d9a5ca952dfdd270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a factory for worker threads created by the Geotk library.  <a href="#a4d7ebbfb53fab390d9a5ca952dfdd270">More...</a><br /></td></tr>
<tr class="separator:a4d7ebbfb53fab390d9a5ca952dfdd270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25aef932cc73e15ab1aa6f5f2e649245"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a25aef932cc73e15ab1aa6f5f2e649245">executeWork</a> (final <a class="el" href="a14175.html">Runnable</a> task)</td></tr>
<tr class="memdesc:a25aef932cc73e15ab1aa6f5f2e649245"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the given task in a worker thread.  <a href="#a25aef932cc73e15ab1aa6f5f2e649245">More...</a><br /></td></tr>
<tr class="separator:a25aef932cc73e15ab1aa6f5f2e649245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63ac33da3ee4f78bb80d193f6ec53873"><td class="memItemLeft" align="right" valign="top">static&lt; T &gt; Future&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a63ac33da3ee4f78bb80d193f6ec53873">submitWork</a> (final Callable&lt; T &gt; task)</td></tr>
<tr class="memdesc:a63ac33da3ee4f78bb80d193f6ec53873"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the given task in a worker thread.  <a href="#a63ac33da3ee4f78bb80d193f6ec53873">More...</a><br /></td></tr>
<tr class="separator:a63ac33da3ee4f78bb80d193f6ec53873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71d93baed04965242a6bb1593d1ae799"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a71d93baed04965242a6bb1593d1ae799">executeDisposal</a> (final <a class="el" href="a14175.html">Runnable</a> task, final long delay)</td></tr>
<tr class="memdesc:a71d93baed04965242a6bb1593d1ae799"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the given task in a disposer thread after the given delay.  <a href="#a71d93baed04965242a6bb1593d1ae799">More...</a><br /></td></tr>
<tr class="separator:a71d93baed04965242a6bb1593d1ae799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfa1af04e925fc21518fe880df9e408"><td class="memItemLeft" align="right" valign="top">static synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a4cfa1af04e925fc21518fe880df9e408">shutdown</a> ()</td></tr>
<tr class="memdesc:a4cfa1af04e925fc21518fe880df9e408"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdowns the executors and wait for the non-daemon threads to complete.  <a href="#a4cfa1af04e925fc21518fe880df9e408">More...</a><br /></td></tr>
<tr class="separator:a4cfa1af04e925fc21518fe880df9e408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1996dcc3d125d109226950244f10fb63"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="a14159.html">Thread</a> []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a1996dcc3d125d109226950244f10fb63">getNonDaemonThreads</a> ()</td></tr>
<tr class="memdesc:a1996dcc3d125d109226950244f10fb63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns every threads that are not  Thread::isDaemon() daemon}.  <a href="#a1996dcc3d125d109226950244f10fb63">More...</a><br /></td></tr>
<tr class="separator:a1996dcc3d125d109226950244f10fb63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a09be853e1a4b39f830c63559abf5085a"><td class="memItemLeft" align="right" valign="top">static final ThreadGroup&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a09be853e1a4b39f830c63559abf5085a">GEOTOOLKIT</a></td></tr>
<tr class="memdesc:a09be853e1a4b39f830c63559abf5085a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The parent of every threads declared in this class.  <a href="#a09be853e1a4b39f830c63559abf5085a">More...</a><br /></td></tr>
<tr class="separator:a09be853e1a4b39f830c63559abf5085a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7bb5cbf762d36dcb626f75190076564"><td class="memItemLeft" align="right" valign="top">static final ThreadGroup&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#ad7bb5cbf762d36dcb626f75190076564">RESOURCE_DISPOSERS</a> = new ThreadGroup(<a class="el" href="a07223.html#a09be853e1a4b39f830c63559abf5085a">GEOTOOLKIT</a>, &quot;ResourceDisposers&quot;)</td></tr>
<tr class="memdesc:ad7bb5cbf762d36dcb626f75190076564"><td class="mdescLeft">&#160;</td><td class="mdescRight">The group of threads disposing resources, typically after a timeout.  <a href="#ad7bb5cbf762d36dcb626f75190076564">More...</a><br /></td></tr>
<tr class="separator:ad7bb5cbf762d36dcb626f75190076564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa32aa73ef9b4953977547390973a9baa"><td class="memItemLeft" align="right" valign="top">static final ThreadGroup&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#aa32aa73ef9b4953977547390973a9baa">WORKERS</a> = new ThreadGroup(<a class="el" href="a07223.html#a09be853e1a4b39f830c63559abf5085a">GEOTOOLKIT</a>, &quot;Workers&quot;)</td></tr>
<tr class="memdesc:aa32aa73ef9b4953977547390973a9baa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The group of workers to run in a background thread.  <a href="#aa32aa73ef9b4953977547390973a9baa">More...</a><br /></td></tr>
<tr class="separator:aa32aa73ef9b4953977547390973a9baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-static-methods"></a>
Static Package Functions</h2></td></tr>
<tr class="memitem:a2e87c5ede6b7235170d287cd2e254454"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a2e87c5ede6b7235170d287cd2e254454">[static initializer]</a></td></tr>
<tr class="separator:a2e87c5ede6b7235170d287cd2e254454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e87c5ede6b7235170d287cd2e254454"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a2e87c5ede6b7235170d287cd2e254454">[static initializer]</a></td></tr>
<tr class="separator:a2e87c5ede6b7235170d287cd2e254454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e87c5ede6b7235170d287cd2e254454"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a2e87c5ede6b7235170d287cd2e254454">[static initializer]</a></td></tr>
<tr class="separator:a2e87c5ede6b7235170d287cd2e254454"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ade8e2f923ffede874cd7727309f719b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#ade8e2f923ffede874cd7727309f719b6">Threads</a> (final boolean <a class="el" href="a07223.html#a06a3d0b95fc83ae4cb90e14faab19ea0">disposer</a>, final boolean <a class="el" href="a07223.html#a45171be3c057ca3022caba5722eb29da">daemon</a>, final String <a class="el" href="a07223.html#ab9aa80baa8113e20a123650a1e9d9a29">prefix</a>)</td></tr>
<tr class="memdesc:ade8e2f923ffede874cd7727309f719b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">For internal usage only.  <a href="#ade8e2f923ffede874cd7727309f719b6">More...</a><br /></td></tr>
<tr class="separator:ade8e2f923ffede874cd7727309f719b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a06a3d0b95fc83ae4cb90e14faab19ea0"><td class="memItemLeft" align="right" valign="top">final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a06a3d0b95fc83ae4cb90e14faab19ea0">disposer</a></td></tr>
<tr class="separator:a06a3d0b95fc83ae4cb90e14faab19ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45171be3c057ca3022caba5722eb29da"><td class="memItemLeft" align="right" valign="top">final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a45171be3c057ca3022caba5722eb29da">daemon</a></td></tr>
<tr class="separator:a45171be3c057ca3022caba5722eb29da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9aa80baa8113e20a123650a1e9d9a29"><td class="memItemLeft" align="right" valign="top">final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#ab9aa80baa8113e20a123650a1e9d9a29">prefix</a></td></tr>
<tr class="memdesc:ab9aa80baa8113e20a123650a1e9d9a29"><td class="mdescLeft">&#160;</td><td class="mdescRight">The prefix to put at the beginning of thread names.  <a href="#ab9aa80baa8113e20a123650a1e9d9a29">More...</a><br /></td></tr>
<tr class="separator:ab9aa80baa8113e20a123650a1e9d9a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a8a2b40e22cb8ffd331113b10b32e1329"><td class="memItemLeft" align="right" valign="top">static final ExecutorService&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#a8a2b40e22cb8ffd331113b10b32e1329">WORK_EXECUTOR</a></td></tr>
<tr class="memdesc:a8a2b40e22cb8ffd331113b10b32e1329"><td class="mdescLeft">&#160;</td><td class="mdescRight">The executor for non-disposal works.  <a href="#a8a2b40e22cb8ffd331113b10b32e1329">More...</a><br /></td></tr>
<tr class="separator:a8a2b40e22cb8ffd331113b10b32e1329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9dbe6df442a8851e1e16ade09ad3c9b"><td class="memItemLeft" align="right" valign="top">static final ScheduledExecutorService&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07223.html#ab9dbe6df442a8851e1e16ade09ad3c9b">DISPOSAL_EXECUTOR</a></td></tr>
<tr class="memdesc:ab9dbe6df442a8851e1e16ade09ad3c9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The executor for disposal tasks.  <a href="#ab9dbe6df442a8851e1e16ade09ad3c9b">More...</a><br /></td></tr>
<tr class="separator:ab9dbe6df442a8851e1e16ade09ad3c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utilities methods for threads. </p>
<p>This class declares in a single place every <a class="el" href="">ThreadGroup</a> used in Geotk. Their purpose is only to put a little bit of order in debugger informations, by grouping the threads created by Geotk together under the same parent tree node.</p>
<dl class="section author"><dt>Author</dt><dd>Martin Desruisseaux (Geomatys) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>3.19</dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.03  </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ade8e2f923ffede874cd7727309f719b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade8e2f923ffede874cd7727309f719b6">&#9670;&nbsp;</a></span>Threads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a07223.html">Threads</a> </td>
          <td>(</td>
          <td class="paramtype">final boolean&#160;</td>
          <td class="paramname"><em>disposer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final boolean&#160;</td>
          <td class="paramname"><em>daemon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For internal usage only. </p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                                                                       {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        this.<a class="code" href="a07223.html#a06a3d0b95fc83ae4cb90e14faab19ea0">disposer</a> = <a class="code" href="a07223.html#a06a3d0b95fc83ae4cb90e14faab19ea0">disposer</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        this.<a class="code" href="a07223.html#a45171be3c057ca3022caba5722eb29da">daemon</a>   = <a class="code" href="a07223.html#a45171be3c057ca3022caba5722eb29da">daemon</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        this.<a class="code" href="a07223.html#ab9aa80baa8113e20a123650a1e9d9a29">prefix</a>   = <a class="code" href="a07223.html#ab9aa80baa8113e20a123650a1e9d9a29">prefix</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div><div class="ttc" id="a07223_html_a45171be3c057ca3022caba5722eb29da"><div class="ttname"><a href="a07223.html#a45171be3c057ca3022caba5722eb29da">org.geotoolkit.internal.Threads.daemon</a></div><div class="ttdeci">final boolean daemon</div><div class="ttdef"><b>Definition:</b> Threads.java:137</div></div>
<div class="ttc" id="a07223_html_ab9aa80baa8113e20a123650a1e9d9a29"><div class="ttname"><a href="a07223.html#ab9aa80baa8113e20a123650a1e9d9a29">org.geotoolkit.internal.Threads.prefix</a></div><div class="ttdeci">final String prefix</div><div class="ttdoc">The prefix to put at the beginning of thread names. </div><div class="ttdef"><b>Definition:</b> Threads.java:142</div></div>
<div class="ttc" id="a07223_html_a06a3d0b95fc83ae4cb90e14faab19ea0"><div class="ttname"><a href="a07223.html#a06a3d0b95fc83ae4cb90e14faab19ea0">org.geotoolkit.internal.Threads.disposer</a></div><div class="ttdeci">final boolean disposer</div><div class="ttdef"><b>Definition:</b> Threads.java:132</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2e87c5ede6b7235170d287cd2e254454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e87c5ede6b7235170d287cd2e254454">&#9670;&nbsp;</a></span>[static initializer]() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">[static initializer] </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2e87c5ede6b7235170d287cd2e254454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e87c5ede6b7235170d287cd2e254454">&#9670;&nbsp;</a></span>[static initializer]() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">[static initializer] </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2e87c5ede6b7235170d287cd2e254454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e87c5ede6b7235170d287cd2e254454">&#9670;&nbsp;</a></span>[static initializer]() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">[static initializer] </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4d7ebbfb53fab390d9a5ca952dfdd270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d7ebbfb53fab390d9a5ca952dfdd270">&#9670;&nbsp;</a></span>createThreadFactory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ThreadFactory createThreadFactory </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>prefix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a factory for worker threads created by the Geotk library. </p>
<p>This factory should be used by every method that use <a class="el" href="">java.util.concurrent.Executors</a> directly rather than the</p><div class="fragment"><div class="line">execute </div></div><!-- fragment --><p> methods provided in this class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prefix</td><td>The prefix to put in front of thread names. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The thread factory.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.17 </dd></dl>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                                                         {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="a07223.html#ade8e2f923ffede874cd7727309f719b6">Threads</a>(<span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code" href="a07223.html#ab9aa80baa8113e20a123650a1e9d9a29">prefix</a>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div><div class="ttc" id="a07223_html_ade8e2f923ffede874cd7727309f719b6"><div class="ttname"><a href="a07223.html#ade8e2f923ffede874cd7727309f719b6">org.geotoolkit.internal.Threads.Threads</a></div><div class="ttdeci">Threads(final boolean disposer, final boolean daemon, final String prefix)</div><div class="ttdoc">For internal usage only. </div><div class="ttdef"><b>Definition:</b> Threads.java:147</div></div>
<div class="ttc" id="a07223_html_ab9aa80baa8113e20a123650a1e9d9a29"><div class="ttname"><a href="a07223.html#ab9aa80baa8113e20a123650a1e9d9a29">org.geotoolkit.internal.Threads.prefix</a></div><div class="ttdeci">final String prefix</div><div class="ttdoc">The prefix to put at the beginning of thread names. </div><div class="ttdef"><b>Definition:</b> Threads.java:142</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a71d93baed04965242a6bb1593d1ae799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71d93baed04965242a6bb1593d1ae799">&#9670;&nbsp;</a></span>executeDisposal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void executeDisposal </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="a14175.html">Runnable</a>&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final long&#160;</td>
          <td class="paramname"><em>delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes the given task in a disposer thread after the given delay. </p>
<p>The task is executed in a thread from the <a class="el" href="a07223.html#ad7bb5cbf762d36dcb626f75190076564">RESOURCE_DISPOSERS</a> group. They have a higher priority than the worker group and may be available even if the worker group is full.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to execute. </td></tr>
    <tr><td class="paramname">delay</td><td>The delay to wait before to execute the task, in milliseconds. May be zero for immediate execution.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>3.19 </dd></dl>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                                                              {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a class="code" href="a07223.html#ab9dbe6df442a8851e1e16ade09ad3c9b">DISPOSAL_EXECUTOR</a>.schedule(task, delay, TimeUnit.MILLISECONDS);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div><div class="ttc" id="a07223_html_ab9dbe6df442a8851e1e16ade09ad3c9b"><div class="ttname"><a href="a07223.html#ab9dbe6df442a8851e1e16ade09ad3c9b">org.geotoolkit.internal.Threads.DISPOSAL_EXECUTOR</a></div><div class="ttdeci">static final ScheduledExecutorService DISPOSAL_EXECUTOR</div><div class="ttdoc">The executor for disposal tasks. </div><div class="ttdef"><b>Definition:</b> Threads.java:123</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a25aef932cc73e15ab1aa6f5f2e649245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25aef932cc73e15ab1aa6f5f2e649245">&#9670;&nbsp;</a></span>executeWork()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void executeWork </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="a14175.html">Runnable</a>&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes the given task in a worker thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The work to execute.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>3.19 </dd></dl>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                        {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="a07223.html#a8a2b40e22cb8ffd331113b10b32e1329">WORK_EXECUTOR</a>.execute(task);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div><div class="ttc" id="a07223_html_a8a2b40e22cb8ffd331113b10b32e1329"><div class="ttname"><a href="a07223.html#a8a2b40e22cb8ffd331113b10b32e1329">org.geotoolkit.internal.Threads.WORK_EXECUTOR</a></div><div class="ttdeci">static final ExecutorService WORK_EXECUTOR</div><div class="ttdoc">The executor for non-disposal works. </div><div class="ttdef"><b>Definition:</b> Threads.java:104</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1996dcc3d125d109226950244f10fb63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1996dcc3d125d109226950244f10fb63">&#9670;&nbsp;</a></span>getNonDaemonThreads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="a14159.html">Thread</a> [] getNonDaemonThreads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns every threads that are not  Thread::isDaemon() daemon}. </p>
<p>This method is used only for debugging purpose in order to identify the threads which may be preventing an application to quit.</p>
<dl class="section return"><dt>Returns</dt><dd>All non-daemon threads found.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.17 </dd></dl>
<div class="fragment"><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                                 {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        ThreadGroup root = <a class="code" href="a14159.html">Thread</a>.currentThread().getThreadGroup();</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">for</span> (ThreadGroup parent; (parent = root.getParent()) != null;) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            root = parent;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="a14159.html">Thread</a>[] threads;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordtype">int</span> n = root.activeCount();</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">do</span> {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            threads = <span class="keyword">new</span> <a class="code" href="a14159.html">Thread</a>[n &lt;&lt; 1];</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            n = root.enumerate(threads);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        } <span class="keywordflow">while</span> (n == threads.length);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">         * Filter the threads, keeping only the non-daemon ones.</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordtype">int</span> nc = 0;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keyword">final</span> <a class="code" href="a14159.html">Thread</a> thread = threads[i];</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">if</span> (!thread.isDaemon()) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                threads[nc++] = thread;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">return</span> Arrays.copyOf(threads, nc);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div><div class="ttc" id="a14159_html"><div class="ttname"><a href="a14159.html">Thread</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a68a7804afab93ee43711a110255a335b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68a7804afab93ee43711a110255a335b">&#9670;&nbsp;</a></span>newThread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a14159.html">Thread</a> newThread </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="a14175.html">Runnable</a>&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoked when a new thread needs to be created. </p>
<p>This method is public as an implementation side-effect and should not be invoked directly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to execute. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new thread running the given task. </dd></dl>
<div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                                 {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keyword">final</span> String name = <a class="code" href="a07223.html#ab9aa80baa8113e20a123650a1e9d9a29">prefix</a> + incrementAndGet();</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keyword">final</span> <a class="code" href="a14159.html">Thread</a> thread = <span class="keyword">new</span> <a class="code" href="a14159.html">Thread</a>(<a class="code" href="a07223.html#a06a3d0b95fc83ae4cb90e14faab19ea0">disposer</a> ? <a class="code" href="a07223.html#ad7bb5cbf762d36dcb626f75190076564">RESOURCE_DISPOSERS</a> : <a class="code" href="a07223.html#aa32aa73ef9b4953977547390973a9baa">WORKERS</a>, task, name);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        thread.setPriority(<a class="code" href="a14159.html">Thread</a>.NORM_PRIORITY + 1); <span class="comment">// WORKERS group will lower this value.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        thread.setDaemon(<a class="code" href="a07223.html#a45171be3c057ca3022caba5722eb29da">daemon</a>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">return</span> thread;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div><div class="ttc" id="a07223_html_aa32aa73ef9b4953977547390973a9baa"><div class="ttname"><a href="a07223.html#aa32aa73ef9b4953977547390973a9baa">org.geotoolkit.internal.Threads.WORKERS</a></div><div class="ttdeci">static final ThreadGroup WORKERS</div><div class="ttdoc">The group of workers to run in a background thread. </div><div class="ttdef"><b>Definition:</b> Threads.java:87</div></div>
<div class="ttc" id="a07223_html_a45171be3c057ca3022caba5722eb29da"><div class="ttname"><a href="a07223.html#a45171be3c057ca3022caba5722eb29da">org.geotoolkit.internal.Threads.daemon</a></div><div class="ttdeci">final boolean daemon</div><div class="ttdef"><b>Definition:</b> Threads.java:137</div></div>
<div class="ttc" id="a07223_html_ab9aa80baa8113e20a123650a1e9d9a29"><div class="ttname"><a href="a07223.html#ab9aa80baa8113e20a123650a1e9d9a29">org.geotoolkit.internal.Threads.prefix</a></div><div class="ttdeci">final String prefix</div><div class="ttdoc">The prefix to put at the beginning of thread names. </div><div class="ttdef"><b>Definition:</b> Threads.java:142</div></div>
<div class="ttc" id="a07223_html_a06a3d0b95fc83ae4cb90e14faab19ea0"><div class="ttname"><a href="a07223.html#a06a3d0b95fc83ae4cb90e14faab19ea0">org.geotoolkit.internal.Threads.disposer</a></div><div class="ttdeci">final boolean disposer</div><div class="ttdef"><b>Definition:</b> Threads.java:132</div></div>
<div class="ttc" id="a14159_html"><div class="ttname"><a href="a14159.html">Thread</a></div></div>
<div class="ttc" id="a07223_html_ad7bb5cbf762d36dcb626f75190076564"><div class="ttname"><a href="a07223.html#ad7bb5cbf762d36dcb626f75190076564">org.geotoolkit.internal.Threads.RESOURCE_DISPOSERS</a></div><div class="ttdeci">static final ThreadGroup RESOURCE_DISPOSERS</div><div class="ttdoc">The group of threads disposing resources, typically after a timeout. </div><div class="ttdef"><b>Definition:</b> Threads.java:77</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a782b030077b906e18a7ae85f1f2b663f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a782b030077b906e18a7ae85f1f2b663f">&#9670;&nbsp;</a></span>rejectedExecution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rejectedExecution </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="a14175.html">Runnable</a>&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final ThreadPoolExecutor&#160;</td>
          <td class="paramname"><em>executor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoked when a task can not be accepted because the queue is full and the maximal number of threads have been reached. </p>
<p>This method blocks until a slot is made available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to execute. </td></tr>
    <tr><td class="paramname">executor</td><td>The executor that invoked this method. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                                                                          {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            executor.getQueue().put(task);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        } <span class="keywordflow">catch</span> (InterruptedException e) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> RejectedExecutionException(e);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a4cfa1af04e925fc21518fe880df9e408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cfa1af04e925fc21518fe880df9e408">&#9670;&nbsp;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static synchronized void shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shutdowns the executors and wait for the non-daemon threads to complete. </p>
<p>This method should be invoked only when we think that no more tasks are going to be submitted to the executor (it is actually hard to ensure that).</p>
<dl class="section since"><dt>Since</dt><dd>3.06 </dd></dl>

<p class="reference">Referenced by <a class="el" href="a07319.html#a4cfa1af04e925fc21518fe880df9e408">Setup.shutdown()</a>.</p>
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                                               {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">         * We can wait for the work executors to terminate, because its tasks are</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">         * executed immediately. However we can&#39;t wait for delayed tasks, because</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">         * the delay may be long. Executes those tasks now in this current thread.</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">         * We execute them in the same order than they would be executed if the</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">         * delay were honored.</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="a07223.html#a8a2b40e22cb8ffd331113b10b32e1329">WORK_EXECUTOR</a>.shutdown();</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <a class="code" href="a07223.html#ab9dbe6df442a8851e1e16ade09ad3c9b">DISPOSAL_EXECUTOR</a>.shutdown();</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keyword">final</span> ThreadPoolExecutor ex = (ThreadPoolExecutor) <a class="code" href="a07223.html#ab9dbe6df442a8851e1e16ade09ad3c9b">DISPOSAL_EXECUTOR</a>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">final</span> <a class="code" href="a14175.html">Runnable</a> task : ex.getQueue()) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">if</span> (ex.remove(task)) <span class="keywordflow">try</span> {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                task.run();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            } <span class="keywordflow">catch</span> (<a class="code" href="a14107.html">Exception</a> e) {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="comment">// Too late for logging since we are in process of shuting down.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                System.err.println(e);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="comment">// Wait for work completion. In theory, there is no disposal</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="comment">// completion to wait for, but we check anyway as a safety.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="a07223.html#a8a2b40e22cb8ffd331113b10b32e1329">WORK_EXECUTOR</a>    .awaitTermination(8, TimeUnit.SECONDS) ||</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                !<a class="code" href="a07223.html#ab9dbe6df442a8851e1e16ade09ad3c9b">DISPOSAL_EXECUTOR</a>.awaitTermination(2, TimeUnit.SECONDS))</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <span class="comment">// Check again in case one executor finished while we waited for the other.</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="a07223.html#a8a2b40e22cb8ffd331113b10b32e1329">WORK_EXECUTOR</a>.isTerminated() || !<a class="code" href="a07223.html#ab9dbe6df442a8851e1e16ade09ad3c9b">DISPOSAL_EXECUTOR</a>.isTerminated()) {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    <span class="comment">// We can&#39;t use java.util.logging at this point since we are shutting down.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                    System.err.println(<span class="stringliteral">&quot;NOTE: Some background threads didn&#39;t completed.&quot;</span>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        } <span class="keywordflow">catch</span> (InterruptedException e) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="comment">// Too late for logging since we are in process of shuting down.</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            System.err.println(e);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div><div class="ttc" id="a14175_html"><div class="ttname"><a href="a14175.html">Runnable</a></div></div>
<div class="ttc" id="a07223_html_a8a2b40e22cb8ffd331113b10b32e1329"><div class="ttname"><a href="a07223.html#a8a2b40e22cb8ffd331113b10b32e1329">org.geotoolkit.internal.Threads.WORK_EXECUTOR</a></div><div class="ttdeci">static final ExecutorService WORK_EXECUTOR</div><div class="ttdoc">The executor for non-disposal works. </div><div class="ttdef"><b>Definition:</b> Threads.java:104</div></div>
<div class="ttc" id="a07223_html_ab9dbe6df442a8851e1e16ade09ad3c9b"><div class="ttname"><a href="a07223.html#ab9dbe6df442a8851e1e16ade09ad3c9b">org.geotoolkit.internal.Threads.DISPOSAL_EXECUTOR</a></div><div class="ttdeci">static final ScheduledExecutorService DISPOSAL_EXECUTOR</div><div class="ttdoc">The executor for disposal tasks. </div><div class="ttdef"><b>Definition:</b> Threads.java:123</div></div>
<div class="ttc" id="a14107_html"><div class="ttname"><a href="a14107.html">Exception</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a63ac33da3ee4f78bb80d193f6ec53873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63ac33da3ee4f78bb80d193f6ec53873">&#9670;&nbsp;</a></span>submitWork()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static &lt;T&gt; Future&lt;T&gt; submitWork </td>
          <td>(</td>
          <td class="paramtype">final Callable&lt; T &gt;&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes the given task in a worker thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;T&gt;</td><td></td></tr>
    <tr><td class="paramname">task</td><td>The work to execute. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Futur result of the Callable</dd></dl>
<dl class="section since"><dt>Since</dt><dd>4.0.0 </dd></dl>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                                                                   {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="a07223.html#a8a2b40e22cb8ffd331113b10b32e1329">WORK_EXECUTOR</a>.submit(task);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div><div class="ttc" id="a07223_html_a8a2b40e22cb8ffd331113b10b32e1329"><div class="ttname"><a href="a07223.html#a8a2b40e22cb8ffd331113b10b32e1329">org.geotoolkit.internal.Threads.WORK_EXECUTOR</a></div><div class="ttdeci">static final ExecutorService WORK_EXECUTOR</div><div class="ttdoc">The executor for non-disposal works. </div><div class="ttdef"><b>Definition:</b> Threads.java:104</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a45171be3c057ca3022caba5722eb29da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45171be3c057ca3022caba5722eb29da">&#9670;&nbsp;</a></span>daemon</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final boolean daemon</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> if the threads to be created should be daemon threads. </p>

</div>
</div>
<a id="ab9dbe6df442a8851e1e16ade09ad3c9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9dbe6df442a8851e1e16ade09ad3c9b">&#9670;&nbsp;</a></span>DISPOSAL_EXECUTOR</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final ScheduledExecutorService DISPOSAL_EXECUTOR</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">            Executors.newScheduledThreadPool(1, <span class="keyword">new</span> <a class="code" href="a07223.html#ade8e2f923ffede874cd7727309f719b6">Threads</a>(<span class="keyword">true</span>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Disposer thread #&quot;</span>))</div></div><!-- fragment -->
<p>The executor for disposal tasks. </p>
<p>The tasks submitted to this executor should be only house-keeping works. The threads in this executor have a priority slightly higher than the normal priority. Their execution should complete quickly. </p>
<p>A single thread is sufficient since there is not so many tasks to submit, and they are expected to complete quickly. Because this executor acts as a fixed-size pool, we don't want to have too many threads spending 99% of their time idle. </p>

</div>
</div>
<a id="a06a3d0b95fc83ae4cb90e14faab19ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06a3d0b95fc83ae4cb90e14faab19ea0">&#9670;&nbsp;</a></span>disposer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final boolean disposer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> if the threads to be created are part of the <a class="el" href="a07223.html#ad7bb5cbf762d36dcb626f75190076564">RESOURCE_DISPOSERS</a> group, or</p><div class="fragment"><div class="line"><span class="keyword">false</span> </div></div><!-- fragment --><p> if they are <a class="el" href="a07223.html#aa32aa73ef9b4953977547390973a9baa">WORKERS</a> threads. This information is used mostly for reporting in debugger - it has no functional impact (except on the threads priority). </p>

</div>
</div>
<a id="a09be853e1a4b39f830c63559abf5085a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09be853e1a4b39f830c63559abf5085a">&#9670;&nbsp;</a></span>GEOTOOLKIT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final ThreadGroup GEOTOOLKIT</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The parent of every threads declared in this class. </p>
<p>This parent will be declared as close as possible to the root of all thread groups (i.e. not as an application thread subgroup). </p>

</div>
</div>
<a id="ab9aa80baa8113e20a123650a1e9d9a29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9aa80baa8113e20a123650a1e9d9a29">&#9670;&nbsp;</a></span>prefix</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final String prefix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The prefix to put at the beginning of thread names. </p>

</div>
</div>
<a id="ad7bb5cbf762d36dcb626f75190076564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7bb5cbf762d36dcb626f75190076564">&#9670;&nbsp;</a></span>RESOURCE_DISPOSERS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final ThreadGroup RESOURCE_DISPOSERS = new ThreadGroup(<a class="el" href="a07223.html#a09be853e1a4b39f830c63559abf5085a">GEOTOOLKIT</a>, &quot;ResourceDisposers&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The group of threads disposing resources, typically after a timeout. </p>

<p class="reference">Referenced by <a class="el" href="a07151.html#ac9a1a06ca37c9dcefafcb8117dfcb1a6">ReferenceQueueConsumer&lt; Object &gt;.ReferenceQueueConsumer()</a>.</p>

</div>
</div>
<a id="a8a2b40e22cb8ffd331113b10b32e1329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a2b40e22cb8ffd331113b10b32e1329">&#9670;&nbsp;</a></span>WORK_EXECUTOR</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final ExecutorService WORK_EXECUTOR</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The executor for non-disposal works. </p>
<p>This executor is suitable for small tasks that complete relatively rapidly. We don't need too many threads, because the amount of tasks to submit is not that high. </p>
<p>Current implementation uses 2 threads and enqueue any additional tasks arriving faster than what the 2 threads can process. If 1000 tasks have been enqueued, then we will start creating more threads. If the maximal number of threads have been reached, then any additional tasks will be blocked until a slot is made available. </p>
<p>The optimal number of threads for CPU-bounds tasks is typically &lt;va&gt;n+1 where &lt;va&gt;n is the number of processors. Here, we limit to &lt;va&gt;n threads since the caller thread is the "+1". </p>

</div>
</div>
<a id="aa32aa73ef9b4953977547390973a9baa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa32aa73ef9b4953977547390973a9baa">&#9670;&nbsp;</a></span>WORKERS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final ThreadGroup WORKERS = new ThreadGroup(<a class="el" href="a07223.html#a09be853e1a4b39f830c63559abf5085a">GEOTOOLKIT</a>, &quot;Workers&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The group of workers to run in a background thread. </p>
<dl class="section since"><dt>Since</dt><dd>3.05 </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a03806.html">org</a></li><li class="navelem"><a class="el" href="a03815.html">geotoolkit</a></li><li class="navelem"><a class="el" href="a03833.html">internal</a></li><li class="navelem"><a class="el" href="a07223.html">Threads</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
