<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jena-geo: Package org.geotoolkit.factory</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">jena-geo
   &#160;<span id="projectnumber">Version 0.1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a03870.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Package org.geotoolkit.factory</div>  </div>
</div><!--header-->
<div class="contents">

<p>Utility classes which enable dynamic binding to factory implementations at runtime.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06791.html">EmptyHints</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An immutable empty set of hints.  <a href="a06791.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06795.html">Factories</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static methods relative to the factories.  <a href="a06795.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06799.html">FactoryNotFoundException</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thrown when a factory can't be found in the registry.  <a href="a06799.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06803.html">FactoryRegistryException</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thrown when a factory can't be found or can't be instantiate.  <a href="a06803.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06807.html">Hints</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A set of hints providing control on factories to be used.  <a href="a06807.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06835.html">HintsPending</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional hints that are using in geotoolkit-pending.  <a href="a06835.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06839.html">OrderedIterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An iterator which move at the end of the iteration any class not loaded by the context class loader or one of its parents/children.  <a href="a06839.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06843.html">RecursiveSearchException</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thrown when <a class="el" href="">FactoryRegistry</a> is invoked recursively for the same category.  <a href="a06843.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06847.html">SerializedKey</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A proxy for the serialization of <a class="el" href="a06811.html">Hints#Key</a>.  <a href="a06847.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utility classes which enable dynamic binding to factory implementations at runtime. </p>
<p>Because Geotk core API consists mostly of interfaces (including <a href="http://www.geoapi.org">GeoAPI</a>), factories play a role in how developers use the API. Although the interfaces that are declared in GeoAPI are implemented in various Geotk packages, they should not be used directly. Instead they should be obtained through factories. </p>
<p><a class="el" href="a06795.html" title="Static methods relative to the factories. ">Factories</a> are some interfaces that define &lt;cite&gt;services&lt;/cite&gt; (also called &lt;cite&gt;providers&lt;/cite&gt;) for instantiating other objects. In the Geotk library they extend the <a class="el" href="">org.geotoolkit.factory.Factory</a> class, but this is not mandatory. For example the <a class="el" href="">org.opengis.referencing.crs.CRSAuthorityFactory</a> GeoAPI interface (implemented in Geotk by <a class="el" href="">org.geotoolkit.referencing.factory.ReferencingObjectFactory</a>) is a service allowing instantiation of <a class="el" href="">org.opengis.referencing.crs.CoordinateReferenceSystem</a> objects from identifiers. </p>
<p><a class="el" href="a06795.html" title="Static methods relative to the factories. ">Factories</a> are registered for use in a &lt;cite&gt;services registry&lt;/cite&gt;, which acts as a container for service implementations. Service registries don't need to be a Geotk implementation. They can be (but are not limited to) instances of: </p>
<ul>
<li>
<a class="el" href="">java.util.ServiceLoader</a> provided since Java 6 </li>
<li>
<a class="el" href="">javax.imageio.spi.ServiceRegistry</a> provided since Java 4 </li>
<li>
<a class="el" href="">org.geotoolkit.factory.FactoryRegistry</a> provided since GeoTools 2.1 </li>
</ul>
<p>{</p>
<h1><a class="anchor" id="Getting"></a>
started}</h1>
<p><a class="el" href="">org.geotoolkit.factory.FactoryFinder</a> and <a class="el" href="">org.geotoolkit.factory.AuthorityFactoryFinder</a> provide convenience static methods for getting implementations of service interfaces. They are the only methods for getting started with Geotk factories.</p>
<p>{</p>
<h1><a class="anchor" id="Registering"></a>
a factory}</h1>
<p>To declare a factory implementation, a</p><div class="fragment"><div class="line">services </div></div><!-- fragment --><p> subdirectory is placed within the </p><div class="fragment"><div class="line">META-INF </div></div><!-- fragment --><p> directory that is present in every JAR file. This directory contains a file for each factory interface that has one or more implementation classes present in the JAR file. For example if a JAR file provides one or more <a class="el" href="">org.opengis.referencing.datum.DatumFactory</a> implementations, then it must provide the following file:</p>
<p>{ text META-INF/services/org.opengis.referencing.datum.DatumFactory }</p>
<p>with a content similar to the one below:</p>
<p>{ text com.mycompany.MyDatumFactory1 com.mycompany.MyDatumFactory2 com.mycompany.MyDatumFactory3 }</p>
<p>The ordering is initially unspecified. Users can  javax.imageio.spi.ServiceRegistry::setOrdering set an ordering} explicitly themselves, or implementations can do that automatically  javax.imageio.spi.RegisterableService::onRegistration on registration}. </p>
<p>Note that the factory classes should be lightweight and quick to load. Implementations of these interfaces should avoid complex dependencies on other classes and on native code. A usual pattern for more complex services is to register a lightweight proxy for the heavyweight service.</p>
<p>{</p>
<h1><a class="anchor" id="Fetching"></a>
a factory}</h1>
<p>The example below iterates over all registered</p><div class="fragment"><div class="line">DatumFactory </div></div><!-- fragment --><p> using the standard service loader bundled in Java 6. Those factories may by registered in many different JAR files.</p>
<p>{ java ServiceLoader registry = ServiceLoader.load(DatumFactory.class); Iterator&lt;DatumFactory&gt; providers = registry.iterator(); }</p>
<p>Following does the same using the Geotk factory registry, which allows more control.</p>
<p>{ java Class&lt;?&gt;[] categories = new Class[] { DatumFactory.class // Put more categories here, if desired. }; FactoryRegistry registry = new FactoryRegistry(categories);</p>
<p>// Get the providers Filter filter = null; <a class="el" href="a06807.html" title="A set of hints providing control on factories to be used. ">Hints</a> hints = null; Iterator&lt;DatumFactory&gt; providers = registry.getServiceProviders(DatumFactory.class, filter, hints); }</p>
<p>Users wanting a specific implementation can  javax.imageio.spi.ServiceRegistry::getServiceProviders iterates through registered ones} and pickup the desired implementation themself. An alternative is to bundle the criterions in a map of  <a class="el" href="a06807.html" title="A set of hints providing control on factories to be used. ">org.geotoolkit.factory.Hints</a> hints} and lets the factory registry (Geotk extension only) selects an implementation accordingly. Note that the hints, if provided, don't need to apply directly to the requested factory. They may apply indirectly through factory dependencies.</p>
<dl class="section author"><dt>Author</dt><dd>Martin Desruisseaux (IRD, Geomatys) </dd>
<dd>
Jody Garnett (Refractions) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>3.03</dd></dl>
<dl class="section since"><dt>Since</dt><dd>2.1  </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a03857.html">org</a></li><li class="navelem"><a class="el" href="a03866.html">geotoolkit</a></li><li class="navelem"><a class="el" href="a03870.html">factory</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
