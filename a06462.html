<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jena-geo: TileOpExecutor.Cursor&lt; RI extends RenderedImage, A &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">jena-geo
   &#160;<span id="projectnumber">Version 0.1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a06462.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pac-methods">Package Functions</a> &#124;
<a href="#pac-attribs">Package Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="a06459.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TileOpExecutor.Cursor&lt; RI extends RenderedImage, A &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Tile indices of the next tile to process in a multi-threaded computation.  
 <a href="a06462.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for TileOpExecutor.Cursor&lt; RI extends RenderedImage, A &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="a06461.png" border="0" usemap="#TileOpExecutor_8Cursor_3_01RI_01extends_01RenderedImage_00_01A_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="TileOpExecutor_8Cursor_3_01RI_01extends_01RenderedImage_00_01A_01_4_inherit__map" id="TileOpExecutor_8Cursor_3_01RI_01extends_01RenderedImage_00_01A_01_4_inherit__map">
<area shape="rect" id="node4" href="a06462.html" title="TileOpExecutor.Cursor\l\&lt; RI, A \&gt;" alt="" coords="46,199,201,240"/>
<area shape="rect" id="node3" href="a13534.html" title="RenderedImage" alt="" coords="133,5,247,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for TileOpExecutor.Cursor&lt; RI extends RenderedImage, A &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="a06460.png" border="0" usemap="#TileOpExecutor_8Cursor_3_01RI_01extends_01RenderedImage_00_01A_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="TileOpExecutor_8Cursor_3_01RI_01extends_01RenderedImage_00_01A_01_4_coll__map" id="TileOpExecutor_8Cursor_3_01RI_01extends_01RenderedImage_00_01A_01_4_coll__map">
<area shape="rect" id="node10" href="a13534.html" title="RenderedImage" alt="" coords="765,95,879,121"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad146fa8579a5f8a876c4688cc5a68520"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#ad146fa8579a5f8a876c4688cc5a68520">toString</a> ()</td></tr>
<tr class="memdesc:ad146fa8579a5f8a876c4688cc5a68520"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string representation of this cursor for debugging purposes.  <a href="#ad146fa8579a5f8a876c4688cc5a68520">More...</a><br /></td></tr>
<tr class="separator:ad146fa8579a5f8a876c4688cc5a68520"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-methods"></a>
Package Functions</h2></td></tr>
<tr class="memitem:aa3ebb314b97961afe543506212a2dd9b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#aa3ebb314b97961afe543506212a2dd9b">Cursor</a> (final RI <a class="el" href="a06462.html#a7b7fa7d49ecd1dd3eb37fccb17f981d5">image</a>, final Collector&lt;?, A,?&gt; collector, final boolean <a class="el" href="a06462.html#a94f5222bed1c9e6790bed19a343f7341">stopOnError</a>)</td></tr>
<tr class="memdesc:aa3ebb314b97961afe543506212a2dd9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new cursor initialized to the indices of the first tile.  <a href="#aa3ebb314b97961afe543506212a2dd9b">More...</a><br /></td></tr>
<tr class="separator:aa3ebb314b97961afe543506212a2dd9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47ec4c7e5b7646e4a71b82402c2c82d1"><td class="memItemLeft" align="right" valign="top">final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#a47ec4c7e5b7646e4a71b82402c2c82d1">getNumWorkers</a> ()</td></tr>
<tr class="memdesc:a47ec4c7e5b7646e4a71b82402c2c82d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the suggested number of worker threads to create, excluding the current thread.  <a href="#a47ec4c7e5b7646e4a71b82402c2c82d1">More...</a><br /></td></tr>
<tr class="separator:a47ec4c7e5b7646e4a71b82402c2c82d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a311addae5779cead65ffaaad5824007c"><td class="memItemLeft" align="right" valign="top">final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#a311addae5779cead65ffaaad5824007c">next</a> (final <a class="el" href="a06466.html">Worker</a>&lt; RI,?, A &gt; indices)</td></tr>
<tr class="memdesc:a311addae5779cead65ffaaad5824007c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the given worker to the indices of the next tile.  <a href="#a311addae5779cead65ffaaad5824007c">More...</a><br /></td></tr>
<tr class="separator:a311addae5779cead65ffaaad5824007c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b14b31f07a7b5de8420315b985e05a7"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#a4b14b31f07a7b5de8420315b985e05a7">accumulate</a> (final A result)</td></tr>
<tr class="memdesc:a4b14b31f07a7b5de8420315b985e05a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked when a thread finished to process all its tiles for combining its result with the result of previous threads.  <a href="#a4b14b31f07a7b5de8420315b985e05a7">More...</a><br /></td></tr>
<tr class="separator:a4b14b31f07a7b5de8420315b985e05a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d387c70340867dffaf02228c4520cd"><td class="memItemLeft" align="right" valign="top">final&lt; R &gt; R&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#a05d387c70340867dffaf02228c4520cd">finish</a> (final Future&lt;?&gt;[] workers, final Collector&lt;?, A, R &gt; collector, final Consumer&lt; LogRecord &gt; errorHandler)</td></tr>
<tr class="memdesc:a05d387c70340867dffaf02228c4520cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked after the current thread finished to process all its tiles.  <a href="#a05d387c70340867dffaf02228c4520cd">More...</a><br /></td></tr>
<tr class="separator:a05d387c70340867dffaf02228c4520cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf3c338904bae76660fd721a7492e85"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#aabf3c338904bae76660fd721a7492e85">recordError</a> (final <a class="el" href="a06466.html">Worker</a>&lt; RI,?, A &gt; indices, final Throwable ex)</td></tr>
<tr class="memdesc:aabf3c338904bae76660fd721a7492e85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the given exception in a log record.  <a href="#aabf3c338904bae76660fd721a7492e85">More...</a><br /></td></tr>
<tr class="separator:aabf3c338904bae76660fd721a7492e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-attribs"></a>
Package Attributes</h2></td></tr>
<tr class="memitem:a7b7fa7d49ecd1dd3eb37fccb17f981d5"><td class="memItemLeft" align="right" valign="top">final RI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#a7b7fa7d49ecd1dd3eb37fccb17f981d5">image</a></td></tr>
<tr class="memdesc:a7b7fa7d49ecd1dd3eb37fccb17f981d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The image from which to read tiles or where to write tiles.  <a href="#a7b7fa7d49ecd1dd3eb37fccb17f981d5">More...</a><br /></td></tr>
<tr class="separator:a7b7fa7d49ecd1dd3eb37fccb17f981d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:afb2cfdd3a884aaeb4a42b2920e5d2863"><td class="memItemLeft" align="right" valign="top">final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#afb2cfdd3a884aaeb4a42b2920e5d2863">numXTiles</a></td></tr>
<tr class="memdesc:afb2cfdd3a884aaeb4a42b2920e5d2863"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of tiles in a row of the area of interest.  <a href="#afb2cfdd3a884aaeb4a42b2920e5d2863">More...</a><br /></td></tr>
<tr class="separator:afb2cfdd3a884aaeb4a42b2920e5d2863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02c2b0accee7e808749434165817dce"><td class="memItemLeft" align="right" valign="top">final BinaryOperator&lt; A &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#ac02c2b0accee7e808749434165817dce">combiner</a></td></tr>
<tr class="memdesc:ac02c2b0accee7e808749434165817dce"><td class="mdescLeft">&#160;</td><td class="mdescRight">The operation to execute after a thread finished to process all its tiles, for combining its result with the result of another thread.  <a href="#ac02c2b0accee7e808749434165817dce">More...</a><br /></td></tr>
<tr class="separator:ac02c2b0accee7e808749434165817dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc86cff4ebf06ebd17463ac086789b5"><td class="memItemLeft" align="right" valign="top">A&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#a0bc86cff4ebf06ebd17463ac086789b5">accumulator</a></td></tr>
<tr class="memdesc:a0bc86cff4ebf06ebd17463ac086789b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cumulated result of all threads.  <a href="#a0bc86cff4ebf06ebd17463ac086789b5">More...</a><br /></td></tr>
<tr class="separator:a0bc86cff4ebf06ebd17463ac086789b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3078b3a26b7c78bd1988c86e73e31a"><td class="memItemLeft" align="right" valign="top">LogRecord&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a></td></tr>
<tr class="memdesc:a8e3078b3a26b7c78bd1988c86e73e31a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The errors that occurred while computing a tile, or.  <a href="#a8e3078b3a26b7c78bd1988c86e73e31a">More...</a><br /></td></tr>
<tr class="separator:a8e3078b3a26b7c78bd1988c86e73e31a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f5222bed1c9e6790bed19a343f7341"><td class="memItemLeft" align="right" valign="top">final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06462.html#a94f5222bed1c9e6790bed19a343f7341">stopOnError</a></td></tr>
<tr class="memdesc:a94f5222bed1c9e6790bed19a343f7341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to stop of the first error.  <a href="#a94f5222bed1c9e6790bed19a343f7341">More...</a><br /></td></tr>
<tr class="separator:a94f5222bed1c9e6790bed19a343f7341"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Tile indices of the next tile to process in a multi-threaded computation. </p>
<p>When a computation is splitted between many threads, all workers will share a reference to the same <a class="el" href="a06462.html">Cursor</a> instance for fetching the indices of the next tile in iteration order no matter if requested by the same or different threads. We do that on the assumption that if calls to <a class="el" href="">RenderedImage#getTile(int, int)</a> causes read operations from a file, iteration order corresponds to consecutive tiles in the file and those tiles are loaded more efficiently with sequential read operations.</p>
<p>Current implementation uses row major iteration. A future version could use an image property giving the preferred iteration order (possibly as a list or an array of tile indices). When there is no indication about the preferred iteration order, a future version could possible uses Hilbert iterator for processing nearby tiles together (assuming they are more likely to have been computed at a near instant).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;RI&gt;</td><td><a class="el" href="">RenderedImage</a> or <a class="el" href="">WritableRenderedImage</a>. </td></tr>
    <tr><td class="paramname">&lt;A&gt;</td><td>type of the thread-local object (the accumulator) for holding intermediate results. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa3ebb314b97961afe543506212a2dd9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3ebb314b97961afe543506212a2dd9b">&#9670;&nbsp;</a></span>Cursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a06462.html">Cursor</a> </td>
          <td>(</td>
          <td class="paramtype">final RI&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Collector&lt;?, A,?&gt;&#160;</td>
          <td class="paramname"><em>collector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final boolean&#160;</td>
          <td class="paramname"><em>stopOnError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new cursor initialized to the indices of the first tile. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>the image to read or the image where to write. </td></tr>
    <tr><td class="paramname">collector</td><td>provides the combiner of thread-local objects of type <em>A</em>. </td></tr>
    <tr><td class="paramname">stopOnError</td><td>whether to stop of the first error or to process all tiles before to report the error. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                                                                                            {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            this.<a class="code" href="a06462.html#a7b7fa7d49ecd1dd3eb37fccb17f981d5">image</a>       = <a class="code" href="a06462.html#a7b7fa7d49ecd1dd3eb37fccb17f981d5">image</a>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            this.<a class="code" href="a06462.html#ac02c2b0accee7e808749434165817dce">combiner</a>    = collector.combiner();</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            this.<a class="code" href="a06462.html#afb2cfdd3a884aaeb4a42b2920e5d2863">numXTiles</a>   = Math.incrementExact(Math.subtractExact(<a class="code" href="a06458.html#a083bec8fd9bb96a75c6ab3bf34ea78ae">maxTileX</a>, <a class="code" href="a06458.html#ad89c58bf763b7a7e6458b36d0435cb91">minTileX</a>));</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            this.<a class="code" href="a06462.html#a94f5222bed1c9e6790bed19a343f7341">stopOnError</a> = <a class="code" href="a06462.html#a94f5222bed1c9e6790bed19a343f7341">stopOnError</a>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        }</div><div class="ttc" id="a06462_html_a7b7fa7d49ecd1dd3eb37fccb17f981d5"><div class="ttname"><a href="a06462.html#a7b7fa7d49ecd1dd3eb37fccb17f981d5">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.image</a></div><div class="ttdeci">final RI image</div><div class="ttdoc">The image from which to read tiles or where to write tiles. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:492</div></div>
<div class="ttc" id="a06462_html_ac02c2b0accee7e808749434165817dce"><div class="ttname"><a href="a06462.html#ac02c2b0accee7e808749434165817dce">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.combiner</a></div><div class="ttdeci">final BinaryOperator&lt; A &gt; combiner</div><div class="ttdoc">The operation to execute after a thread finished to process all its tiles, for combining its result w...</div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:508</div></div>
<div class="ttc" id="a06462_html_a94f5222bed1c9e6790bed19a343f7341"><div class="ttname"><a href="a06462.html#a94f5222bed1c9e6790bed19a343f7341">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.stopOnError</a></div><div class="ttdeci">final boolean stopOnError</div><div class="ttdoc">Whether to stop of the first error. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:535</div></div>
<div class="ttc" id="a06462_html_afb2cfdd3a884aaeb4a42b2920e5d2863"><div class="ttname"><a href="a06462.html#afb2cfdd3a884aaeb4a42b2920e5d2863">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.numXTiles</a></div><div class="ttdeci">final int numXTiles</div><div class="ttdoc">The number of tiles in a row of the area of interest. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:499</div></div>
<div class="ttc" id="a06458_html_a083bec8fd9bb96a75c6ab3bf34ea78ae"><div class="ttname"><a href="a06458.html#a083bec8fd9bb96a75c6ab3bf34ea78ae">org.apache.sis.internal.coverage.j2d.TileOpExecutor.maxTileX</a></div><div class="ttdeci">final int maxTileX</div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:81</div></div>
<div class="ttc" id="a06458_html_ad89c58bf763b7a7e6458b36d0435cb91"><div class="ttname"><a href="a06458.html#ad89c58bf763b7a7e6458b36d0435cb91">org.apache.sis.internal.coverage.j2d.TileOpExecutor.minTileX</a></div><div class="ttdeci">final int minTileX</div><div class="ttdoc">Minimum/maximum index of tiles to process, inclusive. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:81</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4b14b31f07a7b5de8420315b985e05a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b14b31f07a7b5de8420315b985e05a7">&#9670;&nbsp;</a></span>accumulate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final void accumulate </td>
          <td>(</td>
          <td class="paramtype">final A&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Invoked when a thread finished to process all its tiles for combining its result with the result of previous threads. </p>
<p>This method does nothing if the given result is null.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>the result computed in current thread (may be<div class="fragment"><div class="line">null </div></div><!-- fragment --> ). </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="a06466.html#a2c71443ed78646800cfa677fad85cacf">TileOpExecutor.Worker&lt; WritableRenderedImage, WritableRaster, A &gt;.run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                                              {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keywordflow">if</span> (result != null) {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                <span class="keyword">synchronized</span> (<span class="keyword">this</span>) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    <a class="code" href="a06462.html#a0bc86cff4ebf06ebd17463ac086789b5">accumulator</a> = (<a class="code" href="a06462.html#a0bc86cff4ebf06ebd17463ac086789b5">accumulator</a> == null) ? result : <a class="code" href="a06462.html#ac02c2b0accee7e808749434165817dce">combiner</a>.apply(<a class="code" href="a06462.html#a0bc86cff4ebf06ebd17463ac086789b5">accumulator</a>, result);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        }</div><div class="ttc" id="a06462_html_ac02c2b0accee7e808749434165817dce"><div class="ttname"><a href="a06462.html#ac02c2b0accee7e808749434165817dce">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.combiner</a></div><div class="ttdeci">final BinaryOperator&lt; A &gt; combiner</div><div class="ttdoc">The operation to execute after a thread finished to process all its tiles, for combining its result w...</div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:508</div></div>
<div class="ttc" id="a06462_html_a0bc86cff4ebf06ebd17463ac086789b5"><div class="ttname"><a href="a06462.html#a0bc86cff4ebf06ebd17463ac086789b5">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.accumulator</a></div><div class="ttdeci">A accumulator</div><div class="ttdoc">The cumulated result of all threads. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:518</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a05d387c70340867dffaf02228c4520cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d387c70340867dffaf02228c4520cd">&#9670;&nbsp;</a></span>finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final&lt;R&gt; R finish </td>
          <td>(</td>
          <td class="paramtype">final Future&lt;?&gt; []&#160;</td>
          <td class="paramname"><em>workers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Collector&lt;?, A, R &gt;&#160;</td>
          <td class="paramname"><em>collector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Consumer&lt; LogRecord &gt;&#160;</td>
          <td class="paramname"><em>errorHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Invoked after the current thread finished to process all its tiles. </p>
<p>If some other threads are still computing their tiles, this method waits for those threads to complete (each thread has at most one tile to complete). After all threads completed, this method computes the final result and reports the errors if any.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;R&gt;</td><td>the final type of the result. This is often the same type than <em>A</em>. </td></tr>
    <tr><td class="paramname">workers</td><td>handlers of all worker threads other than the current threads. Content of this array may be modified by this method. </td></tr>
    <tr><td class="paramname">collector</td><td>provides the finisher to use for computing final result of type <em>R</em>. </td></tr>
    <tr><td class="paramname">errorHandler</td><td>where to report exceptions, or<div class="fragment"><div class="line">null </div></div><!-- fragment --> for throwing them. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the final result computed by finisher (may be<div class="fragment"><div class="line">null </div></div><!-- fragment --> ). </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ImagingOpException</td><td>if an exception occurred during <a class="el" href="a06466.html#a460b7efed78d9e1a0d37ae409e52f229">Worker#executeOnCurrentTile()</a> and the<div class="fragment"><div class="line">errorHandler </div></div><!-- fragment --> is<div class="fragment"><div class="line">null </div></div><!-- fragment --> . </td></tr>
    <tr><td class="paramname"><a class="el" href="a13866.html">RuntimeException</a></td><td>if an exception occurred elsewhere (for example in the combiner or finisher). </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                                                                                                                                {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">             * Before to wait for other threads to complete their work, we need to remove from executor queue all</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">             * workers that did not yet started their run. Those threads may be waiting for an executor thread to</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">             * become available, which may never happen if all threads are waiting for a non-running task.</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;workers.length; i++) {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                <span class="keywordflow">if</span> (CommonExecutor.unschedule(workers[i])) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                    workers[i] = null;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">final</span> Future&lt;?&gt; task : workers) <span class="keywordflow">try</span> {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                <span class="keywordflow">if</span> (task != null) task.get();</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            } <span class="keywordflow">catch</span> (ExecutionException ex) {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                <span class="comment">/*</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">                 * This is not an exception that occurred in Worker.executeOnCurrentTile(), RenderedImage.getTile(…)</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">                 * or similar methods, otherwise it would have been handled by Worker.run(). This is an error or an</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">                 * exception that occurred elsewhere, for example in the combiner, in which case we do not wrap it</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">                 * in an ImagingOpException.</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                <span class="keywordflow">throw</span> Worker.rethrowOrWrap(ex.getCause());</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            } <span class="keywordflow">catch</span> (InterruptedException ex) {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                <span class="comment">/*</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">                 * If someone does not want to let us wait, do not wait for other worker threads neither.</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">                 * We will report that interruption as an error.</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                <span class="keyword">synchronized</span> (<span class="keyword">this</span>) {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a> == null) {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                        <a class="code" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a> = <span class="keyword">new</span> LogRecord(Level.WARNING, ex.toString());</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                        <a class="code" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a>.setThrown(ex);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                        <a class="code" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a>.getThrown().addSuppressed(ex);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                    }</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">             * Computes final result. The synchronization below should not be necessary since all threads</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">             * finished their work, unless an `InterruptedException` has been caught above in which case</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">             * it is possible that a few threads are still running.</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keyword">final</span> R result;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="keyword">synchronized</span> (<span class="keyword">this</span>) {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                result = collector.finisher().apply(<a class="code" href="a06462.html#a0bc86cff4ebf06ebd17463ac086789b5">accumulator</a>);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a> != null) {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                    <span class="keywordflow">if</span> (errorHandler != null) {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                        errorHandler.accept(<a class="code" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a>);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                        <span class="keyword">final</span> Throwable ex = <a class="code" href="a06458.html#a517f50b4efda6d919cbe263504257ffb">trimImagingWrapper</a>(<a class="code" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a>.getThrown());</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                        <span class="keyword">final</span> String message = <span class="keyword">new</span> SimpleFormatter().formatMessage(<a class="code" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a>);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                        <span class="keywordflow">throw</span> (ImagingOpException) <span class="keyword">new</span> ImagingOpException(message).initCause(ex);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                    }</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                }</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            }</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        }</div><div class="ttc" id="a06462_html_a8e3078b3a26b7c78bd1988c86e73e31a"><div class="ttname"><a href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.errors</a></div><div class="ttdeci">LogRecord errors</div><div class="ttdoc">The errors that occurred while computing a tile, or. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:526</div></div>
<div class="ttc" id="a06458_html_a517f50b4efda6d919cbe263504257ffb"><div class="ttname"><a href="a06458.html#a517f50b4efda6d919cbe263504257ffb">org.apache.sis.internal.coverage.j2d.TileOpExecutor.trimImagingWrapper</a></div><div class="ttdeci">static Throwable trimImagingWrapper(Throwable ex)</div><div class="ttdoc">If the given exception is a wrapper providing no useful information, returns its non-null cause...</div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:820</div></div>
<div class="ttc" id="a06462_html_a0bc86cff4ebf06ebd17463ac086789b5"><div class="ttname"><a href="a06462.html#a0bc86cff4ebf06ebd17463ac086789b5">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.accumulator</a></div><div class="ttdeci">A accumulator</div><div class="ttdoc">The cumulated result of all threads. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:518</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a47ec4c7e5b7646e4a71b82402c2c82d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47ec4c7e5b7646e4a71b82402c2c82d1">&#9670;&nbsp;</a></span>getNumWorkers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int getNumWorkers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the suggested number of worker threads to create, excluding the current thread. </p>
<p>This method always returns a value at least one 1 less than the number of tiles because the current thread will be itself a worker. </p>

<p class="reference">Referenced by <a class="el" href="a06470.html#a897d4e476be84070570b5b2fffbe355c">TileOpExecutor.ReadWork&lt; A &gt;.execute()</a>, and <a class="el" href="a06474.html#abbe05319666d3715eb016d69fe8426d4">TileOpExecutor.WriteWork&lt; A &gt;.execute()</a>.</p>
<div class="fragment"><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                  {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="keywordflow">return</span> Math.max((<span class="keywordtype">int</span>) Math.min(CommonExecutor.PARALLELISM, <a class="code" href="a06462.html#afb2cfdd3a884aaeb4a42b2920e5d2863">numXTiles</a> * (((<span class="keywordtype">long</span>) <a class="code" href="a06458.html#a4842dc618305e921525978cc35455eb8">maxTileY</a>) - <a class="code" href="a06458.html#a73c25a6adae78d5d98f5feb1c9123d20">minTileY</a> + 1) - 1), 0);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        }</div><div class="ttc" id="a06458_html_a73c25a6adae78d5d98f5feb1c9123d20"><div class="ttname"><a href="a06458.html#a73c25a6adae78d5d98f5feb1c9123d20">org.apache.sis.internal.coverage.j2d.TileOpExecutor.minTileY</a></div><div class="ttdeci">final int minTileY</div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:81</div></div>
<div class="ttc" id="a06462_html_afb2cfdd3a884aaeb4a42b2920e5d2863"><div class="ttname"><a href="a06462.html#afb2cfdd3a884aaeb4a42b2920e5d2863">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.numXTiles</a></div><div class="ttdeci">final int numXTiles</div><div class="ttdoc">The number of tiles in a row of the area of interest. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:499</div></div>
<div class="ttc" id="a06458_html_a4842dc618305e921525978cc35455eb8"><div class="ttname"><a href="a06458.html#a4842dc618305e921525978cc35455eb8">org.apache.sis.internal.coverage.j2d.TileOpExecutor.maxTileY</a></div><div class="ttdeci">final int maxTileY</div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:81</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a311addae5779cead65ffaaad5824007c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a311addae5779cead65ffaaad5824007c">&#9670;&nbsp;</a></span>next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final boolean next </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="a06466.html">Worker</a>&lt; RI,?, A &gt;&#160;</td>
          <td class="paramname"><em>indices</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the given worker to the indices of the next tile. </p>
<p>This method is invoked by all worker thread before each new tile to process. We return tiles in iteration order, regardless which thread is requesting for next tile, for the reasons documented in <a class="el" href="a06462.html">Cursor</a> javadoc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indices</td><td>the worker where to update <a class="el" href="a06466.html#a40590f55f82df430f8035df8dd4f03c2">Worker#tx</a> and <a class="el" href="a06466.html#a75f29260f9728325050cd039109732b7">Worker#ty</a> indices. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --> if the tile at the updated indices should be processed, or<div class="fragment"><div class="line"><span class="keyword">false</span> </div></div><!-- fragment --> if there is no more tile to process. </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06466.html#a2c71443ed78646800cfa677fad85cacf">TileOpExecutor.Worker&lt; WritableRenderedImage, WritableRaster, A &gt;.run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                                                         {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> index = getAndIncrement();</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="keywordflow">if</span> (index &gt;= 0) {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                indices.tx = Math.addExact(<a class="code" href="a06458.html#ad89c58bf763b7a7e6458b36d0435cb91">minTileX</a>, index % <a class="code" href="a06462.html#afb2cfdd3a884aaeb4a42b2920e5d2863">numXTiles</a>);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                indices.ty = Math.addExact(<a class="code" href="a06458.html#a73c25a6adae78d5d98f5feb1c9123d20">minTileY</a>, index / numXTiles);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                <span class="keywordflow">return</span> indices.ty &lt;= <a class="code" href="a06458.html#a4842dc618305e921525978cc35455eb8">maxTileY</a>;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        }</div><div class="ttc" id="a06458_html_a73c25a6adae78d5d98f5feb1c9123d20"><div class="ttname"><a href="a06458.html#a73c25a6adae78d5d98f5feb1c9123d20">org.apache.sis.internal.coverage.j2d.TileOpExecutor.minTileY</a></div><div class="ttdeci">final int minTileY</div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:81</div></div>
<div class="ttc" id="a06462_html_afb2cfdd3a884aaeb4a42b2920e5d2863"><div class="ttname"><a href="a06462.html#afb2cfdd3a884aaeb4a42b2920e5d2863">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.numXTiles</a></div><div class="ttdeci">final int numXTiles</div><div class="ttdoc">The number of tiles in a row of the area of interest. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:499</div></div>
<div class="ttc" id="a06458_html_a4842dc618305e921525978cc35455eb8"><div class="ttname"><a href="a06458.html#a4842dc618305e921525978cc35455eb8">org.apache.sis.internal.coverage.j2d.TileOpExecutor.maxTileY</a></div><div class="ttdeci">final int maxTileY</div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:81</div></div>
<div class="ttc" id="a06458_html_ad89c58bf763b7a7e6458b36d0435cb91"><div class="ttname"><a href="a06458.html#ad89c58bf763b7a7e6458b36d0435cb91">org.apache.sis.internal.coverage.j2d.TileOpExecutor.minTileX</a></div><div class="ttdeci">final int minTileX</div><div class="ttdoc">Minimum/maximum index of tiles to process, inclusive. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:81</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aabf3c338904bae76660fd721a7492e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabf3c338904bae76660fd721a7492e85">&#9670;&nbsp;</a></span>recordError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final void recordError </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="a06466.html">Worker</a>&lt; RI,?, A &gt;&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Throwable&#160;</td>
          <td class="paramname"><em>ex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the given exception in a log record. </p>
<p>We use a log record in order to initialize the timestamp and thread ID to the values they had at the time the first error occurred.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indices</td><td>the worker thread where the exception occurred. Its <a class="el" href="a06466.html#a40590f55f82df430f8035df8dd4f03c2">Worker#tx</a> and <a class="el" href="a06466.html#a75f29260f9728325050cd039109732b7">Worker#ty</a> indices should identify the problematic tile. </td></tr>
    <tr><td class="paramname">ex</td><td>the exception that occurred. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="a06466.html#a2c71443ed78646800cfa677fad85cacf">TileOpExecutor.Worker&lt; WritableRenderedImage, WritableRaster, A &gt;.run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                                                                                 {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="a06462.html#a94f5222bed1c9e6790bed19a343f7341">stopOnError</a>) {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                <span class="keyword">set</span>(Integer.MIN_VALUE);         <span class="comment">// Will cause other threads to stop fetching tiles.</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="keyword">synchronized</span> (<span class="keyword">this</span>) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a> == null) {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                    <a class="code" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a> = Resources.forLocale((Locale) null).getLogRecord(Level.WARNING,</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                             Resources.Keys.CanNotProcessTile_2, indices.tx, indices.ty);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                    <a class="code" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a>.setThrown(ex);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                    <a class="code" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">errors</a>.getThrown().addSuppressed(ex);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        }</div><div class="ttc" id="a06462_html_a8e3078b3a26b7c78bd1988c86e73e31a"><div class="ttname"><a href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.errors</a></div><div class="ttdeci">LogRecord errors</div><div class="ttdoc">The errors that occurred while computing a tile, or. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:526</div></div>
<div class="ttc" id="a06462_html_a94f5222bed1c9e6790bed19a343f7341"><div class="ttname"><a href="a06462.html#a94f5222bed1c9e6790bed19a343f7341">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.stopOnError</a></div><div class="ttdeci">final boolean stopOnError</div><div class="ttdoc">Whether to stop of the first error. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:535</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad146fa8579a5f8a876c4688cc5a68520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad146fa8579a5f8a876c4688cc5a68520">&#9670;&nbsp;</a></span>toString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String toString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a string representation of this cursor for debugging purposes. </p>
<div class="fragment"><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                                 {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> index = <span class="keyword">get</span>();</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            String tile = <span class="stringliteral">&quot;done&quot;</span>;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <span class="keywordflow">if</span> (index &gt;= 0) {</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                <span class="keyword">final</span> <span class="keywordtype">int</span> tx = Math.addExact(<a class="code" href="a06458.html#ad89c58bf763b7a7e6458b36d0435cb91">minTileX</a>, index % <a class="code" href="a06462.html#afb2cfdd3a884aaeb4a42b2920e5d2863">numXTiles</a>);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                <span class="keyword">final</span> <span class="keywordtype">int</span> ty = Math.addExact(<a class="code" href="a06458.html#a73c25a6adae78d5d98f5feb1c9123d20">minTileY</a>, index / numXTiles);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                <span class="keywordflow">if</span> (ty &lt;= <a class="code" href="a06458.html#a4842dc618305e921525978cc35455eb8">maxTileY</a>) {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                    tile = <span class="stringliteral">&quot;(&quot;</span> + tx + <span class="stringliteral">&quot;, &quot;</span> + ty + <span class="charliteral">&#39;)&#39;</span>;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordflow">return</span> Strings.toString(getClass(),</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    <span class="stringliteral">&quot;image&quot;</span>,      Classes.getShortClassName(<a class="code" href="a06462.html#a7b7fa7d49ecd1dd3eb37fccb17f981d5">image</a>),</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                    <span class="stringliteral">&quot;numWorkers&quot;</span>, <a class="code" href="a06462.html#a47ec4c7e5b7646e4a71b82402c2c82d1">getNumWorkers</a>(),</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                    <span class="stringliteral">&quot;tile&quot;</span>,       tile);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        }</div><div class="ttc" id="a06462_html_a7b7fa7d49ecd1dd3eb37fccb17f981d5"><div class="ttname"><a href="a06462.html#a7b7fa7d49ecd1dd3eb37fccb17f981d5">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.image</a></div><div class="ttdeci">final RI image</div><div class="ttdoc">The image from which to read tiles or where to write tiles. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:492</div></div>
<div class="ttc" id="a06458_html_a73c25a6adae78d5d98f5feb1c9123d20"><div class="ttname"><a href="a06458.html#a73c25a6adae78d5d98f5feb1c9123d20">org.apache.sis.internal.coverage.j2d.TileOpExecutor.minTileY</a></div><div class="ttdeci">final int minTileY</div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:81</div></div>
<div class="ttc" id="a06462_html_a47ec4c7e5b7646e4a71b82402c2c82d1"><div class="ttname"><a href="a06462.html#a47ec4c7e5b7646e4a71b82402c2c82d1">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.getNumWorkers</a></div><div class="ttdeci">final int getNumWorkers()</div><div class="ttdoc">Returns the suggested number of worker threads to create, excluding the current thread. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:556</div></div>
<div class="ttc" id="a06462_html_afb2cfdd3a884aaeb4a42b2920e5d2863"><div class="ttname"><a href="a06462.html#afb2cfdd3a884aaeb4a42b2920e5d2863">org.apache.sis.internal.coverage.j2d.TileOpExecutor.Cursor.numXTiles</a></div><div class="ttdeci">final int numXTiles</div><div class="ttdoc">The number of tiles in a row of the area of interest. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:499</div></div>
<div class="ttc" id="a06458_html_a4842dc618305e921525978cc35455eb8"><div class="ttname"><a href="a06458.html#a4842dc618305e921525978cc35455eb8">org.apache.sis.internal.coverage.j2d.TileOpExecutor.maxTileY</a></div><div class="ttdeci">final int maxTileY</div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:81</div></div>
<div class="ttc" id="a06458_html_ad89c58bf763b7a7e6458b36d0435cb91"><div class="ttname"><a href="a06458.html#ad89c58bf763b7a7e6458b36d0435cb91">org.apache.sis.internal.coverage.j2d.TileOpExecutor.minTileX</a></div><div class="ttdeci">final int minTileX</div><div class="ttdoc">Minimum/maximum index of tiles to process, inclusive. </div><div class="ttdef"><b>Definition:</b> TileOpExecutor.java:81</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a0bc86cff4ebf06ebd17463ac086789b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bc86cff4ebf06ebd17463ac086789b5">&#9670;&nbsp;</a></span>accumulator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">A accumulator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The cumulated result of all threads. </p>
<p>Every time a thread finishes its work, it calls <a class="el" href="">accumulate(Object)</a> for combining its result with previous value that may exist in this field.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a06462.html#ac02c2b0accee7e808749434165817dce" title="The operation to execute after a thread finished to process all its tiles, for combining its result w...">combiner</a> </dd>
<dd>
#accumulate(Object) </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06466.html#ae7dfd2c9f310cb8e7ad1c90c8e5481d6">TileOpExecutor.Worker&lt; WritableRenderedImage, WritableRaster, A &gt;.Worker()</a>.</p>

</div>
</div>
<a id="ac02c2b0accee7e808749434165817dce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac02c2b0accee7e808749434165817dce">&#9670;&nbsp;</a></span>combiner</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final BinaryOperator&lt;A&gt; combiner</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The operation to execute after a thread finished to process all its tiles, for combining its result with the result of another thread. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a06462.html#a0bc86cff4ebf06ebd17463ac086789b5" title="The cumulated result of all threads. ">accumulator</a> </dd>
<dd>
#accumulate(Object) </dd></dl>

</div>
</div>
<a id="a8e3078b3a26b7c78bd1988c86e73e31a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e3078b3a26b7c78bd1988c86e73e31a">&#9670;&nbsp;</a></span>errors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LogRecord errors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The errors that occurred while computing a tile, or. </p>
<div class="fragment"><div class="line">null </div></div><!-- fragment --><p> if none.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a06462.html#a94f5222bed1c9e6790bed19a343f7341" title="Whether to stop of the first error. ">stopOnError</a> </dd>
<dd>
#recordError(Worker, Throwable) </dd></dl>

</div>
</div>
<a id="a7b7fa7d49ecd1dd3eb37fccb17f981d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b7fa7d49ecd1dd3eb37fccb17f981d5">&#9670;&nbsp;</a></span>image</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final RI image</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The image from which to read tiles or where to write tiles. </p>
<p>In the later case, must be an instance of <a class="el" href="">WritableRenderedImage</a>. </p>

<p class="reference">Referenced by <a class="el" href="a06470.html#ad8a8fbbda36a5abfd1f2ebe64e31b8c1">TileOpExecutor.ReadWork&lt; A &gt;.executeOnCurrentTile()</a>, and <a class="el" href="a06474.html#ad8a8fbbda36a5abfd1f2ebe64e31b8c1">TileOpExecutor.WriteWork&lt; A &gt;.executeOnCurrentTile()</a>.</p>

</div>
</div>
<a id="afb2cfdd3a884aaeb4a42b2920e5d2863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb2cfdd3a884aaeb4a42b2920e5d2863">&#9670;&nbsp;</a></span>numXTiles</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int numXTiles</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of tiles in a row of the area of interest. </p>
<dl class="section see"><dt>See also</dt><dd>#next(Worker) </dd></dl>

</div>
</div>
<a id="a94f5222bed1c9e6790bed19a343f7341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f5222bed1c9e6790bed19a343f7341">&#9670;&nbsp;</a></span>stopOnError</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final boolean stopOnError</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to stop of the first error. </p>
<p>If</p><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> the error will be reported as soon as possible. If</p><div class="fragment"><div class="line"><span class="keyword">false</span> </div></div><!-- fragment --><p> , processing of all tiles will be completed before the error is reported.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a06462.html#a8e3078b3a26b7c78bd1988c86e73e31a" title="The errors that occurred while computing a tile, or. ">errors</a> </dd>
<dd>
#recordError(Worker, Throwable) </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a03713.html">org</a></li><li class="navelem"><a class="el" href="a03714.html">apache</a></li><li class="navelem"><a class="el" href="a03715.html">sis</a></li><li class="navelem"><a class="el" href="a03719.html">internal</a></li><li class="navelem"><a class="el" href="a03720.html">coverage</a></li><li class="navelem"><a class="el" href="a03718.html">j2d</a></li><li class="navelem"><a class="el" href="a06458.html">TileOpExecutor</a></li><li class="navelem"><a class="el" href="a06462.html">Cursor</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
