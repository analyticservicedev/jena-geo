<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jena-geo: ColorUtilities Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">jena-geo
   &#160;<span id="projectnumber">Version 0.1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a06811.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="a06808.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ColorUtilities Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A set of static methods for handling of colors informations.  
 <a href="a06811.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for ColorUtilities:</div>
<div class="dyncontent">
<div class="center"><img src="a06810.png" border="0" usemap="#ColorUtilities_inherit__map" alt="Inheritance graph"/></div>
<map name="ColorUtilities_inherit__map" id="ColorUtilities_inherit__map">
<area shape="rect" id="node2" href="a07323.html" title="Parent of classes that contain only static utility methods. " alt="" coords="26,5,82,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ColorUtilities:</div>
<div class="dyncontent">
<div class="center"><img src="a06809.png" border="0" usemap="#ColorUtilities_coll__map" alt="Collaboration graph"/></div>
<map name="ColorUtilities_coll__map" id="ColorUtilities_coll__map">
<area shape="rect" id="node2" href="a07323.html" title="Parent of classes that contain only static utility methods. " alt="" coords="5,5,61,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a443f6a165c782fa9006cab94348173cf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#a443f6a165c782fa9006cab94348173cf">getIntFromColor</a> (int r, int g, int b, int a)</td></tr>
<tr class="memdesc:a443f6a165c782fa9006cab94348173cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an sRGB color with the specified red, green, blue, and alpha values in the range (0 - 255).  <a href="#a443f6a165c782fa9006cab94348173cf">More...</a><br /></td></tr>
<tr class="separator:a443f6a165c782fa9006cab94348173cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b8fc8a83c519214b447c6eaac4ae25"><td class="memItemLeft" align="right" valign="top">static double []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#ab1b8fc8a83c519214b447c6eaac4ae25">toDoubleValues</a> (final Color color, final int numBands)</td></tr>
<tr class="memdesc:ab1b8fc8a83c519214b447c6eaac4ae25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the color components in an array of.  <a href="#ab1b8fc8a83c519214b447c6eaac4ae25">More...</a><br /></td></tr>
<tr class="separator:ab1b8fc8a83c519214b447c6eaac4ae25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed0f7564635753edb32e171e5c1a83f"><td class="memItemLeft" align="right" valign="top">static String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#aaed0f7564635753edb32e171e5c1a83f">toString</a> (final Color color)</td></tr>
<tr class="memdesc:aaed0f7564635753edb32e171e5c1a83f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string representation of the given color.  <a href="#aaed0f7564635753edb32e171e5c1a83f">More...</a><br /></td></tr>
<tr class="separator:aaed0f7564635753edb32e171e5c1a83f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a06e13f1cf2dbab0df28fc136b7d125"><td class="memItemLeft" align="right" valign="top">static Color []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#a1a06e13f1cf2dbab0df28fc136b7d125">subarray</a> (final Color[] palette, int lower, int upper)</td></tr>
<tr class="memdesc:a1a06e13f1cf2dbab0df28fc136b7d125"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a subarray of the specified color array.  <a href="#a1a06e13f1cf2dbab0df28fc136b7d125">More...</a><br /></td></tr>
<tr class="separator:a1a06e13f1cf2dbab0df28fc136b7d125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9e46de22f27977792797cff1630a31"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#aac9e46de22f27977792797cff1630a31">expand</a> (final Color[] colors, final int[] ARGB, final int lower, final int upper)</td></tr>
<tr class="memdesc:aac9e46de22f27977792797cff1630a31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies.  <a href="#aac9e46de22f27977792797cff1630a31">More...</a><br /></td></tr>
<tr class="separator:aac9e46de22f27977792797cff1630a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83e133c9af7712212427e87490c30cf5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#a83e133c9af7712212427e87490c30cf5">roundByte</a> (final double value)</td></tr>
<tr class="memdesc:a83e133c9af7712212427e87490c30cf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rounds a float value and clamp the result between 0 and 255 inclusive.  <a href="#a83e133c9af7712212427e87490c30cf5">More...</a><br /></td></tr>
<tr class="separator:a83e133c9af7712212427e87490c30cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeec515b69d6b1532bedb39af03e20bbf"><td class="memItemLeft" align="right" valign="top">static IndexColorModel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#aeec515b69d6b1532bedb39af03e20bbf">getIndexColorModel</a> (final int[] ARGB)</td></tr>
<tr class="memdesc:aeec515b69d6b1532bedb39af03e20bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an index color model for specified ARGB codes.  <a href="#aeec515b69d6b1532bedb39af03e20bbf">More...</a><br /></td></tr>
<tr class="separator:aeec515b69d6b1532bedb39af03e20bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d0c88891a3fbba30f9758346312afb"><td class="memItemLeft" align="right" valign="top">static float []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#a54d0c88891a3fbba30f9758346312afb">XYZtoLAB</a> (final float[] color)</td></tr>
<tr class="memdesc:a54d0c88891a3fbba30f9758346312afb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transforms a color from XYZ color space to LAB.  <a href="#a54d0c88891a3fbba30f9758346312afb">More...</a><br /></td></tr>
<tr class="separator:a54d0c88891a3fbba30f9758346312afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff4e16532ab6c489a944fe093d32a640"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#aff4e16532ab6c489a944fe093d32a640">colorDistance</a> (final float[] lab1, final float[] lab2)</td></tr>
<tr class="memdesc:aff4e16532ab6c489a944fe093d32a640"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the distance E (CIE 1994) between two colors in LAB color space.  <a href="#aff4e16532ab6c489a944fe093d32a640">More...</a><br /></td></tr>
<tr class="separator:aff4e16532ab6c489a944fe093d32a640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a234a98a4c3c4c0ecfe3cc9c24edda621"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#a234a98a4c3c4c0ecfe3cc9c24edda621">getTransparentPixel</a> (final IndexColorModel colors)</td></tr>
<tr class="memdesc:a234a98a4c3c4c0ecfe3cc9c24edda621"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most transparent pixel in the specified color model.  <a href="#a234a98a4c3c4c0ecfe3cc9c24edda621">More...</a><br /></td></tr>
<tr class="separator:a234a98a4c3c4c0ecfe3cc9c24edda621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af843a53faa09bbe8112ca88a1975a504"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#af843a53faa09bbe8112ca88a1975a504">getColorIndex</a> (final IndexColorModel colors, final Color color, final int exclude)</td></tr>
<tr class="memdesc:af843a53faa09bbe8112ca88a1975a504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the index of the specified color, excluding the specified one.  <a href="#af843a53faa09bbe8112ca88a1975a504">More...</a><br /></td></tr>
<tr class="separator:af843a53faa09bbe8112ca88a1975a504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad74e87adcdda73f8f117345e39fef986"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#ad74e87adcdda73f8f117345e39fef986">isGrayPalette</a> (final IndexColorModel model, boolean ignoreTransparents)</td></tr>
<tr class="memdesc:ad74e87adcdda73f8f117345e39fef986"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells if a specific <a class="el" href="">IndexColorModel</a> contains only gray color, ignoring alpha information.  <a href="#ad74e87adcdda73f8f117345e39fef986">More...</a><br /></td></tr>
<tr class="separator:ad74e87adcdda73f8f117345e39fef986"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:afba35bdad0d4917767fd4641d9e4345b"><td class="memItemLeft" align="right" valign="top">static final IndexColorModel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#afba35bdad0d4917767fd4641d9e4345b">BINARY_COLOR_MODEL</a></td></tr>
<tr class="memdesc:afba35bdad0d4917767fd4641d9e4345b"><td class="mdescLeft">&#160;</td><td class="mdescRight">An index color model having only two colors, black and white.  <a href="#afba35bdad0d4917767fd4641d9e4345b">More...</a><br /></td></tr>
<tr class="separator:afba35bdad0d4917767fd4641d9e4345b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aab83f4420fa3351e8e72aef5dcd831a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06811.html#aab83f4420fa3351e8e72aef5dcd831a1">ColorUtilities</a> ()</td></tr>
<tr class="memdesc:aab83f4420fa3351e8e72aef5dcd831a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do not allow creation of instances of this class.  <a href="#aab83f4420fa3351e8e72aef5dcd831a1">More...</a><br /></td></tr>
<tr class="separator:aab83f4420fa3351e8e72aef5dcd831a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A set of static methods for handling of colors informations. </p>
<p>Some of those methods are useful, but not really rigorous. This is why they do not appear in any "official" package, but instead in this private one. </p><pre class="fragment">                 &lt;strong&gt;Do not rely on this API!&lt;/strong&gt;
</pre><p>It may change in incompatible way in any future version.</p>
<dl class="section author"><dt>Author</dt><dd>Martin Desruisseaux (IRD, Geomatys) </dd>
<dd>
Simone Giannecchini (Geosolutions)</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.2  </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aab83f4420fa3351e8e72aef5dcd831a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab83f4420fa3351e8e72aef5dcd831a1">&#9670;&nbsp;</a></span>ColorUtilities()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a06811.html">ColorUtilities</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do not allow creation of instances of this class. </p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                             {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aff4e16532ab6c489a944fe093d32a640"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff4e16532ab6c489a944fe093d32a640">&#9670;&nbsp;</a></span>colorDistance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float colorDistance </td>
          <td>(</td>
          <td class="paramtype">final float []&#160;</td>
          <td class="paramname"><em>lab1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final float []&#160;</td>
          <td class="paramname"><em>lab2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the distance E (CIE 1994) between two colors in LAB color space. </p>
<p>Reference: <a href="http://www.brucelindbloom.com/index.html?ColorDifferenceCalc.html">http://www.brucelindbloom.com/index.html?ColorDifferenceCalc.html</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lab1</td><td>The first LAB color. </td></tr>
    <tr><td class="paramname">lab2</td><td>The second LAB color. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The CIE94 distance between the two supplied colors. </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06811.html#af843a53faa09bbe8112ca88a1975a504">ColorUtilities.getColorIndex()</a>, and <a class="el" href="a06811.html#a234a98a4c3c4c0ecfe3cc9c24edda621">ColorUtilities.getTransparentPixel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                                                              {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordtype">double</span> sum;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">false</span>) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="comment">// Computes distance using CIE94 formula.</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="comment">// NOTE: this formula sometime fails because of negative</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="comment">//       value in the first Math.sqrt(...) expression.</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">double</span> dL = (double) lab1[0] - lab2[0];</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">double</span> da = (double) lab1[1] - lab2[1];</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">double</span> db = (double) lab1[2] - lab2[2];</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">double</span> C1 = Math.hypot(lab1[1], lab1[2]);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">double</span> C2 = Math.hypot(lab2[1], lab2[2]);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">double</span> dC = C1 - C2;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">double</span> dH = Math.sqrt(da*da + db*db - dC*dC);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">double</span> sL = dL / 2;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">double</span> sC = dC / (1 + 0.048*C1);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">double</span> sH = dH / (1 + 0.014*C1);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            sum = sL*sL + sC*sC + sH*sH;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="comment">// Computes distance using delta E formula.</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            sum = 0;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=Math.min(lab1.length, lab2.length); --i&gt;=0;) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="keyword">final</span> <span class="keywordtype">double</span> delta = lab1[i] - lab2[i];</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                sum += delta*delta;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">float</span>) Math.sqrt(sum);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="aac9e46de22f27977792797cff1630a31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac9e46de22f27977792797cff1630a31">&#9670;&nbsp;</a></span>expand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void expand </td>
          <td>(</td>
          <td class="paramtype">final Color []&#160;</td>
          <td class="paramname"><em>colors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int []&#160;</td>
          <td class="paramname"><em>ARGB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>lower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>upper</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies. </p>
<div class="fragment"><div class="line">colors </div></div><!-- fragment --><p> into array</p><div class="fragment"><div class="line">ARGB </div></div><!-- fragment --><p> from index</p><div class="fragment"><div class="line">lower </div></div><!-- fragment --><p> inclusive to index</p><div class="fragment"><div class="line">upper </div></div><!-- fragment --><p> exclusive. If</p><div class="fragment"><div class="line">upper-lower </div></div><!-- fragment --><p> is not equal to the length of</p><div class="fragment"><div class="line">colors </div></div><!-- fragment --><p> array, then colors will be interpolated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colors</td><td>Colors to copy into the<div class="fragment"><div class="line">ARGB </div></div><!-- fragment --> array. </td></tr>
    <tr><td class="paramname">ARGB</td><td>Array of integer to write ARGB values to. </td></tr>
    <tr><td class="paramname">lower</td><td>Index (inclusive) of the first element of<div class="fragment"><div class="line">ARGB </div></div><!-- fragment --> to change. </td></tr>
    <tr><td class="paramname">upper</td><td>Index (exclusive) of the last element of<div class="fragment"><div class="line">ARGB </div></div><!-- fragment --> to change. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="a07031.html#aa8498ab514905767badc50bbb1adbf23">IndexedPalette.createARGB()</a>.</p>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                                                                                        {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span>[] codes = <span class="keyword">new</span> <span class="keywordtype">int</span>[colors.length];</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;codes.length; i++) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            codes[i] = colors[i].getRGB();      <span class="comment">// Note: getRGB() is really getARGB().</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        ColorModelFactory.expand(codes, ARGB, lower, upper);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="af843a53faa09bbe8112ca88a1975a504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af843a53faa09bbe8112ca88a1975a504">&#9670;&nbsp;</a></span>getColorIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int getColorIndex </td>
          <td>(</td>
          <td class="paramtype">final IndexColorModel&#160;</td>
          <td class="paramname"><em>colors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Color&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>exclude</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the index of the specified color, excluding the specified one. </p>
<p>If the color is not explicitly found, a close color is returned. This method never returns a negative value (0 is returned if the color model has no colors).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colors</td><td>The color model in which to look for a color index. </td></tr>
    <tr><td class="paramname">color</td><td>The color to search for. </td></tr>
    <tr><td class="paramname">exclude</td><td>An index to exclude from the search (usually the background or the  <a class="el" href="a06811.html#a234a98a4c3c4c0ecfe3cc9c24edda621" title="Returns the most transparent pixel in the specified color model. ">getTransparentPixel</a> transparent} pixel), or -1 if none. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the color, or 0. </dd></dl>

<p class="reference">References <a class="el" href="a06811.html#aff4e16532ab6c489a944fe093d32a640">ColorUtilities.colorDistance()</a>, and <a class="el" href="a06811.html#a54d0c88891a3fbba30f9758346312afb">ColorUtilities.XYZtoLAB()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06815.html#a5b0b8dd0eb7893a07022c0870a71ed57">DeferredPlanarImage.getDefaultDataBuffer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keyword">final</span> ColorSpace space = colors.getColorSpace();</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">float</span>[] RGB = {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            color.getRed()   / 255f,</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            color.getGreen() / 255f,</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            color.getBlue()  / 255f</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        };</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">float</span>[] REF = <a class="code" href="a06811.html#a54d0c88891a3fbba30f9758346312afb">XYZtoLAB</a>(space.toCIEXYZ(RGB));</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordtype">float</span> delta = Float.POSITIVE_INFINITY;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordtype">int</span> index = 0;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        assert REF != RGB;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=colors.getMapSize(); --i&gt;=0;) {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordflow">if</span> (i != exclude) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                RGB[0] = colors.getRed  (i) / 255f;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                RGB[1] = colors.getGreen(i) / 255f;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                RGB[2] = colors.getBlue (i) / 255f;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <span class="keyword">final</span> <span class="keywordtype">float</span> d = <a class="code" href="a06811.html#aff4e16532ab6c489a944fe093d32a640">colorDistance</a>(<a class="code" href="a06811.html#a54d0c88891a3fbba30f9758346312afb">XYZtoLAB</a>(space.toCIEXYZ(RGB)), REF);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                assert d &gt;= 0 : i; <span class="comment">// Check mostly for NaN value</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                <span class="keywordflow">if</span> (d &lt;= delta) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    delta = d;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    index = i;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">return</span> index;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div><div class="ttc" id="a06811_html_aff4e16532ab6c489a944fe093d32a640"><div class="ttname"><a href="a06811.html#aff4e16532ab6c489a944fe093d32a640">org.geotoolkit.image.color.ColorUtilities.colorDistance</a></div><div class="ttdeci">static float colorDistance(final float[] lab1, final float[] lab2)</div><div class="ttdoc">Computes the distance E (CIE 1994) between two colors in LAB color space. </div><div class="ttdef"><b>Definition:</b> ColorUtilities.java:236</div></div>
<div class="ttc" id="a06811_html_a54d0c88891a3fbba30f9758346312afb"><div class="ttname"><a href="a06811.html#a54d0c88891a3fbba30f9758346312afb">org.geotoolkit.image.color.ColorUtilities.XYZtoLAB</a></div><div class="ttdeci">static float [] XYZtoLAB(final float[] color)</div><div class="ttdoc">Transforms a color from XYZ color space to LAB. </div><div class="ttdef"><b>Definition:</b> ColorUtilities.java:209</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeec515b69d6b1532bedb39af03e20bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeec515b69d6b1532bedb39af03e20bbf">&#9670;&nbsp;</a></span>getIndexColorModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static IndexColorModel getIndexColorModel </td>
          <td>(</td>
          <td class="paramtype">final int []&#160;</td>
          <td class="paramname"><em>ARGB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an index color model for specified ARGB codes. </p>
<p>If the specified array has not transparent color (i.e. all alpha values are 255), then the returned color model will be opaque. Otherwise, if the specified array has one and only one color with alpha value of 0, the returned color model will have only this transparent color. Otherwise, the returned color model will be translucent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ARGB</td><td>An array of ARGB values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An index color model for the specified array. </dd></dl>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                                                                       {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">return</span> ColorModelFactory.createIndexColorModel(ARGB, 1, 0, -1);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a443f6a165c782fa9006cab94348173cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a443f6a165c782fa9006cab94348173cf">&#9670;&nbsp;</a></span>getIntFromColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int getIntFromColor </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an sRGB color with the specified red, green, blue, and alpha values in the range (0 - 255). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the red component. </td></tr>
    <tr><td class="paramname">g</td><td>the green component. </td></tr>
    <tr><td class="paramname">b</td><td>the blue component. </td></tr>
    <tr><td class="paramname">a</td><td>the alpha component. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The RGB color from the given components. </dd></dl>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                                                  {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">return</span> ((a &amp; 0xFF) &lt;&lt; 24) |</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;               ((r &amp; 0xFF) &lt;&lt; 16) |</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;               ((g &amp; 0xFF) &lt;&lt;  8) |</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                (b &amp; 0xFF);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a234a98a4c3c4c0ecfe3cc9c24edda621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234a98a4c3c4c0ecfe3cc9c24edda621">&#9670;&nbsp;</a></span>getTransparentPixel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int getTransparentPixel </td>
          <td>(</td>
          <td class="paramtype">final IndexColorModel&#160;</td>
          <td class="paramname"><em>colors</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the most transparent pixel in the specified color model. </p>
<p>If many colors has the same alpha value, than the darkest one is returned. This method never returns a negative value (0 is returned if the color model has no colors).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colors</td><td>The color model in which to look for a transparent color. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of a transparent color, or 0. </dd></dl>

<p class="reference">References <a class="el" href="a06811.html#aff4e16532ab6c489a944fe093d32a640">ColorUtilities.colorDistance()</a>, and <a class="el" href="a06811.html#a54d0c88891a3fbba30f9758346312afb">ColorUtilities.XYZtoLAB()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06815.html#a5b0b8dd0eb7893a07022c0870a71ed57">DeferredPlanarImage.getDefaultDataBuffer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                                                                        {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordtype">int</span> index = colors.getTransparentPixel();</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">if</span> (index &lt; 0) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            index = 0;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordtype">int</span>   alpha = Integer.MAX_VALUE;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordtype">float</span> delta = Float.POSITIVE_INFINITY;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keyword">final</span> ColorSpace space = colors.getColorSpace();</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">float</span>[] RGB   = <span class="keyword">new</span> <span class="keywordtype">float</span>[3];</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">float</span>[] BLACK = <a class="code" href="a06811.html#a54d0c88891a3fbba30f9758346312afb">XYZtoLAB</a>(space.toCIEXYZ(RGB)); <span class="comment">// Black in Lab color space.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            assert BLACK != RGB;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=colors.getMapSize(); --i&gt;=0;) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                <span class="keyword">final</span> <span class="keywordtype">int</span> a = colors.getAlpha(i);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <span class="keywordflow">if</span> (a &lt;= alpha) {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    RGB[0] = colors.getRed  (i)/255f;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    RGB[1] = colors.getGreen(i)/255f;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    RGB[2] = colors.getBlue (i)/255f;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                    <span class="keyword">final</span> <span class="keywordtype">float</span> d = <a class="code" href="a06811.html#aff4e16532ab6c489a944fe093d32a640">colorDistance</a>(<a class="code" href="a06811.html#a54d0c88891a3fbba30f9758346312afb">XYZtoLAB</a>(space.toCIEXYZ(RGB)), BLACK);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                    assert d &gt;= 0 : i; <span class="comment">// Check mostly for NaN value</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    <span class="keywordflow">if</span> (a&lt;alpha || d&lt;delta) {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                        alpha = a;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                        delta = d;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        index = i;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">return</span> index;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    }</div><div class="ttc" id="a06811_html_aff4e16532ab6c489a944fe093d32a640"><div class="ttname"><a href="a06811.html#aff4e16532ab6c489a944fe093d32a640">org.geotoolkit.image.color.ColorUtilities.colorDistance</a></div><div class="ttdeci">static float colorDistance(final float[] lab1, final float[] lab2)</div><div class="ttdoc">Computes the distance E (CIE 1994) between two colors in LAB color space. </div><div class="ttdef"><b>Definition:</b> ColorUtilities.java:236</div></div>
<div class="ttc" id="a06811_html_a54d0c88891a3fbba30f9758346312afb"><div class="ttname"><a href="a06811.html#a54d0c88891a3fbba30f9758346312afb">org.geotoolkit.image.color.ColorUtilities.XYZtoLAB</a></div><div class="ttdeci">static float [] XYZtoLAB(final float[] color)</div><div class="ttdoc">Transforms a color from XYZ color space to LAB. </div><div class="ttdef"><b>Definition:</b> ColorUtilities.java:209</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad74e87adcdda73f8f117345e39fef986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad74e87adcdda73f8f117345e39fef986">&#9670;&nbsp;</a></span>isGrayPalette()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean isGrayPalette </td>
          <td>(</td>
          <td class="paramtype">final IndexColorModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>ignoreTransparents</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells if a specific <a class="el" href="">IndexColorModel</a> contains only gray color, ignoring alpha information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>index color model to be inspected. </td></tr>
    <tr><td class="paramname">ignoreTransparents</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                                                                                 {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">if</span> (!model.hasAlpha()) {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="comment">// We will not check transparent pixels if there is none in the color model.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            ignoreTransparents = <span class="keyword">false</span>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> mapSize = model.getMapSize();</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;mapSize; i++) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">if</span> (ignoreTransparents) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <span class="comment">// If this entry is transparent and we were asked</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="comment">// to ignore fully transparents pixels, let&#39;s leave.</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                <span class="keywordflow">if</span> (model.getAlpha(i) == 0) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="comment">// Get the color for this pixel only if it is requested.</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="comment">// If gray, all components are the same.</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> green = model.getGreen(i);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="keywordflow">if</span> (green != model.getRed(i) || green != model.getBlue(i)) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a83e133c9af7712212427e87490c30cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83e133c9af7712212427e87490c30cf5">&#9670;&nbsp;</a></span>roundByte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int roundByte </td>
          <td>(</td>
          <td class="paramtype">final double&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rounds a float value and clamp the result between 0 and 255 inclusive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The value to round. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The rounded and clamped value. </dd></dl>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                                    {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) Math.min(Math.max(Math.round(value), 0), 255);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a1a06e13f1cf2dbab0df28fc136b7d125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a06e13f1cf2dbab0df28fc136b7d125">&#9670;&nbsp;</a></span>subarray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Color [] subarray </td>
          <td>(</td>
          <td class="paramtype">final Color []&#160;</td>
          <td class="paramname"><em>palette</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>upper</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a subarray of the specified color array. </p>
<p>The</p><div class="fragment"><div class="line">lower </div></div><!-- fragment --><p> and</p><div class="fragment"><div class="line">upper </div></div><!-- fragment --><p> index will be clamb into the</p><div class="fragment"><div class="line">palette </div></div><!-- fragment --><p> range. If they are completely out of range, or if they would result in an empty array, then</p><div class="fragment"><div class="line">null </div></div><!-- fragment --><p> is returned. </p>
<p>This method is used by <a class="el" href="">org.geotoolkit.coverage.SampleDimension</a> as an heuristic approach for distributing palette colors into a list of categories.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">palette</td><td>The color array (may be<div class="fragment"><div class="line">null </div></div><!-- fragment --> ). </td></tr>
    <tr><td class="paramname">lower</td><td>The lower index, inclusive. </td></tr>
    <tr><td class="paramname">upper</td><td>The upper index, inclusive. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The subarray (may be<div class="fragment"><div class="line">palette </div></div><!-- fragment --> if the original array already fit), or<div class="fragment"><div class="line">null </div></div><!-- fragment --> if the<div class="fragment"><div class="line">lower </div></div><!-- fragment --> and<div class="fragment"><div class="line">upper </div></div><!-- fragment --> index are out of<div class="fragment"><div class="line">palette </div></div><!-- fragment --> bounds. </dd></dl>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                                                                {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">if</span> (palette != null) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            lower = Math.max(lower, 0);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            upper = Math.min(upper, palette.length);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">if</span> (lower &gt;= upper) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">if</span> (lower != 0 || upper != palette.length) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="keywordflow">return</span> Arrays.copyOfRange(palette, lower, upper);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">return</span> palette;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="ab1b8fc8a83c519214b447c6eaac4ae25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1b8fc8a83c519214b447c6eaac4ae25">&#9670;&nbsp;</a></span>toDoubleValues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double [] toDoubleValues </td>
          <td>(</td>
          <td class="paramtype">final Color&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>numBands</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the color components in an array of. </p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> </div></div><!-- fragment --><p> values. This is mostly for usage with JAI operators which require sample values as</p><div class="fragment"><div class="line"><span class="keywordtype">double</span> </div></div><!-- fragment --><p> no matter the actual image data type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td>The color for which to extract the component values. </td></tr>
    <tr><td class="paramname">numBands</td><td>The length of the array to be returned. If greater than 4, then the extra values will be initialized to 0. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The color components in an array of the given length. </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06975.html#a6491caa4e5ce585a6e291fd7df856406">FloodFill.fill()</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                                                                 {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">double</span>[] values = <span class="keyword">new</span> <span class="keywordtype">double</span>[numBands];</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">switch</span> (numBands) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">default</span>: values[3] = color.getAlpha();</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordflow">case</span> 3:  values[2] = color.getBlue();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keywordflow">case</span> 2:  values[1] = color.getGreen();</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="keywordflow">case</span> 1:  values[0] = color.getRed();</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="keywordflow">case</span> 0:  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">return</span> values;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="aaed0f7564635753edb32e171e5c1a83f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaed0f7564635753edb32e171e5c1a83f">&#9670;&nbsp;</a></span>toString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static String toString </td>
          <td>(</td>
          <td class="paramtype">final Color&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string representation of the given color. </p>
<p>This method omits the alpha component if the color is opaque.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td>The color. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string representation of the given color.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.14 </dd></dl>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                                     {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordtype">int</span> ARGB = color.getRGB();</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">boolean</span> isOpaque = (ARGB &amp; 0xFF000000) == 0xFF000000;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordtype">int</span> size;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">if</span> (isOpaque) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            ARGB &amp;= 0xFFFFFF;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            size = 6;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            size = 8;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keyword">final</span> String code = Integer.toHexString(ARGB).toUpperCase(Locale.US);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        size -= code.length();</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keyword">final</span> StringBuilder buffer = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        buffer.append(<span class="charliteral">&#39;#&#39;</span>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">while</span> (--size &gt;= 0) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            buffer.append(<span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">return</span> buffer.append(code).toString();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a54d0c88891a3fbba30f9758346312afb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d0c88891a3fbba30f9758346312afb">&#9670;&nbsp;</a></span>XYZtoLAB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float [] XYZtoLAB </td>
          <td>(</td>
          <td class="paramtype">final float []&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transforms a color from XYZ color space to LAB. </p>
<p>The color are transformed in place. This method returns</p><div class="fragment"><div class="line">color </div></div><!-- fragment --><p> for convenience. </p>
<p>Reference: <a href="http://www.brucelindbloom.com/index.html?ColorDifferenceCalc.html">http://www.brucelindbloom.com/index.html?ColorDifferenceCalc.html</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td>The XYZ color to convert. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The LAB color. </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06811.html#af843a53faa09bbe8112ca88a1975a504">ColorUtilities.getColorIndex()</a>, and <a class="el" href="a06811.html#a234a98a4c3c4c0ecfe3cc9c24edda621">ColorUtilities.getTransparentPixel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                                        {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        color[0] /= 0.9642;   <span class="comment">// Other refeference: 0.95047;</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        color[1] /= 1.0000;   <span class="comment">//                    1.00000;</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        color[2] /= 0.8249;   <span class="comment">//                    1.08883;</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;3; i++) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">float</span> c = color[i];</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            color[i] = (float)((c &gt; 216/24389f) ? Math.pow(c, 1.0/3) : ((24389/27.0)*c + 16)/116);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">float</span> L = 116 *  color[1] - 16;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">float</span> a = 500 * (color[0] - color[1]);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">float</span> b = 200 * (color[1] - color[2]);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        assert !Float.isNaN(L) &amp;&amp; !Float.isNaN(a) &amp;&amp; !Float.isNaN(b);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        color[0] = L;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        color[1] = a;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        color[2] = b;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">return</span> color;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="afba35bdad0d4917767fd4641d9e4345b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afba35bdad0d4917767fd4641d9e4345b">&#9670;&nbsp;</a></span>BINARY_COLOR_MODEL</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final IndexColorModel BINARY_COLOR_MODEL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">new</span> IndexColorModel(</div><div class="line">            1, 2, <span class="keyword">new</span> <span class="keywordtype">int</span>[] {0, -1}, 0, <span class="keyword">false</span>, -1, DataBuffer.TYPE_BYTE)</div></div><!-- fragment -->
<p>An index color model having only two colors, black and white. </p>

<p class="reference">Referenced by <a class="el" href="a07011.html#ae33c60a088a675d97d37fd915632b610">SilhouetteMask.layout()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a03806.html">org</a></li><li class="navelem"><a class="el" href="a03815.html">geotoolkit</a></li><li class="navelem"><a class="el" href="a03823.html">image</a></li><li class="navelem"><a class="el" href="a03825.html">color</a></li><li class="navelem"><a class="el" href="a06811.html">ColorUtilities</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
