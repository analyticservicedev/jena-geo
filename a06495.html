<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jena-geo: ColorModelFactory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">jena-geo
   &#160;<span id="projectnumber">Version 0.1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a06495.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pac-static-methods">Static Package Functions</a> &#124;
<a href="#pac-attribs">Package Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="a06492.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ColorModelFactory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A factory for <a class="el" href="">ColorModel</a> objects built from a sequence of colors.  
 <a href="a06495.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for ColorModelFactory:</div>
<div class="dyncontent">
<div class="center"><img src="a06493.png" border="0" usemap="#ColorModelFactory_coll__map" alt="Collaboration graph"/></div>
<map name="ColorModelFactory_coll__map" id="ColorModelFactory_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a077e18fe97323c7194e2665ffc766399"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a077e18fe97323c7194e2665ffc766399">hashCode</a> ()</td></tr>
<tr class="memdesc:a077e18fe97323c7194e2665ffc766399"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public as an implementation side-effect.  <a href="#a077e18fe97323c7194e2665ffc766399">More...</a><br /></td></tr>
<tr class="separator:a077e18fe97323c7194e2665ffc766399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a537c7b35c090ed43e1d3f130188e9198"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a537c7b35c090ed43e1d3f130188e9198">equals</a> (final Object other)</td></tr>
<tr class="memdesc:a537c7b35c090ed43e1d3f130188e9198"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public as an implementation side-effect.  <a href="#a537c7b35c090ed43e1d3f130188e9198">More...</a><br /></td></tr>
<tr class="separator:a537c7b35c090ed43e1d3f130188e9198"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a830b5810cdb2a6e0df67a366eb32a364"><td class="memItemLeft" align="right" valign="top">static ColorModel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a830b5810cdb2a6e0df67a366eb32a364">createColorModel</a> (final SampleDimension[] bands, final int <a class="el" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>, final int <a class="el" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a>, Function&lt; Category, Color[]&gt; colors)</td></tr>
<tr class="memdesc:a830b5810cdb2a6e0df67a366eb32a364"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a color model interpolated for the ranges in the given sample dimensions.  <a href="#a830b5810cdb2a6e0df67a366eb32a364">More...</a><br /></td></tr>
<tr class="separator:a830b5810cdb2a6e0df67a366eb32a364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf4be7517ad471368de4589139716b1"><td class="memItemLeft" align="right" valign="top">static ColorModel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#accf4be7517ad471368de4589139716b1">createColorModel</a> (final Map&lt;? extends NumberRange&lt;?&gt;, ? extends Color[]&gt; categories, final int <a class="el" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>, final int <a class="el" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a>, final int <a class="el" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a>)</td></tr>
<tr class="memdesc:accf4be7517ad471368de4589139716b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a color model interpolated for the given ranges and colors.  <a href="#accf4be7517ad471368de4589139716b1">More...</a><br /></td></tr>
<tr class="separator:accf4be7517ad471368de4589139716b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae63031365ba7149f7d93ef88fb73eb45"><td class="memItemLeft" align="right" valign="top">static IndexColorModel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#ae63031365ba7149f7d93ef88fb73eb45">createIndexColorModel</a> (final int[] <a class="el" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>, final int <a class="el" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a>, final int <a class="el" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>, int transparent)</td></tr>
<tr class="memdesc:ae63031365ba7149f7d93ef88fb73eb45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a tolerant index color model for the specified ARGB code.  <a href="#ae63031365ba7149f7d93ef88fb73eb45">More...</a><br /></td></tr>
<tr class="separator:ae63031365ba7149f7d93ef88fb73eb45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac13739a7a18d0a2c51b3cf3e8881005a"><td class="memItemLeft" align="right" valign="top">static ColorModel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#ac13739a7a18d0a2c51b3cf3e8881005a">createGrayScale</a> (final int dataType, final int numComponents, final int <a class="el" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>, final double <a class="el" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">minimum</a>, final double <a class="el" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">maximum</a>)</td></tr>
<tr class="memdesc:ac13739a7a18d0a2c51b3cf3e8881005a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a color model for opaque images storing pixels as real numbers.  <a href="#ac13739a7a18d0a2c51b3cf3e8881005a">More...</a><br /></td></tr>
<tr class="separator:ac13739a7a18d0a2c51b3cf3e8881005a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfce602373a870b7634aafd9777d369b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#adfce602373a870b7634aafd9777d369b">formatDescription</a> (final ColorSpace cs, final StringBuilder buffer)</td></tr>
<tr class="memdesc:adfce602373a870b7634aafd9777d369b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a description of the given color space in the given buffer.  <a href="#adfce602373a870b7634aafd9777d369b">More...</a><br /></td></tr>
<tr class="separator:adfce602373a870b7634aafd9777d369b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea3f58fa7302f3622f35bbc112d048d4"><td class="memItemLeft" align="right" valign="top">static&lt; T extends ColorModel &gt; T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#aea3f58fa7302f3622f35bbc112d048d4">unique</a> (T cm)</td></tr>
<tr class="memdesc:aea3f58fa7302f3622f35bbc112d048d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a unique instance of the given color model.  <a href="#aea3f58fa7302f3622f35bbc112d048d4">More...</a><br /></td></tr>
<tr class="separator:aea3f58fa7302f3622f35bbc112d048d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ac3a5ba3d4b03b97e86778eda75711"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a52ac3a5ba3d4b03b97e86778eda75711">getBitCount</a> (final int mapSize)</td></tr>
<tr class="memdesc:a52ac3a5ba3d4b03b97e86778eda75711"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a bit count for an <a class="el" href="">IndexColorModel</a> mapping.  <a href="#a52ac3a5ba3d4b03b97e86778eda75711">More...</a><br /></td></tr>
<tr class="separator:a52ac3a5ba3d4b03b97e86778eda75711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d1508d51524a5cc003bbee77ab4147"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a67d1508d51524a5cc003bbee77ab4147">expand</a> (final int[] colors, final int[] <a class="el" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>, final int lower, final int upper)</td></tr>
<tr class="memdesc:a67d1508d51524a5cc003bbee77ab4147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies.  <a href="#a67d1508d51524a5cc003bbee77ab4147">More...</a><br /></td></tr>
<tr class="separator:a67d1508d51524a5cc003bbee77ab4147"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aaa86921831506368ba95532d0f14588b"><td class="memItemLeft" align="right" valign="top">static final Color&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#aaa86921831506368ba95532d0f14588b">TRANSPARENT</a> = new Color(0, true)</td></tr>
<tr class="memdesc:aaa86921831506368ba95532d0f14588b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The fully transparent color.  <a href="#aaa86921831506368ba95532d0f14588b">More...</a><br /></td></tr>
<tr class="separator:aaa86921831506368ba95532d0f14588b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63b75fcbb8f217072e82f0ca74e55b87"><td class="memItemLeft" align="right" valign="top">static final Function&lt; Category, Color[]&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a63b75fcbb8f217072e82f0ca74e55b87">GRAYSCALE</a></td></tr>
<tr class="memdesc:a63b75fcbb8f217072e82f0ca74e55b87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies a gray scale to quantitative category and transparent colors to qualitative categories.  <a href="#a63b75fcbb8f217072e82f0ca74e55b87">More...</a><br /></td></tr>
<tr class="separator:a63b75fcbb8f217072e82f0ca74e55b87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-static-methods"></a>
Static Package Functions</h2></td></tr>
<tr class="memitem:ac0483add2c2ab3b588bd23df02739321"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#ac0483add2c2ab3b588bd23df02739321">isStandardRange</a> (final int dataType, double <a class="el" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">minimum</a>, final double <a class="el" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">maximum</a>)</td></tr>
<tr class="memdesc:ac0483add2c2ab3b588bd23df02739321"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns.  <a href="#ac0483add2c2ab3b588bd23df02739321">More...</a><br /></td></tr>
<tr class="separator:ac0483add2c2ab3b588bd23df02739321"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-attribs"></a>
Package Attributes</h2></td></tr>
<tr class="memitem:a178d4845b732cd457f471a0f5d4ced90"><td class="memItemLeft" align="right" valign="top">final double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">maximum</a></td></tr>
<tr class="separator:a178d4845b732cd457f471a0f5d4ced90"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a23573661522f05d3f061645ec3be24a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory</a> (final Map&lt;? extends NumberRange&lt;?&gt;, ? extends Color[]&gt; categories, final int <a class="el" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>, final int <a class="el" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a>, final int <a class="el" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a>)</td></tr>
<tr class="memdesc:a23573661522f05d3f061645ec3be24a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new.  <a href="#a23573661522f05d3f061645ec3be24a5">More...</a><br /></td></tr>
<tr class="separator:a23573661522f05d3f061645ec3be24a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3668a325460160a3ac51f36bf18debee"><td class="memItemLeft" align="right" valign="top">ColorModel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">createColorModel</a> ()</td></tr>
<tr class="memdesc:a3668a325460160a3ac51f36bf18debee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the color model from the.  <a href="#a3668a325460160a3ac51f36bf18debee">More...</a><br /></td></tr>
<tr class="separator:a3668a325460160a3ac51f36bf18debee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a520bbed164302cc15c3cba0c54b9092d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a520bbed164302cc15c3cba0c54b9092d">getTransferType</a> (final int mapSize)</td></tr>
<tr class="memdesc:a520bbed164302cc15c3cba0c54b9092d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a suggested type for an <a class="el" href="">IndexColorModel</a> of.  <a href="#a520bbed164302cc15c3cba0c54b9092d">More...</a><br /></td></tr>
<tr class="separator:a520bbed164302cc15c3cba0c54b9092d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac386803e412997c83f3275d7eb8c445d"><td class="memItemLeft" align="right" valign="top">static int []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#ac386803e412997c83f3275d7eb8c445d">toARGB</a> (final Color[] colors)</td></tr>
<tr class="memdesc:ac386803e412997c83f3275d7eb8c445d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ARGB codes for the given colors.  <a href="#ac386803e412997c83f3275d7eb8c445d">More...</a><br /></td></tr>
<tr class="separator:ac386803e412997c83f3275d7eb8c445d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ffb7e7c8349b2776cc8bb9c4c30c23c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a8ffb7e7c8349b2776cc8bb9c4c30c23c">roundByte</a> (final float value)</td></tr>
<tr class="memdesc:a8ffb7e7c8349b2776cc8bb9c4c30c23c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rounds a float value and clamps the result between 0 and 255 inclusive.  <a href="#a8ffb7e7c8349b2776cc8bb9c4c30c23c">More...</a><br /></td></tr>
<tr class="separator:a8ffb7e7c8349b2776cc8bb9c4c30c23c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a51730ea90d6e8f665788b4bf90c84f4f"><td class="memItemLeft" align="right" valign="top">final double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">minimum</a></td></tr>
<tr class="memdesc:a51730ea90d6e8f665788b4bf90c84f4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The minimum (inclusive) and maximum (exclusive) sample values.  <a href="#a51730ea90d6e8f665788b4bf90c84f4f">More...</a><br /></td></tr>
<tr class="separator:a51730ea90d6e8f665788b4bf90c84f4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c9dd3074d082078d58738c02f20681"><td class="memItemLeft" align="right" valign="top">final int []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#ae0c9dd3074d082078d58738c02f20681">pieceStarts</a></td></tr>
<tr class="memdesc:ae0c9dd3074d082078d58738c02f20681"><td class="mdescLeft">&#160;</td><td class="mdescRight">In a color map defined by a piecewise function, indices where to store the first interpolated value in the color map.  <a href="#ae0c9dd3074d082078d58738c02f20681">More...</a><br /></td></tr>
<tr class="separator:ae0c9dd3074d082078d58738c02f20681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b3dc766734b387a8ec856b0a6ca3e86"><td class="memItemLeft" align="right" valign="top">final int [][]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a></td></tr>
<tr class="memdesc:a9b3dc766734b387a8ec856b0a6ca3e86"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Alpha-Red-Green-Blue codes for all segments of the piecewise function.  <a href="#a9b3dc766734b387a8ec856b0a6ca3e86">More...</a><br /></td></tr>
<tr class="separator:a9b3dc766734b387a8ec856b0a6ca3e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a222631519396875a9610c4bccec56eaf"><td class="memItemLeft" align="right" valign="top">final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a></td></tr>
<tr class="memdesc:a222631519396875a9610c4bccec56eaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The visible band (usually 0) used for the construction of a single instance of a <a class="el" href="">ColorModel</a>.  <a href="#a222631519396875a9610c4bccec56eaf">More...</a><br /></td></tr>
<tr class="separator:a222631519396875a9610c4bccec56eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8b817b89b958b862e489811688d6d7"><td class="memItemLeft" align="right" valign="top">final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a></td></tr>
<tr class="memdesc:a0d8b817b89b958b862e489811688d6d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of bands (usually 1) used for the construction of a single instance of a <a class="el" href="">ColorModel</a>.  <a href="#a0d8b817b89b958b862e489811688d6d7">More...</a><br /></td></tr>
<tr class="separator:a0d8b817b89b958b862e489811688d6d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a738253ca8df06ba8171d1b0a6c6726c6"><td class="memItemLeft" align="right" valign="top">final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a></td></tr>
<tr class="memdesc:a738253ca8df06ba8171d1b0a6c6726c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The color model type.  <a href="#a738253ca8df06ba8171d1b0a6c6726c6">More...</a><br /></td></tr>
<tr class="separator:a738253ca8df06ba8171d1b0a6c6726c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:aa785b3f1fc5d9bc07a7059ab3a8ef522"><td class="memItemLeft" align="right" valign="top">static final WeakHashSet&lt; <a class="el" href="a06499.html">ColorModelPatch</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#aa785b3f1fc5d9bc07a7059ab3a8ef522">CACHE</a> = new WeakHashSet&lt;&gt;(ColorModelPatch.class)</td></tr>
<tr class="memdesc:aa785b3f1fc5d9bc07a7059ab3a8ef522"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared instances of <a class="el" href="">ColorModel</a>s.  <a href="#aa785b3f1fc5d9bc07a7059ab3a8ef522">More...</a><br /></td></tr>
<tr class="separator:aa785b3f1fc5d9bc07a7059ab3a8ef522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab23566b6069e1ec7969c46329caa5ea9"><td class="memItemLeft" align="right" valign="top">static final Map&lt; <a class="el" href="a06495.html">ColorModelFactory</a>, ColorModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#ab23566b6069e1ec7969c46329caa5ea9">PIECEWISES</a> = new WeakValueHashMap&lt;&gt;(ColorModelFactory.class)</td></tr>
<tr class="memdesc:ab23566b6069e1ec7969c46329caa5ea9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pool of color models previously created by <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">createColorModel()</a>.  <a href="#ab23566b6069e1ec7969c46329caa5ea9">More...</a><br /></td></tr>
<tr class="separator:ab23566b6069e1ec7969c46329caa5ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a215afedec253b0ebee6ab97bba3baa0c"><td class="memItemLeft" align="right" valign="top">static final Comparator&lt; Map.Entry&lt; NumberRange&lt;?&gt;, Color[]&gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06495.html#a215afedec253b0ebee6ab97bba3baa0c">RANGE_COMPARATOR</a></td></tr>
<tr class="memdesc:a215afedec253b0ebee6ab97bba3baa0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Comparator for sorting ranges by their minimal value.  <a href="#a215afedec253b0ebee6ab97bba3baa0c">More...</a><br /></td></tr>
<tr class="separator:a215afedec253b0ebee6ab97bba3baa0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A factory for <a class="el" href="">ColorModel</a> objects built from a sequence of colors. </p>
<dl class="section author"><dt>Author</dt><dd>Martin Desruisseaux (IRD, Geomatys) </dd>
<dd>
Johann Sorel (Geomatys) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.1 </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.0  </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a23573661522f05d3f061645ec3be24a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23573661522f05d3f061645ec3be24a5">&#9670;&nbsp;</a></span>ColorModelFactory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a06495.html">ColorModelFactory</a> </td>
          <td>(</td>
          <td class="paramtype">final Map&lt;? extends NumberRange&lt;?&gt;, ? extends Color[]&gt;&#160;</td>
          <td class="paramname"><em>categories</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>visibleBand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>numBands</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a new. </p>
<div class="fragment"><div class="line"><a class="code" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory</a> </div></div><!-- fragment --><p> . This object will be used as a key in a <a class="el" href="">Map</a>, so this is not really a</p><div class="fragment"><div class="line"><a class="code" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory</a> </div></div><!-- fragment --><p> but a kind of "@code ColorModelKey @endcode " instead. However, since this constructor is private, user does not need to know that. </p>

<p class="reference">References <a class="el" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">ColorModelFactory.maximum</a>, <a class="el" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">ColorModelFactory.minimum</a>, <a class="el" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">ColorModelFactory.numBands</a>, <a class="el" href="a06495.html#a215afedec253b0ebee6ab97bba3baa0c">ColorModelFactory.RANGE_COMPARATOR</a>, <a class="el" href="a06495.html#ac386803e412997c83f3275d7eb8c445d">ColorModelFactory.toARGB()</a>, <a class="el" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">ColorModelFactory.type</a>, and <a class="el" href="a06495.html#a222631519396875a9610c4bccec56eaf">ColorModelFactory.visibleBand</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06495.html#accf4be7517ad471368de4589139716b1">ColorModelFactory.createColorModel()</a>, and <a class="el" href="a06495.html#a537c7b35c090ed43e1d3f130188e9198">ColorModelFactory.equals()</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        this.<a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a> = <a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        this.<a class="code" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a>    = <a class="code" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        this.<a class="code" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a>        = <a class="code" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        @SuppressWarnings({<span class="stringliteral">&quot;unchecked&quot;</span>, <span class="stringliteral">&quot;rawtypes&quot;</span>})</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keyword">final</span> Map.Entry&lt;NumberRange&lt;?&gt;, Color[]&gt;[] entries = categories.entrySet().toArray(<span class="keyword">new</span> Map.Entry[categories.size()]);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        Arrays.sort(entries, <a class="code" href="a06495.html#a215afedec253b0ebee6ab97bba3baa0c">RANGE_COMPARATOR</a>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordtype">int</span>     count   = 0;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordtype">int</span>[]   starts  = <span class="keyword">new</span> <span class="keywordtype">int</span>[entries.length + 1];</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordtype">int</span>[][] codes   = <span class="keyword">new</span> <span class="keywordtype">int</span>[entries.length][];</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordtype">double</span>  <a class="code" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">minimum</a> = Double.POSITIVE_INFINITY;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordtype">double</span>  <a class="code" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">maximum</a> = Double.NEGATIVE_INFINITY;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">final</span> Map.Entry&lt;NumberRange&lt;?&gt;, Color[]&gt; entry : entries) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keyword">final</span> NumberRange&lt;?&gt; range = entry.getKey();</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">double</span> min = range.getMinDouble(<span class="keyword">true</span>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">double</span> max = range.getMaxDouble(<span class="keyword">false</span>);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">if</span> (min &lt; minimum) minimum = min;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">if</span> (max &gt; maximum) maximum = max;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> lower = Math.round((<span class="keywordtype">float</span>) min);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> upper = Math.round((<span class="keywordtype">float</span>) max);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="keywordflow">if</span> (lower &lt; upper) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                <span class="keywordflow">if</span> (lower &lt; 0 || upper &gt; 0x10000) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    starts = ArraysExt.EMPTY_INT;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    codes  = null;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    count  = 0;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (codes != null) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    <span class="keywordflow">if</span> (count != 0) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                        <span class="keyword">final</span> <span class="keywordtype">int</span> before = starts[count];</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                        <span class="keywordflow">if</span> (before != lower) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                            <span class="keywordflow">if</span> (before &gt; lower) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                                <span class="comment">// TODO: remove the overlapped colors in previous range.</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                <span class="comment">// TODO: we could reduce the amount of copies.</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                                codes  = Arrays.copyOf(codes,   codes.length + 1);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                starts = Arrays.copyOf(starts, starts.length + 1);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                                codes[count++] = ArraysExt.EMPTY_INT;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                            }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                        }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    codes [  count] = <a class="code" href="a06495.html#ac386803e412997c83f3275d7eb8c445d">toARGB</a>(entry.getValue());</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    starts[  count] = lower;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    starts[++count] = upper;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">if</span> (minimum &gt;= maximum) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            minimum = 0;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            maximum = 1;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">         * The length of &#39;pieceStarts&#39; may differ from the expected length if there is holes between categories.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">         * We need to adjust the array length since it will determine the number of categories. Note that there</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">         * is one more element than the number of categories.</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span> (starts.length != 0) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            starts = ArraysExt.resize(starts, count + 1);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        this.minimum     = <a class="code" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">minimum</a>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        this.maximum     = <a class="code" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">maximum</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        this.<a class="code" href="a06495.html#ae0c9dd3074d082078d58738c02f20681">pieceStarts</a> = starts;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        this.<a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>        = codes;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div><div class="ttc" id="a06495_html_a178d4845b732cd457f471a0f5d4ced90"><div class="ttname"><a href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">org.apache.sis.internal.coverage.j2d.ColorModelFactory.maximum</a></div><div class="ttdeci">final double maximum</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:105</div></div>
<div class="ttc" id="a06495_html_a9b3dc766734b387a8ec856b0a6ca3e86"><div class="ttname"><a href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">org.apache.sis.internal.coverage.j2d.ColorModelFactory.ARGB</a></div><div class="ttdeci">final int [][] ARGB</div><div class="ttdoc">The Alpha-Red-Green-Blue codes for all segments of the piecewise function. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:122</div></div>
<div class="ttc" id="a06495_html_a222631519396875a9610c4bccec56eaf"><div class="ttname"><a href="a06495.html#a222631519396875a9610c4bccec56eaf">org.apache.sis.internal.coverage.j2d.ColorModelFactory.visibleBand</a></div><div class="ttdeci">final int visibleBand</div><div class="ttdoc">The visible band (usually 0) used for the construction of a single instance of a ColorModel. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:127</div></div>
<div class="ttc" id="a06495_html_ac386803e412997c83f3275d7eb8c445d"><div class="ttname"><a href="a06495.html#ac386803e412997c83f3275d7eb8c445d">org.apache.sis.internal.coverage.j2d.ColorModelFactory.toARGB</a></div><div class="ttdeci">static int [] toARGB(final Color[] colors)</div><div class="ttdoc">Returns the ARGB codes for the given colors. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:529</div></div>
<div class="ttc" id="a06495_html_ae0c9dd3074d082078d58738c02f20681"><div class="ttname"><a href="a06495.html#ae0c9dd3074d082078d58738c02f20681">org.apache.sis.internal.coverage.j2d.ColorModelFactory.pieceStarts</a></div><div class="ttdeci">final int [] pieceStarts</div><div class="ttdoc">In a color map defined by a piecewise function, indices where to store the first interpolated value i...</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:116</div></div>
<div class="ttc" id="a06495_html_a215afedec253b0ebee6ab97bba3baa0c"><div class="ttname"><a href="a06495.html#a215afedec253b0ebee6ab97bba3baa0c">org.apache.sis.internal.coverage.j2d.ColorModelFactory.RANGE_COMPARATOR</a></div><div class="ttdeci">static final Comparator&lt; Map.Entry&lt; NumberRange&lt;?&gt;, Color[]&gt; &gt; RANGE_COMPARATOR</div><div class="ttdoc">Comparator for sorting ranges by their minimal value. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:98</div></div>
<div class="ttc" id="a06495_html_a738253ca8df06ba8171d1b0a6c6726c6"><div class="ttname"><a href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">org.apache.sis.internal.coverage.j2d.ColorModelFactory.type</a></div><div class="ttdeci">final int type</div><div class="ttdoc">The color model type. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:147</div></div>
<div class="ttc" id="a06495_html_a51730ea90d6e8f665788b4bf90c84f4f"><div class="ttname"><a href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">org.apache.sis.internal.coverage.j2d.ColorModelFactory.minimum</a></div><div class="ttdeci">final double minimum</div><div class="ttdoc">The minimum (inclusive) and maximum (exclusive) sample values. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:105</div></div>
<div class="ttc" id="a06495_html_a0d8b817b89b958b862e489811688d6d7"><div class="ttname"><a href="a06495.html#a0d8b817b89b958b862e489811688d6d7">org.apache.sis.internal.coverage.j2d.ColorModelFactory.numBands</a></div><div class="ttdeci">final int numBands</div><div class="ttdoc">The number of bands (usually 1) used for the construction of a single instance of a ColorModel...</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:132</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3668a325460160a3ac51f36bf18debee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3668a325460160a3ac51f36bf18debee">&#9670;&nbsp;</a></span>createColorModel() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ColorModel createColorModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs the color model from the. </p>
<div class="fragment"><div class="line"><span class="preprocessor">#codes </span></div></div><!-- fragment --><p> and <a class="el" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a> data. This method is invoked the first time the color model is created, or when the value in the cache has been discarded. </p>

<p class="reference">References <a class="el" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ColorModelFactory.ARGB</a>, <a class="el" href="a06495.html#ac13739a7a18d0a2c51b3cf3e8881005a">ColorModelFactory.createGrayScale()</a>, <a class="el" href="a06495.html#ae63031365ba7149f7d93ef88fb73eb45">ColorModelFactory.createIndexColorModel()</a>, <a class="el" href="a06495.html#a67d1508d51524a5cc003bbee77ab4147">ColorModelFactory.expand()</a>, <a class="el" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">ColorModelFactory.maximum</a>, <a class="el" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">ColorModelFactory.minimum</a>, <a class="el" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">ColorModelFactory.numBands</a>, <a class="el" href="a06495.html#ae0c9dd3074d082078d58738c02f20681">ColorModelFactory.pieceStarts</a>, <a class="el" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">ColorModelFactory.type</a>, <a class="el" href="a06495.html#aea3f58fa7302f3622f35bbc112d048d4">ColorModelFactory.unique()</a>, and <a class="el" href="a06495.html#a222631519396875a9610c4bccec56eaf">ColorModelFactory.visibleBand</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06451.html#aa72235f1662f94786b1e594a1354bc80">GridCoverage.createColorModel()</a>, <a class="el" href="a06495.html#a830b5810cdb2a6e0df67a366eb32a364">ColorModelFactory.createColorModel()</a>, and <a class="el" href="a06459.html#a6bcc5c80277fbbdd44f034e1d3c08d8f">GridCoverageBuilder2.setValues()</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                          {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">         * If the requested type is any type not supported by IndexColorModel,</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">         * fallback on a generic (but very slow!) color model.</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a> != DataBuffer.TYPE_BYTE &amp;&amp; <a class="code" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a> != DataBuffer.TYPE_USHORT) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="a06495.html#ac13739a7a18d0a2c51b3cf3e8881005a">createGrayScale</a>(<a class="code" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a>, <a class="code" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a>, <a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>, <a class="code" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">minimum</a>, <a class="code" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">maximum</a>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">         * If there is no category, constructs a gray scale palette.</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> categoryCount = <a class="code" href="a06495.html#ae0c9dd3074d082078d58738c02f20681">pieceStarts</a>.length - 1;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a> == 1 &amp;&amp; categoryCount &lt;= 0) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keyword">final</span> ColorSpace cs = ColorSpace.getInstance(ColorSpace.CS_GRAY);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span>[] nBits = {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                DataBuffer.getDataTypeSize(<a class="code" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a>)</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            };</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="a06495.html#aea3f58fa7302f3622f35bbc112d048d4">unique</a>(<span class="keyword">new</span> ComponentColorModel(cs, nBits, <span class="keyword">false</span>, <span class="keyword">true</span>, Transparency.OPAQUE, <a class="code" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a>));</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">         * Interpolates the colors in the color palette. Colors that do not fall</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">         * in the range of a category will be set to a transparent color.</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span>[] colorMap;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordtype">int</span> transparent = -1;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">if</span> (categoryCount &lt;= 0) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            colorMap = ArraysExt.range(0, 256);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            colorMap = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="a06495.html#ae0c9dd3074d082078d58738c02f20681">pieceStarts</a>[categoryCount]];</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;categoryCount; i++) {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keyword">final</span> <span class="keywordtype">int</span>[] colors = <a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>[i];</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="keyword">final</span> <span class="keywordtype">int</span>   lower  = pieceStarts[i  ];</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <span class="keyword">final</span> <span class="keywordtype">int</span>   upper  = pieceStarts[i+1];</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="keywordflow">if</span> (transparent &lt; 0 &amp;&amp; colors.length == 0) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    transparent = lower;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <a class="code" href="a06495.html#a67d1508d51524a5cc003bbee77ab4147">expand</a>(colors, colorMap, lower, upper);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="a06495.html#ae63031365ba7149f7d93ef88fb73eb45">createIndexColorModel</a>(colorMap, <a class="code" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a>, <a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>, transparent);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div><div class="ttc" id="a06495_html_ac13739a7a18d0a2c51b3cf3e8881005a"><div class="ttname"><a href="a06495.html#ac13739a7a18d0a2c51b3cf3e8881005a">org.apache.sis.internal.coverage.j2d.ColorModelFactory.createGrayScale</a></div><div class="ttdeci">static ColorModel createGrayScale(final int dataType, final int numComponents, final int visibleBand, final double minimum, final double maximum)</div><div class="ttdoc">Creates a color model for opaque images storing pixels as real numbers. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:406</div></div>
<div class="ttc" id="a06495_html_a67d1508d51524a5cc003bbee77ab4147"><div class="ttname"><a href="a06495.html#a67d1508d51524a5cc003bbee77ab4147">org.apache.sis.internal.coverage.j2d.ColorModelFactory.expand</a></div><div class="ttdeci">static void expand(final int[] colors, final int[] ARGB, final int lower, final int upper)</div><div class="ttdoc">Copies. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:558</div></div>
<div class="ttc" id="a06495_html_a178d4845b732cd457f471a0f5d4ced90"><div class="ttname"><a href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">org.apache.sis.internal.coverage.j2d.ColorModelFactory.maximum</a></div><div class="ttdeci">final double maximum</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:105</div></div>
<div class="ttc" id="a06495_html_ae63031365ba7149f7d93ef88fb73eb45"><div class="ttname"><a href="a06495.html#ae63031365ba7149f7d93ef88fb73eb45">org.apache.sis.internal.coverage.j2d.ColorModelFactory.createIndexColorModel</a></div><div class="ttdeci">static IndexColorModel createIndexColorModel(final int[] ARGB, final int numBands, final int visibleBand, int transparent)</div><div class="ttdoc">Returns a tolerant index color model for the specified ARGB code. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:372</div></div>
<div class="ttc" id="a06495_html_a9b3dc766734b387a8ec856b0a6ca3e86"><div class="ttname"><a href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">org.apache.sis.internal.coverage.j2d.ColorModelFactory.ARGB</a></div><div class="ttdeci">final int [][] ARGB</div><div class="ttdoc">The Alpha-Red-Green-Blue codes for all segments of the piecewise function. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:122</div></div>
<div class="ttc" id="a06495_html_a222631519396875a9610c4bccec56eaf"><div class="ttname"><a href="a06495.html#a222631519396875a9610c4bccec56eaf">org.apache.sis.internal.coverage.j2d.ColorModelFactory.visibleBand</a></div><div class="ttdeci">final int visibleBand</div><div class="ttdoc">The visible band (usually 0) used for the construction of a single instance of a ColorModel. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:127</div></div>
<div class="ttc" id="a06495_html_ae0c9dd3074d082078d58738c02f20681"><div class="ttname"><a href="a06495.html#ae0c9dd3074d082078d58738c02f20681">org.apache.sis.internal.coverage.j2d.ColorModelFactory.pieceStarts</a></div><div class="ttdeci">final int [] pieceStarts</div><div class="ttdoc">In a color map defined by a piecewise function, indices where to store the first interpolated value i...</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:116</div></div>
<div class="ttc" id="a06495_html_a738253ca8df06ba8171d1b0a6c6726c6"><div class="ttname"><a href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">org.apache.sis.internal.coverage.j2d.ColorModelFactory.type</a></div><div class="ttdeci">final int type</div><div class="ttdoc">The color model type. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:147</div></div>
<div class="ttc" id="a06495_html_a51730ea90d6e8f665788b4bf90c84f4f"><div class="ttname"><a href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">org.apache.sis.internal.coverage.j2d.ColorModelFactory.minimum</a></div><div class="ttdeci">final double minimum</div><div class="ttdoc">The minimum (inclusive) and maximum (exclusive) sample values. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:105</div></div>
<div class="ttc" id="a06495_html_a0d8b817b89b958b862e489811688d6d7"><div class="ttname"><a href="a06495.html#a0d8b817b89b958b862e489811688d6d7">org.apache.sis.internal.coverage.j2d.ColorModelFactory.numBands</a></div><div class="ttdeci">final int numBands</div><div class="ttdoc">The number of bands (usually 1) used for the construction of a single instance of a ColorModel...</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:132</div></div>
<div class="ttc" id="a06495_html_aea3f58fa7302f3622f35bbc112d048d4"><div class="ttname"><a href="a06495.html#aea3f58fa7302f3622f35bbc112d048d4">org.apache.sis.internal.coverage.j2d.ColorModelFactory.unique</a></div><div class="ttdeci">static&lt; T extends ColorModel &gt; T unique(T cm)</div><div class="ttdoc">Returns a unique instance of the given color model. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:488</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a830b5810cdb2a6e0df67a366eb32a364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a830b5810cdb2a6e0df67a366eb32a364">&#9670;&nbsp;</a></span>createColorModel() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ColorModel createColorModel </td>
          <td>(</td>
          <td class="paramtype">final SampleDimension []&#160;</td>
          <td class="paramname"><em>bands</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>visibleBand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Function&lt; Category, Color[]&gt;&#160;</td>
          <td class="paramname"><em>colors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a color model interpolated for the ranges in the given sample dimensions. </p>
<p>This method builds up the color model from each category in the visible sample dimension. Returned instances of <a class="el" href="">ColorModel</a> are shared among all callers in the running virtual machine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bands</td><td>the sample dimensions for which to create a color model. </td></tr>
    <tr><td class="paramname">visibleBand</td><td>the band to be made visible (usually 0). All other bands (if any) will be ignored. </td></tr>
    <tr><td class="paramname">type</td><td>the color model type. One of <a class="el" href="">DataBuffer#TYPE_BYTE</a>, <a class="el" href="">DataBuffer#TYPE_USHORT</a>, <a class="el" href="">DataBuffer#TYPE_INT</a>, <a class="el" href="">DataBuffer#TYPE_FLOAT</a> or <a class="el" href="">DataBuffer#TYPE_DOUBLE</a>. </td></tr>
    <tr><td class="paramname">colors</td><td>the colors to use for each category. The function may return<div class="fragment"><div class="line">null </div></div><!-- fragment --> , which means transparent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a color model suitable for <a class="el" href="">java.awt.image.RenderedImage</a> objects with values in the given ranges. </dd></dl>

<p class="reference">References <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        ArgumentChecks.ensureNonNull(<span class="stringliteral">&quot;bands&quot;</span>,  bands);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        ArgumentChecks.ensureNonNull(<span class="stringliteral">&quot;colors&quot;</span>, colors);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keyword">final</span> Map&lt;NumberRange&lt;?&gt;, Color[]&gt; ranges = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">final</span> Category category : bands[<a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>].getCategories()) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            ranges.put(category.getSampleRange(), colors.apply(category));</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="a06495.html#a3668a325460160a3ac51f36bf18debee">createColorModel</a>(ranges, <a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>, bands.length, <a class="code" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div><div class="ttc" id="a06495_html_a3668a325460160a3ac51f36bf18debee"><div class="ttname"><a href="a06495.html#a3668a325460160a3ac51f36bf18debee">org.apache.sis.internal.coverage.j2d.ColorModelFactory.createColorModel</a></div><div class="ttdeci">ColorModel createColorModel()</div><div class="ttdoc">Constructs the color model from the. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:224</div></div>
<div class="ttc" id="a06495_html_a222631519396875a9610c4bccec56eaf"><div class="ttname"><a href="a06495.html#a222631519396875a9610c4bccec56eaf">org.apache.sis.internal.coverage.j2d.ColorModelFactory.visibleBand</a></div><div class="ttdeci">final int visibleBand</div><div class="ttdoc">The visible band (usually 0) used for the construction of a single instance of a ColorModel. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:127</div></div>
<div class="ttc" id="a06495_html_a738253ca8df06ba8171d1b0a6c6726c6"><div class="ttname"><a href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">org.apache.sis.internal.coverage.j2d.ColorModelFactory.type</a></div><div class="ttdeci">final int type</div><div class="ttdoc">The color model type. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:147</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="accf4be7517ad471368de4589139716b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accf4be7517ad471368de4589139716b1">&#9670;&nbsp;</a></span>createColorModel() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ColorModel createColorModel </td>
          <td>(</td>
          <td class="paramtype">final Map&lt;? extends NumberRange&lt;?&gt;, ? extends Color[]&gt;&#160;</td>
          <td class="paramname"><em>categories</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>visibleBand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>numBands</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a color model interpolated for the given ranges and colors. </p>
<p>This method builds up the color model from each set of colors associated to ranges in the given map. Returned instances of <a class="el" href="">ColorModel</a> are shared among all callers in the running virtual machine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">categories</td><td>the colors associated to ranges of sample values. </td></tr>
    <tr><td class="paramname">visibleBand</td><td>the band to be made visible (usually 0). All other bands, if any will be ignored. </td></tr>
    <tr><td class="paramname">numBands</td><td>the number of bands for the color model (usually 1). The returned color model will render only the<div class="fragment"><div class="line"><a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a> </div></div><!-- fragment --> and ignore the others, but the existence of all<div class="fragment"><div class="line"><a class="code" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a> </div></div><!-- fragment --> will be at least tolerated. Supplemental bands, even invisible, are useful for processing. </td></tr>
    <tr><td class="paramname">type</td><td>the color model type. One of <a class="el" href="">DataBuffer#TYPE_BYTE</a>, <a class="el" href="">DataBuffer#TYPE_USHORT</a>, <a class="el" href="">DataBuffer#TYPE_INT</a>, <a class="el" href="">DataBuffer#TYPE_FLOAT</a> or <a class="el" href="">DataBuffer#TYPE_DOUBLE</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a color model suitable for <a class="el" href="">java.awt.image.RenderedImage</a> objects with values in the given ranges. </dd></dl>

<p class="reference">References <a class="el" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory.ColorModelFactory()</a>, <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>, and <a class="el" href="a06495.html#ab23566b6069e1ec7969c46329caa5ea9">ColorModelFactory.PIECEWISES</a>.</p>
<div class="fragment"><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        ArgumentChecks.ensureNonNull(<span class="stringliteral">&quot;categories&quot;</span>, categories);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        ArgumentChecks.ensureBetween(<span class="stringliteral">&quot;visibleBand&quot;</span>, 0, <a class="code" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a> - 1, <a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keyword">final</span> <a class="code" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory</a> key = <span class="keyword">new</span> <a class="code" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory</a>(categories, <a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>, <a class="code" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a>, <a class="code" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a>);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keyword">synchronized</span> (<a class="code" href="a06495.html#ab23566b6069e1ec7969c46329caa5ea9">PIECEWISES</a>) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            ColorModel model = <a class="code" href="a06495.html#ab23566b6069e1ec7969c46329caa5ea9">PIECEWISES</a>.get(key);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordflow">if</span> (model == null) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                model = key.createColorModel();</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <a class="code" href="a06495.html#ab23566b6069e1ec7969c46329caa5ea9">PIECEWISES</a>.put(key, model);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keywordflow">return</span> model;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div><div class="ttc" id="a06495_html_a222631519396875a9610c4bccec56eaf"><div class="ttname"><a href="a06495.html#a222631519396875a9610c4bccec56eaf">org.apache.sis.internal.coverage.j2d.ColorModelFactory.visibleBand</a></div><div class="ttdeci">final int visibleBand</div><div class="ttdoc">The visible band (usually 0) used for the construction of a single instance of a ColorModel. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:127</div></div>
<div class="ttc" id="a06495_html_a23573661522f05d3f061645ec3be24a5"><div class="ttname"><a href="a06495.html#a23573661522f05d3f061645ec3be24a5">org.apache.sis.internal.coverage.j2d.ColorModelFactory.ColorModelFactory</a></div><div class="ttdeci">ColorModelFactory(final Map&lt;? extends NumberRange&lt;?&gt;, ? extends Color[]&gt; categories, final int visibleBand, final int numBands, final int type)</div><div class="ttdoc">Constructs a new. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:154</div></div>
<div class="ttc" id="a06495_html_a738253ca8df06ba8171d1b0a6c6726c6"><div class="ttname"><a href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">org.apache.sis.internal.coverage.j2d.ColorModelFactory.type</a></div><div class="ttdeci">final int type</div><div class="ttdoc">The color model type. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:147</div></div>
<div class="ttc" id="a06495_html_a0d8b817b89b958b862e489811688d6d7"><div class="ttname"><a href="a06495.html#a0d8b817b89b958b862e489811688d6d7">org.apache.sis.internal.coverage.j2d.ColorModelFactory.numBands</a></div><div class="ttdeci">final int numBands</div><div class="ttdoc">The number of bands (usually 1) used for the construction of a single instance of a ColorModel...</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:132</div></div>
<div class="ttc" id="a06495_html_ab23566b6069e1ec7969c46329caa5ea9"><div class="ttname"><a href="a06495.html#ab23566b6069e1ec7969c46329caa5ea9">org.apache.sis.internal.coverage.j2d.ColorModelFactory.PIECEWISES</a></div><div class="ttdeci">static final Map&lt; ColorModelFactory, ColorModel &gt; PIECEWISES</div><div class="ttdoc">A pool of color models previously created by createColorModel(). </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:93</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac13739a7a18d0a2c51b3cf3e8881005a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac13739a7a18d0a2c51b3cf3e8881005a">&#9670;&nbsp;</a></span>createGrayScale()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ColorModel createGrayScale </td>
          <td>(</td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>numComponents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>visibleBand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final double&#160;</td>
          <td class="paramname"><em>minimum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final double&#160;</td>
          <td class="paramname"><em>maximum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a color model for opaque images storing pixels as real numbers. </p>
<p>The color model can have an arbitrary number of bands, but in current implementation only one band is used.</p>
<p><b>Warning:</b> the use of this color model is very slow. It should be used only when no standard color model can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataType</td><td>the color model type as one of<div class="fragment"><div class="line">DataBuffer.TYPE_* </div></div><!-- fragment --> constants. </td></tr>
    <tr><td class="paramname">numComponents</td><td>the number of components. </td></tr>
    <tr><td class="paramname">visibleBand</td><td>the band to use for computing colors. </td></tr>
    <tr><td class="paramname">minimum</td><td>the minimal sample value expected. </td></tr>
    <tr><td class="paramname">maximum</td><td>the maximal sample value expected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the color model for the given range of values.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a06511.html#a08838b9702488c64ed7c49afad7af017" title="Creates an opaque image with a gray scale color model. ">RasterFactory::createGrayScaleImage(int, int, int, int, int, double, double)</a> </dd></dl>

<p class="reference">References <a class="el" href="a06495.html#ac0483add2c2ab3b588bd23df02739321">ColorModelFactory.isStandardRange()</a>, and <a class="el" href="a06495.html#aea3f58fa7302f3622f35bbc112d048d4">ColorModelFactory.unique()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>, and <a class="el" href="a06511.html#a08838b9702488c64ed7c49afad7af017">RasterFactory.createGrayScaleImage()</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keyword">final</span> ColorModel cm;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">if</span> (numComponents == 1 &amp;&amp; <a class="code" href="a06495.html#ac0483add2c2ab3b588bd23df02739321">isStandardRange</a>(dataType, <a class="code" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">minimum</a>, <a class="code" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">maximum</a>)) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="keyword">final</span> ColorSpace cs = ColorSpace.getInstance(ColorSpace.CS_GRAY);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            cm = <span class="keyword">new</span> ComponentColorModel(cs, <span class="keyword">false</span>, <span class="keyword">true</span>, Transparency.OPAQUE, dataType);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="keyword">final</span> ScaledColorSpace cs = <span class="keyword">new</span> ScaledColorSpace(numComponents, <a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>, <a class="code" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">minimum</a>, <a class="code" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">maximum</a>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            cm = <span class="keyword">new</span> ScaledColorModel(cs, dataType);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="a06495.html#aea3f58fa7302f3622f35bbc112d048d4">unique</a>(cm);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div><div class="ttc" id="a06495_html_ac0483add2c2ab3b588bd23df02739321"><div class="ttname"><a href="a06495.html#ac0483add2c2ab3b588bd23df02739321">org.apache.sis.internal.coverage.j2d.ColorModelFactory.isStandardRange</a></div><div class="ttdeci">static boolean isStandardRange(final int dataType, double minimum, final double maximum)</div><div class="ttdoc">Returns. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:435</div></div>
<div class="ttc" id="a06495_html_a178d4845b732cd457f471a0f5d4ced90"><div class="ttname"><a href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">org.apache.sis.internal.coverage.j2d.ColorModelFactory.maximum</a></div><div class="ttdeci">final double maximum</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:105</div></div>
<div class="ttc" id="a06495_html_a222631519396875a9610c4bccec56eaf"><div class="ttname"><a href="a06495.html#a222631519396875a9610c4bccec56eaf">org.apache.sis.internal.coverage.j2d.ColorModelFactory.visibleBand</a></div><div class="ttdeci">final int visibleBand</div><div class="ttdoc">The visible band (usually 0) used for the construction of a single instance of a ColorModel. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:127</div></div>
<div class="ttc" id="a06495_html_a51730ea90d6e8f665788b4bf90c84f4f"><div class="ttname"><a href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">org.apache.sis.internal.coverage.j2d.ColorModelFactory.minimum</a></div><div class="ttdeci">final double minimum</div><div class="ttdoc">The minimum (inclusive) and maximum (exclusive) sample values. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:105</div></div>
<div class="ttc" id="a06495_html_aea3f58fa7302f3622f35bbc112d048d4"><div class="ttname"><a href="a06495.html#aea3f58fa7302f3622f35bbc112d048d4">org.apache.sis.internal.coverage.j2d.ColorModelFactory.unique</a></div><div class="ttdeci">static&lt; T extends ColorModel &gt; T unique(T cm)</div><div class="ttdoc">Returns a unique instance of the given color model. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:488</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae63031365ba7149f7d93ef88fb73eb45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae63031365ba7149f7d93ef88fb73eb45">&#9670;&nbsp;</a></span>createIndexColorModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static IndexColorModel createIndexColorModel </td>
          <td>(</td>
          <td class="paramtype">final int []&#160;</td>
          <td class="paramname"><em>ARGB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>numBands</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>visibleBand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>transparent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a tolerant index color model for the specified ARGB code. </p>
<p>This color model accepts image with the specified number of bands.</p>
<p>This methods caches previously created instances using weak references, because index color model may be big (up to 256 kb).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ARGB</td><td>an array of ARGB values. </td></tr>
    <tr><td class="paramname">numBands</td><td>the number of bands. </td></tr>
    <tr><td class="paramname">visibleBand</td><td>the band to display. </td></tr>
    <tr><td class="paramname">transparent</td><td>the transparent pixel, or -1 for auto-detection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An index color model for the specified array. </dd></dl>

<p class="reference">References <a class="el" href="a06495.html#a52ac3a5ba3d4b03b97e86778eda75711">ColorModelFactory.getBitCount()</a>, <a class="el" href="a06495.html#a520bbed164302cc15c3cba0c54b9092d">ColorModelFactory.getTransferType()</a>, <a class="el" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">ColorModelFactory.type</a>, and <a class="el" href="a06495.html#aea3f58fa7302f3622f35bbc112d048d4">ColorModelFactory.unique()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                                                                                                                                      {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">         * No need to scan the ARGB values in search of a transparent pixel;</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">         * the IndexColorModel constructor does that for us.</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> length = <a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>.length;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> bits = <a class="code" href="a06495.html#a52ac3a5ba3d4b03b97e86778eda75711">getBitCount</a>(length);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a> = <a class="code" href="a06495.html#a520bbed164302cc15c3cba0c54b9092d">getTransferType</a>(length);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keyword">final</span> IndexColorModel cm;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a> == 1) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            cm = <span class="keyword">new</span> IndexColorModel(bits, length, <a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>, 0, <span class="keyword">true</span>, transparent, type);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            cm = <span class="keyword">new</span> MultiBandsIndexColorModel(bits, length, <a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>, 0, <span class="keyword">true</span>, transparent,</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                               type, <a class="code" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a>, <a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="a06495.html#aea3f58fa7302f3622f35bbc112d048d4">unique</a>(cm);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div><div class="ttc" id="a06495_html_a52ac3a5ba3d4b03b97e86778eda75711"><div class="ttname"><a href="a06495.html#a52ac3a5ba3d4b03b97e86778eda75711">org.apache.sis.internal.coverage.j2d.ColorModelFactory.getBitCount</a></div><div class="ttdeci">static int getBitCount(final int mapSize)</div><div class="ttdoc">Returns a bit count for an IndexColorModel mapping. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:516</div></div>
<div class="ttc" id="a06495_html_a520bbed164302cc15c3cba0c54b9092d"><div class="ttname"><a href="a06495.html#a520bbed164302cc15c3cba0c54b9092d">org.apache.sis.internal.coverage.j2d.ColorModelFactory.getTransferType</a></div><div class="ttdeci">static int getTransferType(final int mapSize)</div><div class="ttdoc">Returns a suggested type for an IndexColorModel of. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:501</div></div>
<div class="ttc" id="a06495_html_a9b3dc766734b387a8ec856b0a6ca3e86"><div class="ttname"><a href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">org.apache.sis.internal.coverage.j2d.ColorModelFactory.ARGB</a></div><div class="ttdeci">final int [][] ARGB</div><div class="ttdoc">The Alpha-Red-Green-Blue codes for all segments of the piecewise function. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:122</div></div>
<div class="ttc" id="a06495_html_a222631519396875a9610c4bccec56eaf"><div class="ttname"><a href="a06495.html#a222631519396875a9610c4bccec56eaf">org.apache.sis.internal.coverage.j2d.ColorModelFactory.visibleBand</a></div><div class="ttdeci">final int visibleBand</div><div class="ttdoc">The visible band (usually 0) used for the construction of a single instance of a ColorModel. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:127</div></div>
<div class="ttc" id="a06495_html_a738253ca8df06ba8171d1b0a6c6726c6"><div class="ttname"><a href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">org.apache.sis.internal.coverage.j2d.ColorModelFactory.type</a></div><div class="ttdeci">final int type</div><div class="ttdoc">The color model type. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:147</div></div>
<div class="ttc" id="a06495_html_a0d8b817b89b958b862e489811688d6d7"><div class="ttname"><a href="a06495.html#a0d8b817b89b958b862e489811688d6d7">org.apache.sis.internal.coverage.j2d.ColorModelFactory.numBands</a></div><div class="ttdeci">final int numBands</div><div class="ttdoc">The number of bands (usually 1) used for the construction of a single instance of a ColorModel...</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:132</div></div>
<div class="ttc" id="a06495_html_aea3f58fa7302f3622f35bbc112d048d4"><div class="ttname"><a href="a06495.html#aea3f58fa7302f3622f35bbc112d048d4">org.apache.sis.internal.coverage.j2d.ColorModelFactory.unique</a></div><div class="ttdeci">static&lt; T extends ColorModel &gt; T unique(T cm)</div><div class="ttdoc">Returns a unique instance of the given color model. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:488</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a537c7b35c090ed43e1d3f130188e9198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a537c7b35c090ed43e1d3f130188e9198">&#9670;&nbsp;</a></span>equals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean equals </td>
          <td>(</td>
          <td class="paramtype">final Object&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Public as an implementation side-effect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>the other object to compare for equality. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the two objects are equal. </dd></dl>

<p class="reference">References <a class="el" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ColorModelFactory.ARGB</a>, <a class="el" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory.ColorModelFactory()</a>, <a class="el" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">ColorModelFactory.maximum</a>, <a class="el" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">ColorModelFactory.minimum</a>, <a class="el" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">ColorModelFactory.numBands</a>, <a class="el" href="a06495.html#ae0c9dd3074d082078d58738c02f20681">ColorModelFactory.pieceStarts</a>, <a class="el" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">ColorModelFactory.type</a>, and <a class="el" href="a06495.html#a222631519396875a9610c4bccec56eaf">ColorModelFactory.visibleBand</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                                              {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span> (other == <span class="keyword">this</span>) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">if</span> (other instanceof <a class="code" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory</a>) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keyword">final</span> ColorModelFactory that = (<a class="code" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory</a>) other;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">return</span> this.<a class="code" href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">type</a>        == that.type</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                &amp;&amp; this.<a class="code" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a>    == that.numBands</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                &amp;&amp; this.<a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a> == that.visibleBand</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                &amp;&amp; this.<a class="code" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">minimum</a>     == that.minimum         <span class="comment">// Should never be NaN.</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                &amp;&amp; this.<a class="code" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">maximum</a>     == that.maximum</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                &amp;&amp; Arrays.equals(<a class="code" href="a06495.html#ae0c9dd3074d082078d58738c02f20681">pieceStarts</a>, that.pieceStarts)</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                &amp;&amp; Arrays.deepEquals(<a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>, that.ARGB);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div><div class="ttc" id="a06495_html_a178d4845b732cd457f471a0f5d4ced90"><div class="ttname"><a href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">org.apache.sis.internal.coverage.j2d.ColorModelFactory.maximum</a></div><div class="ttdeci">final double maximum</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:105</div></div>
<div class="ttc" id="a06495_html_a9b3dc766734b387a8ec856b0a6ca3e86"><div class="ttname"><a href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">org.apache.sis.internal.coverage.j2d.ColorModelFactory.ARGB</a></div><div class="ttdeci">final int [][] ARGB</div><div class="ttdoc">The Alpha-Red-Green-Blue codes for all segments of the piecewise function. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:122</div></div>
<div class="ttc" id="a06495_html_a222631519396875a9610c4bccec56eaf"><div class="ttname"><a href="a06495.html#a222631519396875a9610c4bccec56eaf">org.apache.sis.internal.coverage.j2d.ColorModelFactory.visibleBand</a></div><div class="ttdeci">final int visibleBand</div><div class="ttdoc">The visible band (usually 0) used for the construction of a single instance of a ColorModel. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:127</div></div>
<div class="ttc" id="a06495_html_ae0c9dd3074d082078d58738c02f20681"><div class="ttname"><a href="a06495.html#ae0c9dd3074d082078d58738c02f20681">org.apache.sis.internal.coverage.j2d.ColorModelFactory.pieceStarts</a></div><div class="ttdeci">final int [] pieceStarts</div><div class="ttdoc">In a color map defined by a piecewise function, indices where to store the first interpolated value i...</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:116</div></div>
<div class="ttc" id="a06495_html_a23573661522f05d3f061645ec3be24a5"><div class="ttname"><a href="a06495.html#a23573661522f05d3f061645ec3be24a5">org.apache.sis.internal.coverage.j2d.ColorModelFactory.ColorModelFactory</a></div><div class="ttdeci">ColorModelFactory(final Map&lt;? extends NumberRange&lt;?&gt;, ? extends Color[]&gt; categories, final int visibleBand, final int numBands, final int type)</div><div class="ttdoc">Constructs a new. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:154</div></div>
<div class="ttc" id="a06495_html_a738253ca8df06ba8171d1b0a6c6726c6"><div class="ttname"><a href="a06495.html#a738253ca8df06ba8171d1b0a6c6726c6">org.apache.sis.internal.coverage.j2d.ColorModelFactory.type</a></div><div class="ttdeci">final int type</div><div class="ttdoc">The color model type. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:147</div></div>
<div class="ttc" id="a06495_html_a51730ea90d6e8f665788b4bf90c84f4f"><div class="ttname"><a href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">org.apache.sis.internal.coverage.j2d.ColorModelFactory.minimum</a></div><div class="ttdeci">final double minimum</div><div class="ttdoc">The minimum (inclusive) and maximum (exclusive) sample values. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:105</div></div>
<div class="ttc" id="a06495_html_a0d8b817b89b958b862e489811688d6d7"><div class="ttname"><a href="a06495.html#a0d8b817b89b958b862e489811688d6d7">org.apache.sis.internal.coverage.j2d.ColorModelFactory.numBands</a></div><div class="ttdeci">final int numBands</div><div class="ttdoc">The number of bands (usually 1) used for the construction of a single instance of a ColorModel...</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:132</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a67d1508d51524a5cc003bbee77ab4147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d1508d51524a5cc003bbee77ab4147">&#9670;&nbsp;</a></span>expand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void expand </td>
          <td>(</td>
          <td class="paramtype">final int []&#160;</td>
          <td class="paramname"><em>colors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int []&#160;</td>
          <td class="paramname"><em>ARGB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>lower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>upper</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies. </p>
<div class="fragment"><div class="line">colors </div></div><!-- fragment --><p> into</p><div class="fragment"><div class="line"><a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a> </div></div><!-- fragment --><p> array from index</p><div class="fragment"><div class="line">lower </div></div><!-- fragment --><p> inclusive to index</p><div class="fragment"><div class="line">upper </div></div><!-- fragment --><p> exclusive. If</p><div class="fragment"><div class="line">upper-lower </div></div><!-- fragment --><p> is not equal to the length of</p><div class="fragment"><div class="line">colors </div></div><!-- fragment --><p> array, then colors will be interpolated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colors</td><td>colors to copy into the<div class="fragment"><div class="line"><a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a> </div></div><!-- fragment --> array. </td></tr>
    <tr><td class="paramname">ARGB</td><td>array of integer to write ARGB values into. </td></tr>
    <tr><td class="paramname">lower</td><td>index (inclusive) of the first element of<div class="fragment"><div class="line"><a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a> </div></div><!-- fragment --> to change. </td></tr>
    <tr><td class="paramname">upper</td><td>index (exclusive) of the last element of<div class="fragment"><div class="line"><a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a> </div></div><!-- fragment --> to change. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a06495.html#a8ffb7e7c8349b2776cc8bb9c4c30c23c">ColorModelFactory.roundByte()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                                                                                      {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">switch</span> (colors.length) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">case</span> 1: Arrays.fill(<a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>, lower, upper, colors[0]);         <span class="comment">// fall through</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">case</span> 0: <span class="keywordflow">return</span>;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">switch</span> (upper - lower) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="keywordflow">case</span> 1: <a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>[lower] = colors[0];                            <span class="comment">// fall through</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="keywordflow">case</span> 0: <span class="keywordflow">return</span>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">         * Prepares the coefficients for the iteration.</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">         * The non-final ones will be updated inside the loop.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">double</span> scale = (double) (colors.length - 1) / (double) (upper - lower - 1);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> maxBase = colors.length - 2;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordtype">float</span> index = 0;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordtype">int</span>   base  = 0;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=lower;;) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> C0 = colors[base    ];</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> C1 = colors[base + 1];</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> A0 = (C0 &gt;&gt;&gt; 24) &amp; 0xFF,   A1 = ((C1 &gt;&gt;&gt; 24) &amp; 0xFF) - A0;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> R0 = (C0 &gt;&gt;&gt; 16) &amp; 0xFF,   R1 = ((C1 &gt;&gt;&gt; 16) &amp; 0xFF) - R0;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> G0 = (C0 &gt;&gt;&gt;  8) &amp; 0xFF,   G1 = ((C1 &gt;&gt;&gt;  8) &amp; 0xFF) - G0;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> B0 = (C0       ) &amp; 0xFF,   B1 = ((C1       ) &amp; 0xFF) - B0;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> oldBase = base;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="keywordflow">do</span> {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                <span class="keyword">final</span> <span class="keywordtype">float</span> delta = index - base;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                <a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>[i] = (<a class="code" href="a06495.html#a8ffb7e7c8349b2776cc8bb9c4c30c23c">roundByte</a>(A0 + delta*A1) &lt;&lt; 24) |</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                          (<a class="code" href="a06495.html#a8ffb7e7c8349b2776cc8bb9c4c30c23c">roundByte</a>(R0 + delta*R1) &lt;&lt; 16) |</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                          (<a class="code" href="a06495.html#a8ffb7e7c8349b2776cc8bb9c4c30c23c">roundByte</a>(G0 + delta*G1) &lt;&lt;  8) |</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                          (<a class="code" href="a06495.html#a8ffb7e7c8349b2776cc8bb9c4c30c23c">roundByte</a>(B0 + delta*B1));</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <span class="keywordflow">if</span> (++i == upper) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                index = (float) ((i - lower) * scale);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                base = Math.min(maxBase, (<span class="keywordtype">int</span>) (index + Math.ulp(index)));          <span class="comment">// Really want rounding toward 0.</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            } <span class="keywordflow">while</span> (base == oldBase);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    }</div><div class="ttc" id="a06495_html_a9b3dc766734b387a8ec856b0a6ca3e86"><div class="ttname"><a href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">org.apache.sis.internal.coverage.j2d.ColorModelFactory.ARGB</a></div><div class="ttdeci">final int [][] ARGB</div><div class="ttdoc">The Alpha-Red-Green-Blue codes for all segments of the piecewise function. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:122</div></div>
<div class="ttc" id="a06495_html_a8ffb7e7c8349b2776cc8bb9c4c30c23c"><div class="ttname"><a href="a06495.html#a8ffb7e7c8349b2776cc8bb9c4c30c23c">org.apache.sis.internal.coverage.j2d.ColorModelFactory.roundByte</a></div><div class="ttdeci">static int roundByte(final float value)</div><div class="ttdoc">Rounds a float value and clamps the result between 0 and 255 inclusive. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:604</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adfce602373a870b7634aafd9777d369b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfce602373a870b7634aafd9777d369b">&#9670;&nbsp;</a></span>formatDescription()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void formatDescription </td>
          <td>(</td>
          <td class="paramtype">final ColorSpace&#160;</td>
          <td class="paramname"><em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final StringBuilder&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Appends a description of the given color space in the given buffer. </p>
<p>This is used for</p><div class="fragment"><div class="line">toString() </div></div><!-- fragment --><p> method implementations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cs</td><td>the color space to describe, or<div class="fragment"><div class="line">null </div></div><!-- fragment --> . </td></tr>
    <tr><td class="paramname">buffer</td><td>where to append the description. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="a06479.html#ad146fa8579a5f8a876c4688cc5a68520">PlanarImage.toString()</a>.</p>
<div class="fragment"><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                                                                          {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">if</span> (cs != null) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keywordflow">if</span> (cs instanceof ScaledColorSpace) {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                ((ScaledColorSpace) cs).formatRange(buffer.append(<span class="stringliteral">&quot;showing &quot;</span>));</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cs.getType() == ColorSpace.TYPE_GRAY) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                buffer.append(<span class="stringliteral">&quot;grayscale&quot;</span>);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a52ac3a5ba3d4b03b97e86778eda75711"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52ac3a5ba3d4b03b97e86778eda75711">&#9670;&nbsp;</a></span>getBitCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int getBitCount </td>
          <td>(</td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>mapSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a bit count for an <a class="el" href="">IndexColorModel</a> mapping. </p>
<div class="fragment"><div class="line">mapSize </div></div><!-- fragment --><p> colors. It is guaranteed that the following relation is hold:</p>
<p>{ java (1 &lt;&lt; getBitCount(mapSize)) &gt;= mapSize }</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mapSize</td><td>the number of colors in the map. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bits to use. </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06495.html#ae63031365ba7149f7d93ef88fb73eb45">ColorModelFactory.createIndexColorModel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                                                     {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> count = Integer.SIZE - Integer.numberOfLeadingZeros(mapSize - 1);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        assert (1 &lt;&lt; count) &gt;= mapSize : mapSize;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        assert (1 &lt;&lt; (count-1)) &lt; mapSize : mapSize;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">return</span> Math.max(1, count);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a520bbed164302cc15c3cba0c54b9092d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a520bbed164302cc15c3cba0c54b9092d">&#9670;&nbsp;</a></span>getTransferType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int getTransferType </td>
          <td>(</td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>mapSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a suggested type for an <a class="el" href="">IndexColorModel</a> of. </p>
<div class="fragment"><div class="line">mapSize </div></div><!-- fragment --><p> colors. This method returns <a class="el" href="">DataBuffer#TYPE_BYTE</a> or <a class="el" href="">DataBuffer#TYPE_USHORT</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mapSize</td><td>the number of colors in the map. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the suggested transfer type. </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06495.html#ae63031365ba7149f7d93ef88fb73eb45">ColorModelFactory.createIndexColorModel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                                                          {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">return</span> (mapSize &lt;= 256) ? DataBuffer.TYPE_BYTE : DataBuffer.TYPE_USHORT;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a077e18fe97323c7194e2665ffc766399"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a077e18fe97323c7194e2665ffc766399">&#9670;&nbsp;</a></span>hashCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hashCode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Public as an implementation side-effect. </p>
<dl class="section return"><dt>Returns</dt><dd>a hash code. </dd></dl>

<p class="reference">References <a class="el" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ColorModelFactory.ARGB</a>, <a class="el" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">ColorModelFactory.numBands</a>, <a class="el" href="a06495.html#ae0c9dd3074d082078d58738c02f20681">ColorModelFactory.pieceStarts</a>, and <a class="el" href="a06495.html#a222631519396875a9610c4bccec56eaf">ColorModelFactory.visibleBand</a>.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                          {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> categoryCount = <a class="code" href="a06495.html#ae0c9dd3074d082078d58738c02f20681">pieceStarts</a>.length - 1;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordtype">int</span> code = 962745549 + (<a class="code" href="a06495.html#a0d8b817b89b958b862e489811688d6d7">numBands</a>*31 + <a class="code" href="a06495.html#a222631519396875a9610c4bccec56eaf">visibleBand</a>)*31 + categoryCount;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;categoryCount; i++) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            code += Arrays.hashCode(<a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>[i]);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">return</span> code;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div><div class="ttc" id="a06495_html_a9b3dc766734b387a8ec856b0a6ca3e86"><div class="ttname"><a href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">org.apache.sis.internal.coverage.j2d.ColorModelFactory.ARGB</a></div><div class="ttdeci">final int [][] ARGB</div><div class="ttdoc">The Alpha-Red-Green-Blue codes for all segments of the piecewise function. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:122</div></div>
<div class="ttc" id="a06495_html_a222631519396875a9610c4bccec56eaf"><div class="ttname"><a href="a06495.html#a222631519396875a9610c4bccec56eaf">org.apache.sis.internal.coverage.j2d.ColorModelFactory.visibleBand</a></div><div class="ttdeci">final int visibleBand</div><div class="ttdoc">The visible band (usually 0) used for the construction of a single instance of a ColorModel. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:127</div></div>
<div class="ttc" id="a06495_html_ae0c9dd3074d082078d58738c02f20681"><div class="ttname"><a href="a06495.html#ae0c9dd3074d082078d58738c02f20681">org.apache.sis.internal.coverage.j2d.ColorModelFactory.pieceStarts</a></div><div class="ttdeci">final int [] pieceStarts</div><div class="ttdoc">In a color map defined by a piecewise function, indices where to store the first interpolated value i...</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:116</div></div>
<div class="ttc" id="a06495_html_a0d8b817b89b958b862e489811688d6d7"><div class="ttname"><a href="a06495.html#a0d8b817b89b958b862e489811688d6d7">org.apache.sis.internal.coverage.j2d.ColorModelFactory.numBands</a></div><div class="ttdeci">final int numBands</div><div class="ttdoc">The number of bands (usually 1) used for the construction of a single instance of a ColorModel...</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:132</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0483add2c2ab3b588bd23df02739321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0483add2c2ab3b588bd23df02739321">&#9670;&nbsp;</a></span>isStandardRange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean isStandardRange </td>
          <td>(</td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minimum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final double&#160;</td>
          <td class="paramname"><em>maximum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns. </p>
<div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> if the given range of values is the standard range for the given data type. In such case it may be possible to use a Java standard color model, which sometime benefit from acceleration in Java2D rendering pipe.</p>
<p>This method does not clamp the given values to the maximum range supported by the given type. For example even if</p><div class="fragment"><div class="line">TYPE_BYTE </div></div><!-- fragment --><p> can not represent values outside the [0 … 255] range, we do not clamp the minimum and maximum values to that range because it would change the visual appearance (because of different color scale).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataType</td><td>one of <a class="el" href="">DataBuffer</a> constants. </td></tr>
    <tr><td class="paramname">minimum</td><td>the minimal sample value expected. </td></tr>
    <tr><td class="paramname">maximum</td><td>the maximal sample value expected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the given minimum and maximum are the standard range for the given type. </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06495.html#ac13739a7a18d0a2c51b3cf3e8881005a">ColorModelFactory.createGrayScale()</a>, and <a class="el" href="a06511.html#a08838b9702488c64ed7c49afad7af017">RasterFactory.createGrayScaleImage()</a>.</p>
<div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                                                                             {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">boolean</span> signed;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">switch</span> (dataType) {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">case</span> DataBuffer.TYPE_BYTE:</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keywordflow">case</span> DataBuffer.TYPE_USHORT: <span class="keywordtype">signed</span> = <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordflow">case</span> DataBuffer.TYPE_SHORT:</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="keywordflow">case</span> DataBuffer.TYPE_INT:    <span class="keywordtype">signed</span> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="keywordflow">case</span> DataBuffer.TYPE_FLOAT:</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="keywordflow">case</span> DataBuffer.TYPE_DOUBLE: <span class="keywordflow">return</span> ((<span class="keywordtype">float</span>) <a class="code" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">minimum</a>) == 0f &amp;&amp; ((float) <a class="code" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">maximum</a>) == 1f;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> numBits = DataBuffer.getDataTypeSize(dataType);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">double</span> upper;     <span class="comment">// Exclusive (e.g. 256 or 65536)</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">signed</span>) {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            upper = 1L &lt;&lt; (numBits - 1);        <span class="comment">// E.g. 128 for TYPE_BYTE.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <a class="code" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">minimum</a> += upper;                   <span class="comment">// Convert e.g. -128 to 0.</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            upper = 1L &lt;&lt; numBits;              <span class="comment">// E.g. 256 for TYPE_BYTE.</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">         * Since sample values are integers, take a tolerance of 1. But for the upper bounds,</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">         * we take a slightly larger tolerance in case the caller confused &quot;inclusive&quot; versus</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">         * &quot;exclusive&quot; values. For example 255.5 ± 1.5 accepts the |254.001 … 256.999] range.</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">return</span> Math.abs(<a class="code" href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">minimum</a>) &lt; 1 &amp;&amp; Math.abs(<a class="code" href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">maximum</a> - (upper - 0.5)) &lt; 1.5;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div><div class="ttc" id="a06495_html_a178d4845b732cd457f471a0f5d4ced90"><div class="ttname"><a href="a06495.html#a178d4845b732cd457f471a0f5d4ced90">org.apache.sis.internal.coverage.j2d.ColorModelFactory.maximum</a></div><div class="ttdeci">final double maximum</div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:105</div></div>
<div class="ttc" id="a06495_html_a51730ea90d6e8f665788b4bf90c84f4f"><div class="ttname"><a href="a06495.html#a51730ea90d6e8f665788b4bf90c84f4f">org.apache.sis.internal.coverage.j2d.ColorModelFactory.minimum</a></div><div class="ttdeci">final double minimum</div><div class="ttdoc">The minimum (inclusive) and maximum (exclusive) sample values. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:105</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ffb7e7c8349b2776cc8bb9c4c30c23c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ffb7e7c8349b2776cc8bb9c4c30c23c">&#9670;&nbsp;</a></span>roundByte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int roundByte </td>
          <td>(</td>
          <td class="paramtype">final float&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rounds a float value and clamps the result between 0 and 255 inclusive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>the value to round. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the rounded and clamped value. </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06495.html#a67d1508d51524a5cc003bbee77ab4147">ColorModelFactory.expand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                                                    {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">return</span> Math.min(Math.max(Math.round(value), 0), 255);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="ac386803e412997c83f3275d7eb8c445d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac386803e412997c83f3275d7eb8c445d">&#9670;&nbsp;</a></span>toARGB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int [] toARGB </td>
          <td>(</td>
          <td class="paramtype">final Color []&#160;</td>
          <td class="paramname"><em>colors</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the ARGB codes for the given colors. </p>
<p>If all colors are transparent, returns an empty array.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colors</td><td>the colors to convert to ARGB codes, or<div class="fragment"><div class="line">null </div></div><!-- fragment --> . </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ARGB codes for the given colors. Never<div class="fragment"><div class="line">null </div></div><!-- fragment --> but may be empty. </dd></dl>

<p class="reference">References <a class="el" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ColorModelFactory.ARGB</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory.ColorModelFactory()</a>.</p>
<div class="fragment"><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                                                      {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">if</span> (colors != null) {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <span class="keywordtype">int</span> combined = 0;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span>[] <a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a> = <span class="keyword">new</span> <span class="keywordtype">int</span>[colors.length];</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;ARGB.length; i++) {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                <span class="keyword">final</span> Color color = colors[i];</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="keywordflow">if</span> (color != null) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    <span class="keywordtype">int</span> c = color.getRGB();                         <span class="comment">// Note: getRGB() is really getARGB().</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                    combined |= c;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                    ARGB[i]   = c;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordflow">if</span> ((combined &amp; 0xFF000000) != 0) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">ARGB</a>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">return</span> ArraysExt.EMPTY_INT;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div><div class="ttc" id="a06495_html_a9b3dc766734b387a8ec856b0a6ca3e86"><div class="ttname"><a href="a06495.html#a9b3dc766734b387a8ec856b0a6ca3e86">org.apache.sis.internal.coverage.j2d.ColorModelFactory.ARGB</a></div><div class="ttdeci">final int [][] ARGB</div><div class="ttdoc">The Alpha-Red-Green-Blue codes for all segments of the piecewise function. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:122</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aea3f58fa7302f3622f35bbc112d048d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea3f58fa7302f3622f35bbc112d048d4">&#9670;&nbsp;</a></span>unique()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static &lt;T extends ColorModel&gt; T unique </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>cm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a unique instance of the given color model. </p>
<p>This method is automatically invoked by</p><div class="fragment"><div class="line">create(…) </div></div><!-- fragment --><p> methods in this class. This</p><div class="fragment"><div class="line"><a class="code" href="a06495.html#aea3f58fa7302f3622f35bbc112d048d4">unique</a>(ColorModel) </div></div><!-- fragment --><p> method is public for use by color models created by other ways.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;T&gt;</td><td>the type of the color model to share. </td></tr>
    <tr><td class="paramname">cm</td><td>the color model for which to get a unique instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a unique (shared) instance of the given color model. </dd></dl>

<p class="reference">References <a class="el" href="a06495.html#aa785b3f1fc5d9bc07a7059ab3a8ef522">ColorModelFactory.CACHE</a>, and <a class="el" href="a06499.html#a1f7c0f3a9c9a1bf401af25867e6c0818">ColorModelPatch&lt; T extends ColorModel &gt;.cm</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>, <a class="el" href="a06495.html#ac13739a7a18d0a2c51b3cf3e8881005a">ColorModelFactory.createGrayScale()</a>, and <a class="el" href="a06495.html#ae63031365ba7149f7d93ef88fb73eb45">ColorModelFactory.createIndexColorModel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                                        {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        ColorModelPatch&lt;T&gt; c = <span class="keyword">new</span> ColorModelPatch&lt;&gt;(cm);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        c = <a class="code" href="a06495.html#aa785b3f1fc5d9bc07a7059ab3a8ef522">CACHE</a>.unique(c);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">return</span> c.cm;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div><div class="ttc" id="a06495_html_aa785b3f1fc5d9bc07a7059ab3a8ef522"><div class="ttname"><a href="a06495.html#aa785b3f1fc5d9bc07a7059ab3a8ef522">org.apache.sis.internal.coverage.j2d.ColorModelFactory.CACHE</a></div><div class="ttdeci">static final WeakHashSet&lt; ColorModelPatch &gt; CACHE</div><div class="ttdoc">Shared instances of ColorModels. </div><div class="ttdef"><b>Definition:</b> ColorModelFactory.java:73</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9b3dc766734b387a8ec856b0a6ca3e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b3dc766734b387a8ec856b0a6ca3e86">&#9670;&nbsp;</a></span>ARGB</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int [][] ARGB</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The Alpha-Red-Green-Blue codes for all segments of the piecewise function. </p>
<p>This is</p><div class="fragment"><div class="line">null </div></div><!-- fragment --><p> if <a class="el" href="a06495.html#ae0c9dd3074d082078d58738c02f20681">pieceStarts</a> is empty. </p>

<p class="reference">Referenced by <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>, <a class="el" href="a06495.html#a537c7b35c090ed43e1d3f130188e9198">ColorModelFactory.equals()</a>, <a class="el" href="a06495.html#a077e18fe97323c7194e2665ffc766399">ColorModelFactory.hashCode()</a>, and <a class="el" href="a06495.html#ac386803e412997c83f3275d7eb8c445d">ColorModelFactory.toARGB()</a>.</p>

</div>
</div>
<a id="aa785b3f1fc5d9bc07a7059ab3a8ef522"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa785b3f1fc5d9bc07a7059ab3a8ef522">&#9670;&nbsp;</a></span>CACHE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final WeakHashSet&lt;<a class="el" href="a06499.html">ColorModelPatch</a>&gt; CACHE = new WeakHashSet&lt;&gt;(ColorModelPatch.class)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shared instances of <a class="el" href="">ColorModel</a>s. </p>
<p>Maintaining shared instance is not that much interesting for most kind of color models, except <a class="el" href="">IndexColorModel</a> which can potentially be quite big. This class works for all color models because they were no technical reasons to restrict, but the real interest is to share index color models.</p>
<dl class="section see"><dt>See also</dt><dd>#unique(ColorModel) </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06495.html#aea3f58fa7302f3622f35bbc112d048d4">ColorModelFactory.unique()</a>.</p>

</div>
</div>
<a id="a63b75fcbb8f217072e82f0ca74e55b87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63b75fcbb8f217072e82f0ca74e55b87">&#9670;&nbsp;</a></span>GRAYSCALE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Function&lt;Category,Color[]&gt; GRAYSCALE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">            (category) -&gt; category.isQuantitative() ? <span class="keyword">new</span> Color[] {Color.BLACK, Color.WHITE} : null</div></div><!-- fragment -->
<p>Applies a gray scale to quantitative category and transparent colors to qualitative categories. </p>
<p>This is a possible argument for <a class="el" href="">createColorModel(SampleDimension[], int, int, Function)</a>. </p>

<p class="reference">Referenced by <a class="el" href="a06451.html#aa72235f1662f94786b1e594a1354bc80">GridCoverage.createColorModel()</a>, and <a class="el" href="a06459.html#a6bcc5c80277fbbdd44f034e1d3c08d8f">GridCoverageBuilder2.setValues()</a>.</p>

</div>
</div>
<a id="a178d4845b732cd457f471a0f5d4ced90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a178d4845b732cd457f471a0f5d4ced90">&#9670;&nbsp;</a></span>maximum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final double maximum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory.ColorModelFactory()</a>, <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>, and <a class="el" href="a06495.html#a537c7b35c090ed43e1d3f130188e9198">ColorModelFactory.equals()</a>.</p>

</div>
</div>
<a id="a51730ea90d6e8f665788b4bf90c84f4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51730ea90d6e8f665788b4bf90c84f4f">&#9670;&nbsp;</a></span>minimum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final double minimum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The minimum (inclusive) and maximum (exclusive) sample values. </p>

<p class="reference">Referenced by <a class="el" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory.ColorModelFactory()</a>, <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>, and <a class="el" href="a06495.html#a537c7b35c090ed43e1d3f130188e9198">ColorModelFactory.equals()</a>.</p>

</div>
</div>
<a id="a0d8b817b89b958b862e489811688d6d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d8b817b89b958b862e489811688d6d7">&#9670;&nbsp;</a></span>numBands</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int numBands</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of bands (usually 1) used for the construction of a single instance of a <a class="el" href="">ColorModel</a>. </p>

<p class="reference">Referenced by <a class="el" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory.ColorModelFactory()</a>, <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>, <a class="el" href="a06495.html#a537c7b35c090ed43e1d3f130188e9198">ColorModelFactory.equals()</a>, and <a class="el" href="a06495.html#a077e18fe97323c7194e2665ffc766399">ColorModelFactory.hashCode()</a>.</p>

</div>
</div>
<a id="ae0c9dd3074d082078d58738c02f20681"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0c9dd3074d082078d58738c02f20681">&#9670;&nbsp;</a></span>pieceStarts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int [] pieceStarts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>In a color map defined by a piecewise function, indices where to store the first interpolated value in the color map. </p>
<p>The number of pieces (segments) is</p><div class="fragment"><div class="line"><a class="code" href="a06495.html#ae0c9dd3074d082078d58738c02f20681">pieceStarts</a>.length </div></div><!-- fragment --><p> . The last element of this array is the index after the end of the last piece. The indices are integers. Never</p><div class="fragment"><div class="line">null </div></div><!-- fragment --><p> but may be empty.</p>
<div class="note"><b>Note:</b> indices as unsigned short are not sufficient since in the worst case the last next index will be 65536, which would be converted to 0 as a short, causing several exception afterward.</div> 
<p class="reference">Referenced by <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>, <a class="el" href="a06495.html#a537c7b35c090ed43e1d3f130188e9198">ColorModelFactory.equals()</a>, and <a class="el" href="a06495.html#a077e18fe97323c7194e2665ffc766399">ColorModelFactory.hashCode()</a>.</p>

</div>
</div>
<a id="ab23566b6069e1ec7969c46329caa5ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab23566b6069e1ec7969c46329caa5ea9">&#9670;&nbsp;</a></span>PIECEWISES</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Map&lt;<a class="el" href="a06495.html">ColorModelFactory</a>,ColorModel&gt; PIECEWISES = new WeakValueHashMap&lt;&gt;(ColorModelFactory.class)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A pool of color models previously created by <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">createColorModel()</a>. </p>
<div class="note"><b>Note:</b> we use  java.lang.ref.WeakReference weak references} instead of  java.lang.ref.SoftReference soft references} because the intent is not to cache the values. The intent is to share existing instances in order to reduce memory usage. Rational:</div><div class="note"><ul>
<li>
<a class="el" href="">ColorModel</a> may consume a lot of memory. A 16 bits indexed color model can consume up to 256 kb. We do not want to retain such large objects longer than necessary. We want to share existing instances without preventing the garbage collector to collect them. </li>
<li>
<a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">createColorModel()</a> is reasonably fast if invoked only occasionally, so it is not worth consuming 256 kb for saving the few milliseconds requiring for building a new color model. Client code should retains their own reference to a <a class="el" href="">ColorModel</a> if they plan to reuse it often in a short period of time. </li>
</ul>
</div> 
<p class="reference">Referenced by <a class="el" href="a06495.html#accf4be7517ad471368de4589139716b1">ColorModelFactory.createColorModel()</a>.</p>

</div>
</div>
<a id="a215afedec253b0ebee6ab97bba3baa0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a215afedec253b0ebee6ab97bba3baa0c">&#9670;&nbsp;</a></span>RANGE_COMPARATOR</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Comparator&lt;Map.Entry&lt;NumberRange&lt;?&gt;, Color[]&gt; &gt; RANGE_COMPARATOR</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">            (r1, r2) -&gt; Double.compare(r1.getKey().getMinDouble(<span class="keyword">true</span>),</div><div class="line">                                       r2.getKey().getMinDouble(<span class="keyword">true</span>))</div></div><!-- fragment -->
<p>Comparator for sorting ranges by their minimal value. </p>

<p class="reference">Referenced by <a class="el" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory.ColorModelFactory()</a>.</p>

</div>
</div>
<a id="aaa86921831506368ba95532d0f14588b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa86921831506368ba95532d0f14588b">&#9670;&nbsp;</a></span>TRANSPARENT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Color TRANSPARENT = new Color(0, true)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The fully transparent color. </p>

</div>
</div>
<a id="a738253ca8df06ba8171d1b0a6c6726c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a738253ca8df06ba8171d1b0a6c6726c6">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The color model type. </p>
<p>One of the following types: </p><ul>
<li>
<a class="el" href="">DataBuffer#TYPE_BYTE</a> or <a class="el" href="">DataBuffer#TYPE_USHORT</a>: will create a <a class="el" href="">IndexColorModel</a> (unless grayscale). </li>
<li>
<a class="el" href="">DataBuffer#TYPE_FLOAT</a> or <a class="el" href="">DataBuffer#TYPE_DOUBLE</a>: will create a <a class="el" href="">ComponentColorModel</a>. </li>
<li>
<a class="el" href="">DataBuffer#TYPE_INT</a>: should create a <a class="el" href="">PackedColorModel</a> according <a class="el" href="">java.awt.image.Raster</a> javadoc (for compatibility with<div class="fragment"><div class="line">Raster.createPackedRaster(…) </div></div><!-- fragment --> ), but we nevertheless create <a class="el" href="">ComponentColorModel</a> for the 1-banded sample model created by <a class="el" href="a06511.html">RasterFactory</a>. </li>
</ul>
<dl class="todo"><dt><b><a class="el" href="a03668.html#_todo000002">Todo:</a></b></dt><dd>The user may want to set explicitly the number of bits each pixel occupies. We need to think about an API to allows that. </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory.ColorModelFactory()</a>, <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>, <a class="el" href="a06495.html#ae63031365ba7149f7d93ef88fb73eb45">ColorModelFactory.createIndexColorModel()</a>, and <a class="el" href="a06495.html#a537c7b35c090ed43e1d3f130188e9198">ColorModelFactory.equals()</a>.</p>

</div>
</div>
<a id="a222631519396875a9610c4bccec56eaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a222631519396875a9610c4bccec56eaf">&#9670;&nbsp;</a></span>visibleBand</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int visibleBand</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The visible band (usually 0) used for the construction of a single instance of a <a class="el" href="">ColorModel</a>. </p>

<p class="reference">Referenced by <a class="el" href="a06495.html#a23573661522f05d3f061645ec3be24a5">ColorModelFactory.ColorModelFactory()</a>, <a class="el" href="a06495.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>, <a class="el" href="a06495.html#a537c7b35c090ed43e1d3f130188e9198">ColorModelFactory.equals()</a>, and <a class="el" href="a06495.html#a077e18fe97323c7194e2665ffc766399">ColorModelFactory.hashCode()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a03746.html">org</a></li><li class="navelem"><a class="el" href="a03747.html">apache</a></li><li class="navelem"><a class="el" href="a03748.html">sis</a></li><li class="navelem"><a class="el" href="a03752.html">internal</a></li><li class="navelem"><a class="el" href="a03753.html">coverage</a></li><li class="navelem"><a class="el" href="a03751.html">j2d</a></li><li class="navelem"><a class="el" href="a06495.html">ColorModelFactory</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
