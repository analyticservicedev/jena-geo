<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jena-geo: Synchronizer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">jena-geo
   &#160;<span id="projectnumber">Version 0.1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a07054.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pac-attribs">Package Attributes</a> &#124;
<a href="#pac-static-attribs">Static Package Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="a07051.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Synchronizer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Copies the content of a table from a database to an other database.  
 <a href="a07054.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Synchronizer:</div>
<div class="dyncontent">
<div class="center"><img src="a07052.png" border="0" usemap="#Synchronizer_coll__map" alt="Collaboration graph"/></div>
<map name="Synchronizer_coll__map" id="Synchronizer_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07058.html">Policy</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The kind of synchronization.  <a href="a07058.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3c4a55920b393866da38ae69fd666ff1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a3c4a55920b393866da38ae69fd666ff1">Synchronizer</a> (final Connection <a class="el" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">source</a>, final Connection <a class="el" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a>, final Writer <a class="el" href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">out</a>)</td></tr>
<tr class="memdesc:a3c4a55920b393866da38ae69fd666ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a synchronizer from the given source database to the given target database.  <a href="#a3c4a55920b393866da38ae69fd666ff1">More...</a><br /></td></tr>
<tr class="separator:a3c4a55920b393866da38ae69fd666ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab764e3080e095d8a98103e860000efec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#ab764e3080e095d8a98103e860000efec">Synchronizer</a> (final String <a class="el" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">source</a>, final String <a class="el" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a>)  throws SQLException </td></tr>
<tr class="memdesc:ab764e3080e095d8a98103e860000efec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a synchronizer from the given source database to the given target database.  <a href="#ab764e3080e095d8a98103e860000efec">More...</a><br /></td></tr>
<tr class="separator:ab764e3080e095d8a98103e860000efec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a971ae243d55aca387dbc5bf185e308e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a971ae243d55aca387dbc5bf185e308e1">copy</a> (final <a class="el" href="a07058.html">Policy</a> onExisting, final Map&lt; String, String &gt; tables)  throws SQLException, IOException     </td></tr>
<tr class="memdesc:a971ae243d55aca387dbc5bf185e308e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies or replaces the content of the specified tables.  <a href="#a971ae243d55aca387dbc5bf185e308e1">More...</a><br /></td></tr>
<tr class="separator:a971ae243d55aca387dbc5bf185e308e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2dbb7a86303907274a197ef9b4b9f60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#ae2dbb7a86303907274a197ef9b4b9f60">copy</a> (final <a class="el" href="a07058.html">Policy</a> onExisting, final String... tables)  throws SQLException, IOException </td></tr>
<tr class="memdesc:ae2dbb7a86303907274a197ef9b4b9f60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies or replaces the content of the specified tables, without conditions.  <a href="#ae2dbb7a86303907274a197ef9b4b9f60">More...</a><br /></td></tr>
<tr class="separator:ae2dbb7a86303907274a197ef9b4b9f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae591df94fc66ccb85cbb6565368bca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a5ae591df94fc66ccb85cbb6565368bca">close</a> ()  throws SQLException </td></tr>
<tr class="memdesc:a5ae591df94fc66ccb85cbb6565368bca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the database connections.  <a href="#a5ae591df94fc66ccb85cbb6565368bca">More...</a><br /></td></tr>
<tr class="separator:a5ae591df94fc66ccb85cbb6565368bca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac4df044d3759587472760cbe36818e29"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#ac4df044d3759587472760cbe36818e29">sourceCatalog</a></td></tr>
<tr class="memdesc:ac4df044d3759587472760cbe36818e29"><td class="mdescLeft">&#160;</td><td class="mdescRight">The source and target catalogs, or.  <a href="#ac4df044d3759587472760cbe36818e29">More...</a><br /></td></tr>
<tr class="separator:ac4df044d3759587472760cbe36818e29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38cc7b2cbb9708c5409a9b07a5c7ea5"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#ae38cc7b2cbb9708c5409a9b07a5c7ea5">sourceSchema</a></td></tr>
<tr class="memdesc:ae38cc7b2cbb9708c5409a9b07a5c7ea5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The source and target schemas, or.  <a href="#ae38cc7b2cbb9708c5409a9b07a5c7ea5">More...</a><br /></td></tr>
<tr class="separator:ae38cc7b2cbb9708c5409a9b07a5c7ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f049a3e1fc691d9fbdfda9eb4f7f67b"><td class="memItemLeft" align="right" valign="top">volatile boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a3f049a3e1fc691d9fbdfda9eb4f7f67b">cancel</a></td></tr>
<tr class="memdesc:a3f049a3e1fc691d9fbdfda9eb4f7f67b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets to.  <a href="#a3f049a3e1fc691d9fbdfda9eb4f7f67b">More...</a><br /></td></tr>
<tr class="separator:a3f049a3e1fc691d9fbdfda9eb4f7f67b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-attribs"></a>
Package Attributes</h2></td></tr>
<tr class="memitem:a5e1c28eeb562c430e8d187c1c5f9cb25"><td class="memItemLeft" align="right" valign="top">final Connection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a></td></tr>
<tr class="separator:a5e1c28eeb562c430e8d187c1c5f9cb25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf014e76bb61138b2283121ffdf1cfa"><td class="memItemLeft" align="right" valign="top">transient DatabaseMetaData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">targetMetadata</a></td></tr>
<tr class="separator:abcf014e76bb61138b2283121ffdf1cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e336e22012432c6cdd700a2e4a657b"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a72e336e22012432c6cdd700a2e4a657b">targetCatalog</a></td></tr>
<tr class="separator:a72e336e22012432c6cdd700a2e4a657b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2018ebcd65d6fe8990f5aa90e3883d"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">targetSchema</a></td></tr>
<tr class="separator:a2d2018ebcd65d6fe8990f5aa90e3883d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-static-attribs"></a>
Static Package Attributes</h2></td></tr>
<tr class="memitem:adb1c31e7b4e99b137eb58da6ac786ec7"><td class="memItemLeft" align="right" valign="top">static final Level&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#adb1c31e7b4e99b137eb58da6ac786ec7">UPDATE</a> = Level.FINE</td></tr>
<tr class="separator:adb1c31e7b4e99b137eb58da6ac786ec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a82be3cf969dc37b45374ded329d732c4"><td class="memItemLeft" align="right" valign="top">String []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a82be3cf969dc37b45374ded329d732c4">getPrimaryKeys</a> (final String table)  throws SQLException </td></tr>
<tr class="memdesc:a82be3cf969dc37b45374ded329d732c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the primary keys in the target database for the given table.  <a href="#a82be3cf969dc37b45374ded329d732c4">More...</a><br /></td></tr>
<tr class="separator:a82be3cf969dc37b45374ded329d732c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ab60780cf5456bc6ebb1408d8c981b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a42ab60780cf5456bc6ebb1408d8c981b">delete</a> (final String table, final String condition)  throws SQLException </td></tr>
<tr class="memdesc:a42ab60780cf5456bc6ebb1408d8c981b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the content of the specified table in the target database.  <a href="#a42ab60780cf5456bc6ebb1408d8c981b">More...</a><br /></td></tr>
<tr class="separator:a42ab60780cf5456bc6ebb1408d8c981b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb4d740476d4c1ccfd50a811ca2defb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a2fb4d740476d4c1ccfd50a811ca2defb">insert</a> (final String table, final String condition, final <a class="el" href="a07058.html">Policy</a> onExisting)  throws SQLException, IOException     </td></tr>
<tr class="memdesc:a2fb4d740476d4c1ccfd50a811ca2defb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the content of the specified table from source to the target database.  <a href="#a2fb4d740476d4c1ccfd50a811ca2defb">More...</a><br /></td></tr>
<tr class="separator:a2fb4d740476d4c1ccfd50a811ca2defb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acae85fb14a0ee22619878a15c37bcd64"><td class="memItemLeft" align="right" valign="top">TableAppender&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#acae85fb14a0ee22619878a15c37bcd64">createMismatchTable</a> (final String table, final String[] pkColumns)  throws IOException     </td></tr>
<tr class="memdesc:acae85fb14a0ee22619878a15c37bcd64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an initially empty (except for the header) table of mismatches.  <a href="#acae85fb14a0ee22619878a15c37bcd64">More...</a><br /></td></tr>
<tr class="separator:acae85fb14a0ee22619878a15c37bcd64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3689f73e9e830d56da262a4ada599c78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a3689f73e9e830d56da262a4ada599c78">copy</a> (final String table, final Map&lt; String, String &gt; tables, final <a class="el" href="a07058.html">Policy</a> onExisting)  throws SQLException, IOException     </td></tr>
<tr class="memdesc:a3689f73e9e830d56da262a4ada599c78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies or replaces the content of the specified table.  <a href="#a3689f73e9e830d56da262a4ada599c78">More...</a><br /></td></tr>
<tr class="separator:a3689f73e9e830d56da262a4ada599c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:aa0eea7a6e4b931cd94d9d89bef36482c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#aa0eea7a6e4b931cd94d9d89bef36482c">appendTableName</a> (final StringBuilder buffer, final String schema, final String table, final String quote)</td></tr>
<tr class="memdesc:aa0eea7a6e4b931cd94d9d89bef36482c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a table name to the given buffer using the given quote character.  <a href="#aa0eea7a6e4b931cd94d9d89bef36482c">More...</a><br /></td></tr>
<tr class="separator:aa0eea7a6e4b931cd94d9d89bef36482c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3e2842590a2f25dc5426414653cdf5"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a1b3e2842590a2f25dc5426414653cdf5">contains</a> (final int[] array, final int value)</td></tr>
<tr class="memdesc:a1b3e2842590a2f25dc5426414653cdf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns.  <a href="#a1b3e2842590a2f25dc5426414653cdf5">More...</a><br /></td></tr>
<tr class="separator:a1b3e2842590a2f25dc5426414653cdf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30daa8d4f50d25f7d2b37a4f7eae2d83"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a30daa8d4f50d25f7d2b37a4f7eae2d83">getColumnIndex</a> (final ResultSetMetaData metadata, final String column)  throws SQLException     </td></tr>
<tr class="memdesc:a30daa8d4f50d25f7d2b37a4f7eae2d83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the index of the specified column, or 0 if not found.  <a href="#a30daa8d4f50d25f7d2b37a4f7eae2d83">More...</a><br /></td></tr>
<tr class="separator:a30daa8d4f50d25f7d2b37a4f7eae2d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a194286c61cc7171ade768e809287ebdb"><td class="memItemLeft" align="right" valign="top">static int []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a194286c61cc7171ade768e809287ebdb">getColumnIndex</a> (final ResultSetMetaData metadata, final String[] columns)  throws SQLException     </td></tr>
<tr class="memdesc:a194286c61cc7171ade768e809287ebdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the index of the specified columns.  <a href="#a194286c61cc7171ade768e809287ebdb">More...</a><br /></td></tr>
<tr class="separator:a194286c61cc7171ade768e809287ebdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c9b4f1393a31cae3812202f9ff87926"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a3c9b4f1393a31cae3812202f9ff87926">log</a> (final Level level, final String method, final String message)</td></tr>
<tr class="memdesc:a3c9b4f1393a31cae3812202f9ff87926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an event to the logger.  <a href="#a3c9b4f1393a31cae3812202f9ff87926">More...</a><br /></td></tr>
<tr class="separator:a3c9b4f1393a31cae3812202f9ff87926"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9d461d9484adad460fbf7f35b65e5551"><td class="memItemLeft" align="right" valign="top">final Connection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">source</a></td></tr>
<tr class="memdesc:a9d461d9484adad460fbf7f35b65e5551"><td class="mdescLeft">&#160;</td><td class="mdescRight">The connection to the source and target databases.  <a href="#a9d461d9484adad460fbf7f35b65e5551">More...</a><br /></td></tr>
<tr class="separator:a9d461d9484adad460fbf7f35b65e5551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220d30cce32082f27f291952ba22bc2e"><td class="memItemLeft" align="right" valign="top">transient DatabaseMetaData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a220d30cce32082f27f291952ba22bc2e">sourceMetadata</a></td></tr>
<tr class="memdesc:a220d30cce32082f27f291952ba22bc2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The metadata for the source and target databases.  <a href="#a220d30cce32082f27f291952ba22bc2e">More...</a><br /></td></tr>
<tr class="separator:a220d30cce32082f27f291952ba22bc2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fbe8e17a2659ae9e2fe6178c98d3ec8"><td class="memItemLeft" align="right" valign="top">final Writer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">out</a></td></tr>
<tr class="memdesc:a3fbe8e17a2659ae9e2fe6178c98d3ec8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Where to print reports.  <a href="#a3fbe8e17a2659ae9e2fe6178c98d3ec8">More...</a><br /></td></tr>
<tr class="separator:a3fbe8e17a2659ae9e2fe6178c98d3ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d1060554f17dbb54024021f0f340683"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a8d1060554f17dbb54024021f0f340683">pretend</a></td></tr>
<tr class="memdesc:a8d1060554f17dbb54024021f0f340683"><td class="mdescLeft">&#160;</td><td class="mdescRight">If.  <a href="#a8d1060554f17dbb54024021f0f340683">More...</a><br /></td></tr>
<tr class="separator:a8d1060554f17dbb54024021f0f340683"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a2f1e497cd59b70359657835487042bd2"><td class="memItemLeft" align="right" valign="top">static final Level&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07054.html#a2f1e497cd59b70359657835487042bd2">SELECT</a> = Level.FINE</td></tr>
<tr class="memdesc:a2f1e497cd59b70359657835487042bd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logging level to use for SQL operations.  <a href="#a2f1e497cd59b70359657835487042bd2">More...</a><br /></td></tr>
<tr class="separator:a2f1e497cd59b70359657835487042bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copies the content of a table from a database to an other database. </p>
<p>This class is used when there is two copies of a database (typically an experimental copy and an operational copy) and we want to copy the content of the experimental database to the operational database. </p>
<p><b>Mandatory parameters:</b> </p><ul>
<li>
Connection to the source and target databases </li>
<li>
List of tables to synchronize </li>
</ul>
<p><b>Optional parameters:</b> </p><ul>
<li>
<a class="el" href="a07058.html">Policy</a>: Whatever to empty the tables before to re-insert all entries. Used when table content need to be replaced, not just updated with new entries. </li>
<li>
<a class="el" href="a07054.html#a8d1060554f17dbb54024021f0f340683">pretend</a>: Whatever to print the SQL statements to standard output instead than executing them. </li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Martin Desruisseaux (Geomatys) </dd>
<dd>
Cédric Briançon (Geomatys) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>3.19</dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.19  </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3c4a55920b393866da38ae69fd666ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c4a55920b393866da38ae69fd666ff1">&#9670;&nbsp;</a></span>Synchronizer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a07054.html">Synchronizer</a> </td>
          <td>(</td>
          <td class="paramtype">final Connection&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Connection&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Writer&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a synchronizer from the given source database to the given target database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>The connection to the source database. </td></tr>
    <tr><td class="paramname">target</td><td>The connection to the target database. </td></tr>
    <tr><td class="paramname">out</td><td>Where to print reports. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">Synchronizer.out</a>, <a class="el" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">Synchronizer.source</a>, and <a class="el" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">Synchronizer.target</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                                                                            {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        this.<a class="code" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">source</a> = <a class="code" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">source</a>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        this.<a class="code" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a> = <a class="code" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        this.<a class="code" href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">out</a>    = <a class="code" href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">out</a>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div><div class="ttc" id="a07054_html_a9d461d9484adad460fbf7f35b65e5551"><div class="ttname"><a href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">org.geotoolkit.internal.sql.Synchronizer.source</a></div><div class="ttdeci">final Connection source</div><div class="ttdoc">The connection to the source and target databases. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:82</div></div>
<div class="ttc" id="a07054_html_a3fbe8e17a2659ae9e2fe6178c98d3ec8"><div class="ttname"><a href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">org.geotoolkit.internal.sql.Synchronizer.out</a></div><div class="ttdeci">final Writer out</div><div class="ttdoc">Where to print reports. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:107</div></div>
<div class="ttc" id="a07054_html_a5e1c28eeb562c430e8d187c1c5f9cb25"><div class="ttname"><a href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">org.geotoolkit.internal.sql.Synchronizer.target</a></div><div class="ttdeci">final Connection target</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:82</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab764e3080e095d8a98103e860000efec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab764e3080e095d8a98103e860000efec">&#9670;&nbsp;</a></span>Synchronizer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a07054.html">Synchronizer</a> </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws SQLException</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a synchronizer from the given source database to the given target database. </p>
<p>The reports will be sent to the standard output stream.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>The URL to the source database. </td></tr>
    <tr><td class="paramname">target</td><td>The URL to the target database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SQLException</td><td>If the connection to a database can not be established. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a07266.html#a755ef12b2146955e53d15ea46303028d">IOUtilities.standardWriter()</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                                                                                      {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        this.<a class="code" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">source</a> = DriverManager.getConnection(<a class="code" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">source</a>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        this.<a class="code" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a> = DriverManager.getConnection(<a class="code" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        this.<a class="code" href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">out</a>    = IOUtilities.standardWriter();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        this.<a class="code" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">source</a>.setReadOnly(<span class="keyword">true</span>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div><div class="ttc" id="a07054_html_a9d461d9484adad460fbf7f35b65e5551"><div class="ttname"><a href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">org.geotoolkit.internal.sql.Synchronizer.source</a></div><div class="ttdeci">final Connection source</div><div class="ttdoc">The connection to the source and target databases. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:82</div></div>
<div class="ttc" id="a07054_html_a3fbe8e17a2659ae9e2fe6178c98d3ec8"><div class="ttname"><a href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">org.geotoolkit.internal.sql.Synchronizer.out</a></div><div class="ttdeci">final Writer out</div><div class="ttdoc">Where to print reports. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:107</div></div>
<div class="ttc" id="a07054_html_a5e1c28eeb562c430e8d187c1c5f9cb25"><div class="ttname"><a href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">org.geotoolkit.internal.sql.Synchronizer.target</a></div><div class="ttdeci">final Connection target</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:82</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa0eea7a6e4b931cd94d9d89bef36482c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0eea7a6e4b931cd94d9d89bef36482c">&#9670;&nbsp;</a></span>appendTableName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void appendTableName </td>
          <td>(</td>
          <td class="paramtype">final StringBuilder&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>schema</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>quote</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Appends a table name to the given buffer using the given quote character. </p>
<p>The schema is optional and can be null. </p>

<p class="reference">Referenced by <a class="el" href="a07054.html#a42ab60780cf5456bc6ebb1408d8c981b">Synchronizer.delete()</a>, and <a class="el" href="a07054.html#a2fb4d740476d4c1ccfd50a811ca2defb">Synchronizer.insert()</a>.</p>
<div class="fragment"><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        buffer.append(quote);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">if</span> (schema != null) {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            buffer.append(schema).append(quote).append(<span class="charliteral">&#39;.&#39;</span>).append(quote);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        buffer.append(table).append(quote);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a5ae591df94fc66ccb85cbb6565368bca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ae591df94fc66ccb85cbb6565368bca">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws SQLException</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the database connections. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SQLException</td><td>If an error occurred while closing the connections. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                            {</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <a class="code" href="a07054.html#a220d30cce32082f27f291952ba22bc2e">sourceMetadata</a> = null;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <a class="code" href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">targetMetadata</a> = null;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <a class="code" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a>.close();</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <a class="code" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">source</a>.close();</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    }</div><div class="ttc" id="a07054_html_a220d30cce32082f27f291952ba22bc2e"><div class="ttname"><a href="a07054.html#a220d30cce32082f27f291952ba22bc2e">org.geotoolkit.internal.sql.Synchronizer.sourceMetadata</a></div><div class="ttdeci">transient DatabaseMetaData sourceMetadata</div><div class="ttdoc">The metadata for the source and target databases. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:92</div></div>
<div class="ttc" id="a07054_html_a9d461d9484adad460fbf7f35b65e5551"><div class="ttname"><a href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">org.geotoolkit.internal.sql.Synchronizer.source</a></div><div class="ttdeci">final Connection source</div><div class="ttdoc">The connection to the source and target databases. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:82</div></div>
<div class="ttc" id="a07054_html_abcf014e76bb61138b2283121ffdf1cfa"><div class="ttname"><a href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">org.geotoolkit.internal.sql.Synchronizer.targetMetadata</a></div><div class="ttdeci">transient DatabaseMetaData targetMetadata</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:92</div></div>
<div class="ttc" id="a07054_html_a5e1c28eeb562c430e8d187c1c5f9cb25"><div class="ttname"><a href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">org.geotoolkit.internal.sql.Synchronizer.target</a></div><div class="ttdeci">final Connection target</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:82</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b3e2842590a2f25dc5426414653cdf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3e2842590a2f25dc5426414653cdf5">&#9670;&nbsp;</a></span>contains()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean contains </td>
          <td>(</td>
          <td class="paramtype">final int []&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns. </p>
<div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> if the given array contains the given value. This is usually an inefficient way to make this checks when invoked in a loop. But for this class, the given array will be very short (often only one element, usually not more than three), so it should be sufficient.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>The array where to check for a value. Elements doesn't need to be sorted (and often they are not). </td></tr>
    <tr><td class="paramname">value</td><td>The value to search in the given array. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="a07054.html#a2fb4d740476d4c1ccfd50a811ca2defb">Synchronizer.insert()</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                                                        {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;array.length; i++) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="keywordflow">if</span> (array[i] == value) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a3689f73e9e830d56da262a4ada599c78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3689f73e9e830d56da262a4ada599c78">&#9670;&nbsp;</a></span>copy() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void copy </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Map&lt; String, String &gt;&#160;</td>
          <td class="paramname"><em>tables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="a07058.html">Policy</a>&#160;</td>
          <td class="paramname"><em>onExisting</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws SQLException, IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies or replaces the content of the specified table. </p>
<p>The  Map::keySet map keys} shall contains the set of every tables to take in account; table not listed in this set will be untouched. The associated values are the SLQ conditions to put in the</p><div class="fragment"><div class="line">WHERE </div></div><!-- fragment --><p> clauses. </p>
<p>This method process</p><div class="fragment"><div class="line">table </div></div><!-- fragment --><p> as well as dependencies found in</p><div class="fragment"><div class="line">tables </div></div><!-- fragment --><p> . Processed dependencies are removed from the</p><div class="fragment"><div class="line">tables </div></div><!-- fragment --><p> map.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table to process. </td></tr>
    <tr><td class="paramname">tables</td><td>The (<em>table</em>, <em>condition</em>) mapping. This map will be modified. </td></tr>
    <tr><td class="paramname">onExisting</td><td>What to do with existing entries before to write new ones.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SQLException</td><td>if an error occurred while reading or writing in the database. </td></tr>
    <tr><td class="paramname">IOException</td><td>if an error occurred while writing reports on this operation. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a07058.html#af41faf30faeb98fd4b784aed0f8949aa">Synchronizer.Policy.DELETE_BEFORE_INSERT</a>, <a class="el" href="a07054.html#a2fb4d740476d4c1ccfd50a811ca2defb">Synchronizer.insert()</a>, <a class="el" href="a07054.html#a72e336e22012432c6cdd700a2e4a657b">Synchronizer.targetCatalog</a>, and <a class="el" href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">Synchronizer.targetSchema</a>.</p>

<p class="reference">Referenced by <a class="el" href="a07054.html#a971ae243d55aca387dbc5bf185e308e1">Synchronizer.copy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        String condition = tables.remove(table);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">if</span> (condition != null) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            condition = condition.trim();</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordflow">if</span> (condition.isEmpty()) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                condition = null;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">if</span> (onExisting == Policy.DELETE_BEFORE_INSERT) {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keyword">delete</span>(table, condition);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">         * Before to insert any new records, check if this table has some foreigner keys</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">         * toward other table.  If such tables are found, we will process them before to</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">         * add any record to the current table.</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keyword">final</span> String catalog = <a class="code" href="a07054.html#a72e336e22012432c6cdd700a2e4a657b">targetCatalog</a>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keyword">final</span> String schema  = <a class="code" href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">targetSchema</a>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">try</span> (ResultSet dependencies = <a class="code" href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">targetMetadata</a>.getImportedKeys(catalog, schema, table)) {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">while</span> (dependencies.next()) {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                String dependency = dependencies.getString(<span class="stringliteral">&quot;PKTABLE_CAT&quot;</span>);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="keywordflow">if</span> (catalog!=null &amp;&amp; !catalog.equals(dependency)) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                dependency = dependencies.getString(<span class="stringliteral">&quot;PKTABLE_SCHEM&quot;</span>);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                <span class="keywordflow">if</span> (schema!=null &amp;&amp; !schema.equals(dependency)) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                dependency = dependencies.getString(<span class="stringliteral">&quot;PKTABLE_NAME&quot;</span>);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <span class="keywordflow">if</span> (tables.containsKey(dependency)) {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    <a class="code" href="a07054.html#a3689f73e9e830d56da262a4ada599c78">copy</a>(dependency, tables, onExisting);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                }</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        }</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <a class="code" href="a07054.html#a2fb4d740476d4c1ccfd50a811ca2defb">insert</a>(table, condition, onExisting);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div><div class="ttc" id="a07054_html_abcf014e76bb61138b2283121ffdf1cfa"><div class="ttname"><a href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">org.geotoolkit.internal.sql.Synchronizer.targetMetadata</a></div><div class="ttdeci">transient DatabaseMetaData targetMetadata</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:92</div></div>
<div class="ttc" id="a07054_html_a2d2018ebcd65d6fe8990f5aa90e3883d"><div class="ttname"><a href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">org.geotoolkit.internal.sql.Synchronizer.targetSchema</a></div><div class="ttdeci">String targetSchema</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:102</div></div>
<div class="ttc" id="a07054_html_a3689f73e9e830d56da262a4ada599c78"><div class="ttname"><a href="a07054.html#a3689f73e9e830d56da262a4ada599c78">org.geotoolkit.internal.sql.Synchronizer.copy</a></div><div class="ttdeci">void copy(final String table, final Map&lt; String, String &gt; tables, final Policy onExisting)</div><div class="ttdoc">Copies or replaces the content of the specified table. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:512</div></div>
<div class="ttc" id="a07054_html_a72e336e22012432c6cdd700a2e4a657b"><div class="ttname"><a href="a07054.html#a72e336e22012432c6cdd700a2e4a657b">org.geotoolkit.internal.sql.Synchronizer.targetCatalog</a></div><div class="ttdeci">String targetCatalog</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:97</div></div>
<div class="ttc" id="a07054_html_a2fb4d740476d4c1ccfd50a811ca2defb"><div class="ttname"><a href="a07054.html#a2fb4d740476d4c1ccfd50a811ca2defb">org.geotoolkit.internal.sql.Synchronizer.insert</a></div><div class="ttdeci">void insert(final String table, final String condition, final Policy onExisting)</div><div class="ttdoc">Copies the content of the specified table from source to the target database. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:282</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a971ae243d55aca387dbc5bf185e308e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a971ae243d55aca387dbc5bf185e308e1">&#9670;&nbsp;</a></span>copy() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copy </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="a07058.html">Policy</a>&#160;</td>
          <td class="paramname"><em>onExisting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Map&lt; String, String &gt;&#160;</td>
          <td class="paramname"><em>tables</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws SQLException, IOException</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies or replaces the content of the specified tables. </p>
<p>The  Map::keySet map keys} shall contains the set of every tables to take in account; table not listed in this set will be untouched. The associated values are the SLQ conditions to put in the</p><div class="fragment"><div class="line">WHERE </div></div><!-- fragment --><p> clauses.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">onExisting</td><td>What to do with existing entries before to write new ones. </td></tr>
    <tr><td class="paramname">tables</td><td>The (<em>table</em>, <em>condition</em>) mapping. This map will be modified. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SQLException</td><td>if an error occurred while reading or writing in the database. </td></tr>
    <tr><td class="paramname">IOException</td><td>if an error occurred while writing reports on this operation. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a07054.html#a3689f73e9e830d56da262a4ada599c78">Synchronizer.copy()</a>, <a class="el" href="a07054.html#a72e336e22012432c6cdd700a2e4a657b">Synchronizer.targetCatalog</a>, and <a class="el" href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">Synchronizer.targetSchema</a>.</p>
<div class="fragment"><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keyword">final</span> String catalog = <a class="code" href="a07054.html#a72e336e22012432c6cdd700a2e4a657b">targetCatalog</a>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keyword">final</span> String schema  = <a class="code" href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">targetSchema</a>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <a class="code" href="a07054.html#a220d30cce32082f27f291952ba22bc2e">sourceMetadata</a> = <a class="code" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">source</a>.getMetaData();</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <a class="code" href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">targetMetadata</a> = <a class="code" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a>.getMetaData();</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;search: <span class="keywordflow">while</span> (!tables.isEmpty()) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;nextTable: <span class="keywordflow">for</span> (<span class="keyword">final</span> String table : tables.keySet()) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="a07054.html#a3f049a3e1fc691d9fbdfda9eb4f7f67b">cancel</a>) <span class="keywordflow">break</span> search;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                <span class="comment">// Skips all tables that have dependencies.</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                <span class="keywordflow">try</span> (ResultSet dependents = <a class="code" href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">targetMetadata</a>.getExportedKeys(catalog, schema, table)) {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                    <span class="keywordflow">while</span> (dependents.next()) {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                        <span class="keywordflow">if</span> ((catalog==null || catalog.equals(dependents.getString(<span class="stringliteral">&quot;FKTABLE_CAT&quot;</span>))) &amp;&amp;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                            (schema ==null || schema .equals(dependents.getString(<span class="stringliteral">&quot;FKTABLE_SCHEM&quot;</span>))))</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                        {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                            <span class="keyword">final</span> String dependent = dependents.getString(<span class="stringliteral">&quot;FKTABLE_NAME&quot;</span>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                            <span class="keywordflow">if</span> (tables.containsKey(dependent)) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                <span class="keywordflow">continue</span> nextTable;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                            }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                        }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                <span class="comment">// We have found a table which have no dependencies (a leaf).</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                <a class="code" href="a07054.html#a3689f73e9e830d56da262a4ada599c78">copy</a>(table, tables, onExisting);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                <span class="keywordflow">continue</span> search;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="comment">// We have been unable to find any leaf. Take a chance: process the first table.</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <span class="comment">// An exception is likely to be throw, but we will have tried.</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">final</span> String table : tables.keySet()) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                <a class="code" href="a07054.html#a3689f73e9e830d56da262a4ada599c78">copy</a>(table, tables, onExisting);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <span class="keywordflow">continue</span> search;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        }</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div><div class="ttc" id="a07054_html_a3f049a3e1fc691d9fbdfda9eb4f7f67b"><div class="ttname"><a href="a07054.html#a3f049a3e1fc691d9fbdfda9eb4f7f67b">org.geotoolkit.internal.sql.Synchronizer.cancel</a></div><div class="ttdeci">volatile boolean cancel</div><div class="ttdoc">Sets to. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:119</div></div>
<div class="ttc" id="a07054_html_a220d30cce32082f27f291952ba22bc2e"><div class="ttname"><a href="a07054.html#a220d30cce32082f27f291952ba22bc2e">org.geotoolkit.internal.sql.Synchronizer.sourceMetadata</a></div><div class="ttdeci">transient DatabaseMetaData sourceMetadata</div><div class="ttdoc">The metadata for the source and target databases. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:92</div></div>
<div class="ttc" id="a07054_html_a9d461d9484adad460fbf7f35b65e5551"><div class="ttname"><a href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">org.geotoolkit.internal.sql.Synchronizer.source</a></div><div class="ttdeci">final Connection source</div><div class="ttdoc">The connection to the source and target databases. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:82</div></div>
<div class="ttc" id="a07054_html_abcf014e76bb61138b2283121ffdf1cfa"><div class="ttname"><a href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">org.geotoolkit.internal.sql.Synchronizer.targetMetadata</a></div><div class="ttdeci">transient DatabaseMetaData targetMetadata</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:92</div></div>
<div class="ttc" id="a07054_html_a2d2018ebcd65d6fe8990f5aa90e3883d"><div class="ttname"><a href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">org.geotoolkit.internal.sql.Synchronizer.targetSchema</a></div><div class="ttdeci">String targetSchema</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:102</div></div>
<div class="ttc" id="a07054_html_a3689f73e9e830d56da262a4ada599c78"><div class="ttname"><a href="a07054.html#a3689f73e9e830d56da262a4ada599c78">org.geotoolkit.internal.sql.Synchronizer.copy</a></div><div class="ttdeci">void copy(final String table, final Map&lt; String, String &gt; tables, final Policy onExisting)</div><div class="ttdoc">Copies or replaces the content of the specified table. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:512</div></div>
<div class="ttc" id="a07054_html_a5e1c28eeb562c430e8d187c1c5f9cb25"><div class="ttname"><a href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">org.geotoolkit.internal.sql.Synchronizer.target</a></div><div class="ttdeci">final Connection target</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:82</div></div>
<div class="ttc" id="a07054_html_a72e336e22012432c6cdd700a2e4a657b"><div class="ttname"><a href="a07054.html#a72e336e22012432c6cdd700a2e4a657b">org.geotoolkit.internal.sql.Synchronizer.targetCatalog</a></div><div class="ttdeci">String targetCatalog</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:97</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2dbb7a86303907274a197ef9b4b9f60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2dbb7a86303907274a197ef9b4b9f60">&#9670;&nbsp;</a></span>copy() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copy </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="a07058.html">Policy</a>&#160;</td>
          <td class="paramname"><em>onExisting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String...&#160;</td>
          <td class="paramname"><em>tables</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws SQLException, IOException</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies or replaces the content of the specified tables, without conditions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">onExisting</td><td>What to do with existing entries before to write new ones. </td></tr>
    <tr><td class="paramname">tables</td><td>The list of tables to update. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SQLException</td><td>if an error occurred while reading or writing in the database. </td></tr>
    <tr><td class="paramname">IOException</td><td>if an error occurred while writing reports on this operation. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a07054.html#a3689f73e9e830d56da262a4ada599c78">Synchronizer.copy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                                                                                       {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keyword">final</span> Map&lt;String,String&gt; map = <span class="keyword">new</span> LinkedHashMap&lt;&gt;(hashMapCapacity(tables.length));</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">final</span> String table : tables) {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            map.put(table, null);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <a class="code" href="a07054.html#a3689f73e9e830d56da262a4ada599c78">copy</a>(onExisting, map);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div><div class="ttc" id="a07054_html_a3689f73e9e830d56da262a4ada599c78"><div class="ttname"><a href="a07054.html#a3689f73e9e830d56da262a4ada599c78">org.geotoolkit.internal.sql.Synchronizer.copy</a></div><div class="ttdeci">void copy(final String table, final Map&lt; String, String &gt; tables, final Policy onExisting)</div><div class="ttdoc">Copies or replaces the content of the specified table. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:512</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acae85fb14a0ee22619878a15c37bcd64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acae85fb14a0ee22619878a15c37bcd64">&#9670;&nbsp;</a></span>createMismatchTable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TableAppender createMismatchTable </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String []&#160;</td>
          <td class="paramname"><em>pkColumns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an initially empty (except for the header) table of mismatches. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table name. </td></tr>
    <tr><td class="paramname">pkColumns</td><td>The column names. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new table of mismatch. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td>if an error occurred while writing to the output stream. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="a07054.html#a2fb4d740476d4c1ccfd50a811ca2defb">Synchronizer.insert()</a>.</p>
<div class="fragment"><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keyword">final</span> String lineSeparator = System.lineSeparator();</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <a class="code" href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">out</a>.write(lineSeparator);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">out</a>.write(table);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">out</a>.write(lineSeparator);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keyword">final</span> TableAppender mismatchs = <span class="keyword">new</span> TableAppender(<a class="code" href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">out</a>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        mismatchs.nextLine(<span class="stringliteral">&#39;\u2500&#39;</span>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;pkColumns.length; j++) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            mismatchs.append(pkColumns[j]);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            mismatchs.nextColumn();</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        mismatchs.append(<span class="stringliteral">&quot;Colonne&quot;</span>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        mismatchs.nextColumn();</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        mismatchs.append(<span class="stringliteral">&quot;Valeur à copier&quot;</span>);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        mismatchs.nextColumn();</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        mismatchs.append(<span class="stringliteral">&quot;Valeur existante&quot;</span>);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        mismatchs.nextLine();</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        mismatchs.nextLine(<span class="stringliteral">&#39;\u2500&#39;</span>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">return</span> mismatchs;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div><div class="ttc" id="a07054_html_a3fbe8e17a2659ae9e2fe6178c98d3ec8"><div class="ttname"><a href="a07054.html#a3fbe8e17a2659ae9e2fe6178c98d3ec8">org.geotoolkit.internal.sql.Synchronizer.out</a></div><div class="ttdeci">final Writer out</div><div class="ttdoc">Where to print reports. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:107</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42ab60780cf5456bc6ebb1408d8c981b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42ab60780cf5456bc6ebb1408d8c981b">&#9670;&nbsp;</a></span>delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void delete </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>condition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws SQLException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes the content of the specified table in the target database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The name of the table in which to delete the records. </td></tr>
    <tr><td class="paramname">condition</td><td>A SQL condition (to be put after a<div class="fragment"><div class="line">WHERE </div></div><!-- fragment --> clause) for the records to be deleted, or<div class="fragment"><div class="line">null </div></div><!-- fragment --> for deleting the whole table.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SQLException</td><td>if a reading or writing operation failed. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a07054.html#aa0eea7a6e4b931cd94d9d89bef36482c">Synchronizer.appendTableName()</a>, <a class="el" href="a07054.html#a3c9b4f1393a31cae3812202f9ff87926">Synchronizer.log()</a>, and <a class="el" href="a07054.html#adb1c31e7b4e99b137eb58da6ac786ec7">Synchronizer.UPDATE</a>.</p>
<div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                                                                        {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keyword">final</span> String quote = <a class="code" href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">targetMetadata</a>.getIdentifierQuoteString();</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keyword">final</span> StringBuilder buffer = <span class="keyword">new</span> StringBuilder(<span class="stringliteral">&quot;DELETE FROM &quot;</span>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="a07054.html#aa0eea7a6e4b931cd94d9d89bef36482c">appendTableName</a>(buffer, <a class="code" href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">targetSchema</a>, table, quote);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">if</span> (condition != null) {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            buffer.append(<span class="stringliteral">&quot; WHERE &quot;</span>).append(condition);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keyword">final</span> String sql = buffer.toString();</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">try</span> (Statement targetStatement = <a class="code" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a>.createStatement()) {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span> count = <a class="code" href="a07054.html#a8d1060554f17dbb54024021f0f340683">pretend</a> ? 0 : targetStatement.executeUpdate(sql);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <a class="code" href="a07054.html#a3c9b4f1393a31cae3812202f9ff87926">log</a>(<a class="code" href="a07054.html#adb1c31e7b4e99b137eb58da6ac786ec7">UPDATE</a>, <span class="stringliteral">&quot;delete&quot;</span>, sql + <span class="charliteral">&#39;\n&#39;</span> + count + <span class="stringliteral">&quot; lignes supprimées.&quot;</span>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div><div class="ttc" id="a07054_html_adb1c31e7b4e99b137eb58da6ac786ec7"><div class="ttname"><a href="a07054.html#adb1c31e7b4e99b137eb58da6ac786ec7">org.geotoolkit.internal.sql.Synchronizer.UPDATE</a></div><div class="ttdeci">static final Level UPDATE</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:75</div></div>
<div class="ttc" id="a07054_html_a3c9b4f1393a31cae3812202f9ff87926"><div class="ttname"><a href="a07054.html#a3c9b4f1393a31cae3812202f9ff87926">org.geotoolkit.internal.sql.Synchronizer.log</a></div><div class="ttdeci">static void log(final Level level, final String method, final String message)</div><div class="ttdoc">Writes an event to the logger. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:628</div></div>
<div class="ttc" id="a07054_html_abcf014e76bb61138b2283121ffdf1cfa"><div class="ttname"><a href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">org.geotoolkit.internal.sql.Synchronizer.targetMetadata</a></div><div class="ttdeci">transient DatabaseMetaData targetMetadata</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:92</div></div>
<div class="ttc" id="a07054_html_a2d2018ebcd65d6fe8990f5aa90e3883d"><div class="ttname"><a href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">org.geotoolkit.internal.sql.Synchronizer.targetSchema</a></div><div class="ttdeci">String targetSchema</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:102</div></div>
<div class="ttc" id="a07054_html_a5e1c28eeb562c430e8d187c1c5f9cb25"><div class="ttname"><a href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">org.geotoolkit.internal.sql.Synchronizer.target</a></div><div class="ttdeci">final Connection target</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:82</div></div>
<div class="ttc" id="a07054_html_a8d1060554f17dbb54024021f0f340683"><div class="ttname"><a href="a07054.html#a8d1060554f17dbb54024021f0f340683">org.geotoolkit.internal.sql.Synchronizer.pretend</a></div><div class="ttdeci">boolean pretend</div><div class="ttdoc">If. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:114</div></div>
<div class="ttc" id="a07054_html_aa0eea7a6e4b931cd94d9d89bef36482c"><div class="ttname"><a href="a07054.html#aa0eea7a6e4b931cd94d9d89bef36482c">org.geotoolkit.internal.sql.Synchronizer.appendTableName</a></div><div class="ttdeci">static void appendTableName(final StringBuilder buffer, final String schema, final String table, final String quote)</div><div class="ttdoc">Appends a table name to the given buffer using the given quote character. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:153</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a30daa8d4f50d25f7d2b37a4f7eae2d83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30daa8d4f50d25f7d2b37a4f7eae2d83">&#9670;&nbsp;</a></span>getColumnIndex() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int getColumnIndex </td>
          <td>(</td>
          <td class="paramtype">final ResultSetMetaData&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>column</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws SQLException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the index of the specified column, or 0 if not found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metadata</td><td>The metadata to search into. </td></tr>
    <tr><td class="paramname">name</td><td>The column to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the specified column. </dd></dl>

<p class="reference">Referenced by <a class="el" href="a07054.html#a194286c61cc7171ade768e809287ebdb">Synchronizer.getColumnIndex()</a>, and <a class="el" href="a07054.html#a2fb4d740476d4c1ccfd50a811ca2defb">Synchronizer.insert()</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> count = metadata.getColumnCount();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;=count; i++) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">if</span> (column.equals(metadata.getColumnName(i))) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <span class="keywordflow">return</span> i;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a194286c61cc7171ade768e809287ebdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a194286c61cc7171ade768e809287ebdb">&#9670;&nbsp;</a></span>getColumnIndex() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int [] getColumnIndex </td>
          <td>(</td>
          <td class="paramtype">final ResultSetMetaData&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String []&#160;</td>
          <td class="paramname"><em>columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws SQLException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the index of the specified columns. </p>
<p>If a column is not found, its corresponding index will be left to 0. </p>

<p class="reference">References <a class="el" href="a07054.html#a30daa8d4f50d25f7d2b37a4f7eae2d83">Synchronizer.getColumnIndex()</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span>[] index = <span class="keyword">new</span> <span class="keywordtype">int</span>[columns.length];</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;columns.length; i++) {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            index[i] = <a class="code" href="a07054.html#a30daa8d4f50d25f7d2b37a4f7eae2d83">getColumnIndex</a>(metadata, columns[i]);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">return</span> index;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div><div class="ttc" id="a07054_html_a30daa8d4f50d25f7d2b37a4f7eae2d83"><div class="ttname"><a href="a07054.html#a30daa8d4f50d25f7d2b37a4f7eae2d83">org.geotoolkit.internal.sql.Synchronizer.getColumnIndex</a></div><div class="ttdeci">static int getColumnIndex(final ResultSetMetaData metadata, final String column)</div><div class="ttdoc">Returns the index of the specified column, or 0 if not found. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:221</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a82be3cf969dc37b45374ded329d732c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82be3cf969dc37b45374ded329d732c4">&#9670;&nbsp;</a></span>getPrimaryKeys()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">String [] getPrimaryKeys </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td> throws SQLException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the primary keys in the target database for the given table. </p>
<p>If the primary keys span over more than one column, then the columns are returned in sequence order. If the table has no primary key, then this method returns an array of length 0. </p>

<p class="reference">References <a class="el" href="a07054.html#a72e336e22012432c6cdd700a2e4a657b">Synchronizer.targetCatalog</a>, and <a class="el" href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">Synchronizer.targetSchema</a>.</p>

<p class="reference">Referenced by <a class="el" href="a07054.html#a2fb4d740476d4c1ccfd50a811ca2defb">Synchronizer.insert()</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                                                                            {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keyword">final</span> String catalog = <a class="code" href="a07054.html#a72e336e22012432c6cdd700a2e4a657b">targetCatalog</a>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keyword">final</span> String schema  = <a class="code" href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">targetSchema</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        String[] columns;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">try</span> (ResultSet results = <a class="code" href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">targetMetadata</a>.getPrimaryKeys(catalog, schema, table)) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            columns = CharSequences.EMPTY_ARRAY;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">while</span> (results.next()) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                <span class="keywordflow">if</span> (catalog!=null &amp;&amp; !catalog.equals(results.getString(<span class="stringliteral">&quot;TABLE_CAT&quot;</span>))) {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <span class="keywordflow">if</span> (schema!=null &amp;&amp; !schema.equals(results.getString(<span class="stringliteral">&quot;TABLE_SCHEM&quot;</span>))) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                <span class="keywordflow">if</span> (!table.equals(results.getString(<span class="stringliteral">&quot;TABLE_NAME&quot;</span>))) {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="keyword">final</span> String column = results.getString(<span class="stringliteral">&quot;COLUMN_NAME&quot;</span>);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <span class="keyword">final</span> <span class="keywordtype">int</span> index = results.getShort(<span class="stringliteral">&quot;KEY_SEQ&quot;</span>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="keywordflow">if</span> (index &gt; columns.length) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    columns = Arrays.copyOf(columns, index);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                columns[index - 1] = column;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">return</span> columns;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    }</div><div class="ttc" id="a07054_html_abcf014e76bb61138b2283121ffdf1cfa"><div class="ttname"><a href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">org.geotoolkit.internal.sql.Synchronizer.targetMetadata</a></div><div class="ttdeci">transient DatabaseMetaData targetMetadata</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:92</div></div>
<div class="ttc" id="a07054_html_a2d2018ebcd65d6fe8990f5aa90e3883d"><div class="ttname"><a href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">org.geotoolkit.internal.sql.Synchronizer.targetSchema</a></div><div class="ttdeci">String targetSchema</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:102</div></div>
<div class="ttc" id="a07054_html_a72e336e22012432c6cdd700a2e4a657b"><div class="ttname"><a href="a07054.html#a72e336e22012432c6cdd700a2e4a657b">org.geotoolkit.internal.sql.Synchronizer.targetCatalog</a></div><div class="ttdeci">String targetCatalog</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:97</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fb4d740476d4c1ccfd50a811ca2defb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb4d740476d4c1ccfd50a811ca2defb">&#9670;&nbsp;</a></span>insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void insert </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="a07058.html">Policy</a>&#160;</td>
          <td class="paramname"><em>onExisting</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws SQLException, IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies the content of the specified table from source to the target database. </p>
<p>If a record already exists for the same primary key, the action will be determined by the given policy.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The name of the table to copy. </td></tr>
    <tr><td class="paramname">condition</td><td>A SQL condition (to be put after a<div class="fragment"><div class="line">WHERE </div></div><!-- fragment --> clause) for the records to be copied, or<div class="fragment"><div class="line">null </div></div><!-- fragment --> for copying the whole table. </td></tr>
    <tr><td class="paramname">onExisting</td><td>What to do with existing entries before to write new ones. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SQLException</td><td>if a reading or writing operation failed. </td></tr>
    <tr><td class="paramname">IOException</td><td>if an error occurred while writing reports on this operation. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a07054.html#aa0eea7a6e4b931cd94d9d89bef36482c">Synchronizer.appendTableName()</a>, <a class="el" href="a07054.html#a1b3e2842590a2f25dc5426414653cdf5">Synchronizer.contains()</a>, <a class="el" href="a07054.html#acae85fb14a0ee22619878a15c37bcd64">Synchronizer.createMismatchTable()</a>, <a class="el" href="a07058.html#af41faf30faeb98fd4b784aed0f8949aa">Synchronizer.Policy.DELETE_BEFORE_INSERT</a>, <a class="el" href="a07054.html#a30daa8d4f50d25f7d2b37a4f7eae2d83">Synchronizer.getColumnIndex()</a>, <a class="el" href="a07054.html#a82be3cf969dc37b45374ded329d732c4">Synchronizer.getPrimaryKeys()</a>, <a class="el" href="a07058.html#af9eb36b517bcfa37f6183fba9a2c9faa">Synchronizer.Policy.INSERT_OR_UPDATE</a>, <a class="el" href="a07054.html#a3c9b4f1393a31cae3812202f9ff87926">Synchronizer.log()</a>, <a class="el" href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">Synchronizer.targetSchema</a>, and <a class="el" href="a07054.html#adb1c31e7b4e99b137eb58da6ac786ec7">Synchronizer.UPDATE</a>.</p>

<p class="reference">Referenced by <a class="el" href="a07054.html#a3689f73e9e830d56da262a4ada599c78">Synchronizer.copy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">         * Creates the SQL statement for the SELECT query, opens the source ResultSet and</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">         * gets the metadata (especially the column names). This ResultSet will stay open</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">         * until the end of this method. We will use the column names later in order to</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">         * build the INSERT statement for the target database.</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keyword">final</span> String quoteSource = <a class="code" href="a07054.html#a220d30cce32082f27f291952ba22bc2e">sourceMetadata</a>.getIdentifierQuoteString();</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keyword">final</span> StringBuilder buffer = <span class="keyword">new</span> StringBuilder(<span class="stringliteral">&quot;SELECT * FROM &quot;</span>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="a07054.html#aa0eea7a6e4b931cd94d9d89bef36482c">appendTableName</a>(buffer, <a class="code" href="a07054.html#ae38cc7b2cbb9708c5409a9b07a5c7ea5">sourceSchema</a>, table, quoteSource);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">if</span> (condition != null) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            buffer.append(<span class="stringliteral">&quot; WHERE &quot;</span>).append(condition);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        String sql = buffer.toString();</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        PreparedStatement existing = null;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        TableAppender mismatchs = null;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">try</span> (Statement sourceStatement = <a class="code" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">source</a>.createStatement();</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;             ResultSet sourceResultSet = sourceStatement.executeQuery(sql))</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="keyword">final</span> ResultSetMetaData metadata = sourceResultSet.getMetaData();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keyword">final</span> String[] sourceColumns = <span class="keyword">new</span> String[metadata.getColumnCount()];</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;sourceColumns.length;) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                sourceColumns[i] = metadata.getColumnName(++i);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <a class="code" href="a07054.html#a3c9b4f1393a31cae3812202f9ff87926">log</a>(<a class="code" href="a07054.html#a2f1e497cd59b70359657835487042bd2">SELECT</a>, <span class="stringliteral">&quot;insert&quot;</span>, sql);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">             * Gets the primary keys of the target table. We don&#39;t check for primary keys in the</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">             * source table since it may be a view. Then gets the index (counting from 1) in the</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">             * source table for those primary keys.</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="keyword">final</span> String[] pkColumns = <a class="code" href="a07054.html#a82be3cf969dc37b45374ded329d732c4">getPrimaryKeys</a>(table);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span>[] pkSourceIndex = <span class="keyword">new</span> <span class="keywordtype">int</span>[pkColumns.length];</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;pkColumns.length; i++) {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="keyword">final</span> String name = pkColumns[i];</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="keywordflow">if</span> ((pkSourceIndex[i] = <a class="code" href="a07054.html#a30daa8d4f50d25f7d2b37a4f7eae2d83">getColumnIndex</a>(metadata, name)) == 0) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> SQLException(<span class="stringliteral">&quot;Primary key \&quot;&quot;</span> + name + <span class="stringliteral">&quot;\&quot; defined in the target \&quot;&quot;</span> +</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                            table + <span class="stringliteral">&quot;\&quot; table is not found in the source table.&quot;</span>);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">int</span>[] nonpkSourceIndex = <span class="keyword">new</span> <span class="keywordtype">int</span>[sourceColumns.length - pkSourceIndex.length];</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0,j=0; i&lt;sourceColumns.length;) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="a07054.html#a1b3e2842590a2f25dc5426414653cdf5">contains</a>(pkSourceIndex, ++i)) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                    nonpkSourceIndex[j++] = i;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            assert !<a class="code" href="a07054.html#a1b3e2842590a2f25dc5426414653cdf5">contains</a>(nonpkSourceIndex, 0);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">             * Creates the SQL statement for the SELECT or UPDATE query in the target database.</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">             * This is used in order to search for existing entries before to insert a new one.</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">             * This operation can be performed only if the target table contains at least one</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">             * primary key column.</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keyword">final</span> <span class="keywordtype">boolean</span> update = nonpkSourceIndex.length != 0 &amp;&amp; onExisting == Policy.INSERT_OR_UPDATE;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keyword">final</span> String quoteTarget = <a class="code" href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">targetMetadata</a>.getIdentifierQuoteString();</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordflow">if</span> (pkColumns.length != 0 &amp;&amp; onExisting != Policy.DELETE_BEFORE_INSERT) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                buffer.setLength(0);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <a class="code" href="a07054.html#aa0eea7a6e4b931cd94d9d89bef36482c">appendTableName</a>(buffer.append(update ? <span class="stringliteral">&quot;UPDATE &quot;</span> : <span class="stringliteral">&quot;SELECT * FROM &quot;</span>), <a class="code" href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">targetSchema</a>, table, quoteTarget);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="keywordflow">if</span> (update) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    buffer.append(<span class="stringliteral">&quot; SET &quot;</span>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    <span class="keywordtype">boolean</span> afterFirst = <span class="keyword">false</span>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nonpkSourceIndex.length; i++) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                        <span class="keywordflow">if</span> (afterFirst) buffer.append(<span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                        <span class="keywordflow">else</span> afterFirst = <span class="keyword">true</span>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                        <span class="keyword">final</span> String name = sourceColumns[nonpkSourceIndex[i] - 1];</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                        buffer.append(quoteTarget).append(name).append(quoteTarget).append(<span class="stringliteral">&quot;=?&quot;</span>);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                    }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                String separator = <span class="stringliteral">&quot; WHERE &quot;</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;pkColumns.length; i++) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                    <span class="keyword">final</span> String name = pkColumns[i];</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                    buffer.append(separator).append(quoteTarget).append(name).append(quoteTarget).append(<span class="stringliteral">&quot;=?&quot;</span>);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    separator = <span class="stringliteral">&quot; AND &quot;</span>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                sql = buffer.toString();</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                existing = <a class="code" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a>.prepareStatement(sql);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">             * Creates the target prepared statement for the INSERT queries. The parameters will</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">             * need to be filled in the same order than the column from the source SELECT query.</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            buffer.setLength(0);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <a class="code" href="a07054.html#aa0eea7a6e4b931cd94d9d89bef36482c">appendTableName</a>(buffer.append(<span class="stringliteral">&quot;INSERT INTO &quot;</span>), <a class="code" href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">targetSchema</a>, table, quoteTarget);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            buffer.append(<span class="stringliteral">&quot; (&quot;</span>);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;sourceColumns.length; i++) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <span class="keywordflow">if</span> (i != 0) buffer.append(<span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                buffer.append(quoteTarget).append(sourceColumns[i]).append(quoteTarget);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            buffer.append(<span class="stringliteral">&quot;) VALUES (&quot;</span>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;sourceColumns.length; i++) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                <span class="keywordflow">if</span> (i != 0) buffer.append(<span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                buffer.append(<span class="charliteral">&#39;?&#39;</span>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            sql = buffer.append(<span class="charliteral">&#39;)&#39;</span>).toString();</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">try</span> (PreparedStatement insertStatement = <a class="code" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a>.prepareStatement(sql)) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="comment">/*</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">                 * Reads all records from the source table and check if a corresponding records exists</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">                 * in the target table. If such record exists and have identical content, then nothing</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">                 * is done. If the content is not identical, then a warning is printed.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <span class="keywordtype">int</span>[] sourceToTarget = null;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <span class="keyword">final</span> Object[] primaryKeyValues = <span class="keyword">new</span> Object[pkColumns.length];</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <span class="keywordflow">while</span> (sourceResultSet.next()) {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="a07054.html#a3f049a3e1fc691d9fbdfda9eb4f7f67b">cancel</a>) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                    <span class="keywordflow">if</span> (existing != null) {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                        <span class="keywordtype">int</span> param = 0;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                        <span class="keywordflow">if</span> (update) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nonpkSourceIndex.length; i++) {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                <span class="keyword">final</span> Object value = sourceResultSet.getObject(nonpkSourceIndex[i]);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                existing.setObject(++param, value);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                            }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                        }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;pkSourceIndex.length; i++) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                            <span class="keyword">final</span> Object value = sourceResultSet.getObject(pkSourceIndex[i]);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                            existing.setObject(++param, value);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                            primaryKeyValues[i] = value;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                        }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                        <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                        <span class="keywordflow">if</span> (update) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                            count = existing.executeUpdate();</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                            <span class="keywordflow">try</span> (ResultSet targetResultSet = existing.executeQuery()) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                                <span class="keywordflow">if</span> (sourceToTarget == null) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                                    sourceToTarget = <a class="code" href="a07054.html#a30daa8d4f50d25f7d2b37a4f7eae2d83">getColumnIndex</a>(targetResultSet.getMetaData(), sourceColumns);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                                }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                                <span class="keywordflow">while</span> (targetResultSet.next()) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;sourceToTarget.length; i++) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                                        <span class="keyword">final</span> <span class="keywordtype">int</span> index = sourceToTarget[i];</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                        <span class="keywordflow">if</span> (index == 0) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                                            <span class="comment">// Compares only the columns present in both tables.</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                                        }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                        <span class="keyword">final</span> String <a class="code" href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">source</a> = sourceResultSet.getString(i+1);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                                        <span class="keyword">final</span> String <a class="code" href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">target</a> = targetResultSet.getString(index);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                        <span class="keywordflow">if</span> (!Objects.equals(source, target)) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                            <span class="keywordflow">if</span> (mismatchs == null) {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                                mismatchs = <a class="code" href="a07054.html#acae85fb14a0ee22619878a15c37bcd64">createMismatchTable</a>(table, pkColumns);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                                            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                                mismatchs.nextLine();</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                            }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;primaryKeyValues.length; j++) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                                                mismatchs.append(String.valueOf(primaryKeyValues[j]));</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                                mismatchs.nextColumn();</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                            }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                            mismatchs.append(sourceColumns[i]); mismatchs.nextColumn();</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                            mismatchs.append(source);           mismatchs.nextColumn();</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                            mismatchs.append(target);           mismatchs.nextLine();</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                        }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                    }</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                                    count++;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                                }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                            }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                        }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                        <span class="keywordflow">if</span> (count != 0) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                        }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    <span class="comment">/*</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">                     * At this point, we know that we have a new element.</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">                     * Now insert the new record in the target table.</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;=sourceColumns.length; i++) {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                        insertStatement.setObject(i, sourceResultSet.getObject(i));</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                    }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                    <span class="keyword">final</span> <span class="keywordtype">int</span> count = <a class="code" href="a07054.html#a8d1060554f17dbb54024021f0f340683">pretend</a> ? 1 : insertStatement.executeUpdate();</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                    <span class="keywordflow">if</span> (count == 1) {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                        <a class="code" href="a07054.html#a3c9b4f1393a31cae3812202f9ff87926">log</a>(<a class="code" href="a07054.html#adb1c31e7b4e99b137eb58da6ac786ec7">UPDATE</a>, <span class="stringliteral">&quot;insert&quot;</span>, insertStatement.toString());</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                        <a class="code" href="a07054.html#a3c9b4f1393a31cae3812202f9ff87926">log</a>(Level.WARNING, <span class="stringliteral">&quot;insert&quot;</span>, count + <span class="stringliteral">&quot; enregistrements ajoutés.&quot;</span>);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        } <span class="keywordflow">finally</span> {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <span class="keywordflow">if</span> (existing != null) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                existing.close();</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">if</span> (mismatchs != null) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            mismatchs.nextLine(<span class="stringliteral">&#39;\u2500&#39;</span>);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            mismatchs.flush();</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div><div class="ttc" id="a07054_html_a3f049a3e1fc691d9fbdfda9eb4f7f67b"><div class="ttname"><a href="a07054.html#a3f049a3e1fc691d9fbdfda9eb4f7f67b">org.geotoolkit.internal.sql.Synchronizer.cancel</a></div><div class="ttdeci">volatile boolean cancel</div><div class="ttdoc">Sets to. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:119</div></div>
<div class="ttc" id="a07054_html_acae85fb14a0ee22619878a15c37bcd64"><div class="ttname"><a href="a07054.html#acae85fb14a0ee22619878a15c37bcd64">org.geotoolkit.internal.sql.Synchronizer.createMismatchTable</a></div><div class="ttdeci">TableAppender createMismatchTable(final String table, final String[] pkColumns)</div><div class="ttdoc">Creates an initially empty (except for the header) table of mismatches. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:474</div></div>
<div class="ttc" id="a07054_html_a220d30cce32082f27f291952ba22bc2e"><div class="ttname"><a href="a07054.html#a220d30cce32082f27f291952ba22bc2e">org.geotoolkit.internal.sql.Synchronizer.sourceMetadata</a></div><div class="ttdeci">transient DatabaseMetaData sourceMetadata</div><div class="ttdoc">The metadata for the source and target databases. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:92</div></div>
<div class="ttc" id="a07054_html_adb1c31e7b4e99b137eb58da6ac786ec7"><div class="ttname"><a href="a07054.html#adb1c31e7b4e99b137eb58da6ac786ec7">org.geotoolkit.internal.sql.Synchronizer.UPDATE</a></div><div class="ttdeci">static final Level UPDATE</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:75</div></div>
<div class="ttc" id="a07054_html_a9d461d9484adad460fbf7f35b65e5551"><div class="ttname"><a href="a07054.html#a9d461d9484adad460fbf7f35b65e5551">org.geotoolkit.internal.sql.Synchronizer.source</a></div><div class="ttdeci">final Connection source</div><div class="ttdoc">The connection to the source and target databases. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:82</div></div>
<div class="ttc" id="a07054_html_a2f1e497cd59b70359657835487042bd2"><div class="ttname"><a href="a07054.html#a2f1e497cd59b70359657835487042bd2">org.geotoolkit.internal.sql.Synchronizer.SELECT</a></div><div class="ttdeci">static final Level SELECT</div><div class="ttdoc">Logging level to use for SQL operations. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:75</div></div>
<div class="ttc" id="a07054_html_a3c9b4f1393a31cae3812202f9ff87926"><div class="ttname"><a href="a07054.html#a3c9b4f1393a31cae3812202f9ff87926">org.geotoolkit.internal.sql.Synchronizer.log</a></div><div class="ttdeci">static void log(final Level level, final String method, final String message)</div><div class="ttdoc">Writes an event to the logger. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:628</div></div>
<div class="ttc" id="a07054_html_abcf014e76bb61138b2283121ffdf1cfa"><div class="ttname"><a href="a07054.html#abcf014e76bb61138b2283121ffdf1cfa">org.geotoolkit.internal.sql.Synchronizer.targetMetadata</a></div><div class="ttdeci">transient DatabaseMetaData targetMetadata</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:92</div></div>
<div class="ttc" id="a07054_html_a2d2018ebcd65d6fe8990f5aa90e3883d"><div class="ttname"><a href="a07054.html#a2d2018ebcd65d6fe8990f5aa90e3883d">org.geotoolkit.internal.sql.Synchronizer.targetSchema</a></div><div class="ttdeci">String targetSchema</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:102</div></div>
<div class="ttc" id="a07054_html_a1b3e2842590a2f25dc5426414653cdf5"><div class="ttname"><a href="a07054.html#a1b3e2842590a2f25dc5426414653cdf5">org.geotoolkit.internal.sql.Synchronizer.contains</a></div><div class="ttdeci">static boolean contains(final int[] array, final int value)</div><div class="ttdoc">Returns. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:173</div></div>
<div class="ttc" id="a07054_html_a30daa8d4f50d25f7d2b37a4f7eae2d83"><div class="ttname"><a href="a07054.html#a30daa8d4f50d25f7d2b37a4f7eae2d83">org.geotoolkit.internal.sql.Synchronizer.getColumnIndex</a></div><div class="ttdeci">static int getColumnIndex(final ResultSetMetaData metadata, final String column)</div><div class="ttdoc">Returns the index of the specified column, or 0 if not found. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:221</div></div>
<div class="ttc" id="a07054_html_a5e1c28eeb562c430e8d187c1c5f9cb25"><div class="ttname"><a href="a07054.html#a5e1c28eeb562c430e8d187c1c5f9cb25">org.geotoolkit.internal.sql.Synchronizer.target</a></div><div class="ttdeci">final Connection target</div><div class="ttdef"><b>Definition:</b> Synchronizer.java:82</div></div>
<div class="ttc" id="a07054_html_a8d1060554f17dbb54024021f0f340683"><div class="ttname"><a href="a07054.html#a8d1060554f17dbb54024021f0f340683">org.geotoolkit.internal.sql.Synchronizer.pretend</a></div><div class="ttdeci">boolean pretend</div><div class="ttdoc">If. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:114</div></div>
<div class="ttc" id="a07054_html_ae38cc7b2cbb9708c5409a9b07a5c7ea5"><div class="ttname"><a href="a07054.html#ae38cc7b2cbb9708c5409a9b07a5c7ea5">org.geotoolkit.internal.sql.Synchronizer.sourceSchema</a></div><div class="ttdeci">String sourceSchema</div><div class="ttdoc">The source and target schemas, or. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:102</div></div>
<div class="ttc" id="a07054_html_aa0eea7a6e4b931cd94d9d89bef36482c"><div class="ttname"><a href="a07054.html#aa0eea7a6e4b931cd94d9d89bef36482c">org.geotoolkit.internal.sql.Synchronizer.appendTableName</a></div><div class="ttdeci">static void appendTableName(final StringBuilder buffer, final String schema, final String table, final String quote)</div><div class="ttdoc">Appends a table name to the given buffer using the given quote character. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:153</div></div>
<div class="ttc" id="a07054_html_a82be3cf969dc37b45374ded329d732c4"><div class="ttname"><a href="a07054.html#a82be3cf969dc37b45374ded329d732c4">org.geotoolkit.internal.sql.Synchronizer.getPrimaryKeys</a></div><div class="ttdeci">String [] getPrimaryKeys(final String table)</div><div class="ttdoc">Returns the primary keys in the target database for the given table. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:187</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c9b4f1393a31cae3812202f9ff87926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c9b4f1393a31cae3812202f9ff87926">&#9670;&nbsp;</a></span>log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log </td>
          <td>(</td>
          <td class="paramtype">final Level&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes an event to the logger. </p>

<p class="reference">Referenced by <a class="el" href="a07054.html#a42ab60780cf5456bc6ebb1408d8c981b">Synchronizer.delete()</a>, and <a class="el" href="a07054.html#a2fb4d740476d4c1ccfd50a811ca2defb">Synchronizer.insert()</a>.</p>
<div class="fragment"><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                                                                                          {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keyword">final</span> LogRecord record = <span class="keyword">new</span> LogRecord(level, message);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        record.setSourceClassName(<a class="code" href="a07054.html#a3c4a55920b393866da38ae69fd666ff1">Synchronizer</a>.class.getName());</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        record.setSourceMethodName(method);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        Logging.getLogger(<span class="stringliteral">&quot;org.geotoolkit.sql&quot;</span>).log(record);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    }</div><div class="ttc" id="a07054_html_a3c4a55920b393866da38ae69fd666ff1"><div class="ttname"><a href="a07054.html#a3c4a55920b393866da38ae69fd666ff1">org.geotoolkit.internal.sql.Synchronizer.Synchronizer</a></div><div class="ttdeci">Synchronizer(final Connection source, final Connection target, final Writer out)</div><div class="ttdoc">Creates a synchronizer from the given source database to the given target database. </div><div class="ttdef"><b>Definition:</b> Synchronizer.java:128</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3f049a3e1fc691d9fbdfda9eb4f7f67b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f049a3e1fc691d9fbdfda9eb4f7f67b">&#9670;&nbsp;</a></span>cancel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile boolean cancel</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets to. </p>
<div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> for canceling the operation. </p>

</div>
</div>
<a id="a3fbe8e17a2659ae9e2fe6178c98d3ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fbe8e17a2659ae9e2fe6178c98d3ec8">&#9670;&nbsp;</a></span>out</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Writer out</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Where to print reports. </p>

<p class="reference">Referenced by <a class="el" href="a07054.html#a3c4a55920b393866da38ae69fd666ff1">Synchronizer.Synchronizer()</a>.</p>

</div>
</div>
<a id="a8d1060554f17dbb54024021f0f340683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d1060554f17dbb54024021f0f340683">&#9670;&nbsp;</a></span>pretend</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean pretend</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If. </p>
<div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> , no changes will be applied to the database. The</p><div class="fragment"><div class="line">DELETE </div></div><!-- fragment --><p> and </p><div class="fragment"><div class="line">INSERT </div></div><!-- fragment --><p> statements will not be executed. This is useful for testing purpose, or for getting the reports or log record without performing the action. </p>

</div>
</div>
<a id="a2f1e497cd59b70359657835487042bd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f1e497cd59b70359657835487042bd2">&#9670;&nbsp;</a></span>SELECT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Level SELECT = Level.FINE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Logging level to use for SQL operations. </p>

</div>
</div>
<a id="a9d461d9484adad460fbf7f35b65e5551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d461d9484adad460fbf7f35b65e5551">&#9670;&nbsp;</a></span>source</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Connection source</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The connection to the source and target databases. </p>

<p class="reference">Referenced by <a class="el" href="a07054.html#a3c4a55920b393866da38ae69fd666ff1">Synchronizer.Synchronizer()</a>.</p>

</div>
</div>
<a id="ac4df044d3759587472760cbe36818e29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4df044d3759587472760cbe36818e29">&#9670;&nbsp;</a></span>sourceCatalog</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String sourceCatalog</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The source and target catalogs, or. </p>
<div class="fragment"><div class="line">null </div></div><!-- fragment --><p> if none. </p>

</div>
</div>
<a id="a220d30cce32082f27f291952ba22bc2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a220d30cce32082f27f291952ba22bc2e">&#9670;&nbsp;</a></span>sourceMetadata</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">transient DatabaseMetaData sourceMetadata</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The metadata for the source and target databases. </p>
<p>Will be fetched when first needed. </p>

</div>
</div>
<a id="ae38cc7b2cbb9708c5409a9b07a5c7ea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae38cc7b2cbb9708c5409a9b07a5c7ea5">&#9670;&nbsp;</a></span>sourceSchema</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String sourceSchema</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The source and target schemas, or. </p>
<div class="fragment"><div class="line">null </div></div><!-- fragment --><p> if none. </p>

</div>
</div>
<a id="a5e1c28eeb562c430e8d187c1c5f9cb25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e1c28eeb562c430e8d187c1c5f9cb25">&#9670;&nbsp;</a></span>target</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Connection target</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="a07054.html#a3c4a55920b393866da38ae69fd666ff1">Synchronizer.Synchronizer()</a>.</p>

</div>
</div>
<a id="a72e336e22012432c6cdd700a2e4a657b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e336e22012432c6cdd700a2e4a657b">&#9670;&nbsp;</a></span>targetCatalog</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">String targetCatalog</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="a07054.html#a3689f73e9e830d56da262a4ada599c78">Synchronizer.copy()</a>, and <a class="el" href="a07054.html#a82be3cf969dc37b45374ded329d732c4">Synchronizer.getPrimaryKeys()</a>.</p>

</div>
</div>
<a id="abcf014e76bb61138b2283121ffdf1cfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcf014e76bb61138b2283121ffdf1cfa">&#9670;&nbsp;</a></span>targetMetadata</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">transient DatabaseMetaData targetMetadata</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2d2018ebcd65d6fe8990f5aa90e3883d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d2018ebcd65d6fe8990f5aa90e3883d">&#9670;&nbsp;</a></span>targetSchema</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">String targetSchema</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="a07054.html#a3689f73e9e830d56da262a4ada599c78">Synchronizer.copy()</a>, <a class="el" href="a07054.html#a82be3cf969dc37b45374ded329d732c4">Synchronizer.getPrimaryKeys()</a>, and <a class="el" href="a07054.html#a2fb4d740476d4c1ccfd50a811ca2defb">Synchronizer.insert()</a>.</p>

</div>
</div>
<a id="adb1c31e7b4e99b137eb58da6ac786ec7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb1c31e7b4e99b137eb58da6ac786ec7">&#9670;&nbsp;</a></span>UPDATE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Level UPDATE = Level.FINE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="a07054.html#a42ab60780cf5456bc6ebb1408d8c981b">Synchronizer.delete()</a>, and <a class="el" href="a07054.html#a2fb4d740476d4c1ccfd50a811ca2defb">Synchronizer.insert()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a03713.html">org</a></li><li class="navelem"><a class="el" href="a03722.html">geotoolkit</a></li><li class="navelem"><a class="el" href="a03740.html">internal</a></li><li class="navelem"><a class="el" href="a03748.html">sql</a></li><li class="navelem"><a class="el" href="a07054.html">Synchronizer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
