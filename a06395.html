<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jena-geo: BufferedGridCoverage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">jena-geo
   &#160;<span id="projectnumber">Version 0.1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a06395.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pac-methods">Package Functions</a> &#124;
<a href="#pac-static-methods">Static Package Functions</a> &#124;
<a href="#pac-attribs">Package Attributes</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="a06392.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BufferedGridCoverage Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A <a class="el" href="a06355.html#a71be5779428886df135eaef2033a8f21">GridCoverage</a> with data stored in an in-memory Java2D buffer.  
 <a href="a06395.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for BufferedGridCoverage:</div>
<div class="dyncontent">
<div class="center"><img src="a06394.png" border="0" usemap="#BufferedGridCoverage_inherit__map" alt="Inheritance graph"/></div>
<map name="BufferedGridCoverage_inherit__map" id="BufferedGridCoverage_inherit__map">
<area shape="rect" id="node2" href="a06355.html" title="Base class of coverages with domains defined as a set of grid points. " alt="" coords="29,5,132,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for BufferedGridCoverage:</div>
<div class="dyncontent">
<div class="center"><img src="a06393.png" border="0" usemap="#BufferedGridCoverage_coll__map" alt="Collaboration graph"/></div>
<map name="BufferedGridCoverage_coll__map" id="BufferedGridCoverage_coll__map">
<area shape="rect" id="node2" href="a06355.html" title="Base class of coverages with domains defined as a set of grid points. " alt="" coords="252,185,355,212"/>
<area shape="rect" id="node3" href="a06375.html" title="Holds the object necessary for converting a geospatial coordinates to grid coordinates. " alt="" coords="67,95,228,121"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4d3d76db9b1304eed54ca09f006e2487"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06395.html#a4d3d76db9b1304eed54ca09f006e2487">BufferedGridCoverage</a> (final GridGeometry domain, final Collection&lt;? extends SampleDimension &gt; range, final DataBuffer <a class="el" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a>)</td></tr>
<tr class="memdesc:a4d3d76db9b1304eed54ca09f006e2487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a grid coverage using the specified grid geometry, sample dimensions and data buffer.  <a href="#a4d3d76db9b1304eed54ca09f006e2487">More...</a><br /></td></tr>
<tr class="separator:a4d3d76db9b1304eed54ca09f006e2487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e96e7bde37f4767a26739e711892ddb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06395.html#a9e96e7bde37f4767a26739e711892ddb">BufferedGridCoverage</a> (final GridGeometry grid, final Collection&lt;? extends SampleDimension &gt; bands, final int dataType)</td></tr>
<tr class="memdesc:a9e96e7bde37f4767a26739e711892ddb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a grid coverage using the specified grid geometry, sample dimensions and data type.  <a href="#a9e96e7bde37f4767a26739e711892ddb">More...</a><br /></td></tr>
<tr class="separator:a9e96e7bde37f4767a26739e711892ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f23293e844748d4d07f822f11e65980"><td class="memItemLeft" align="right" valign="top">RenderedImage&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06395.html#a6f23293e844748d4d07f822f11e65980">render</a> (final <a class="el" href="a06367.html">GridExtent</a> sliceExtent)</td></tr>
<tr class="memdesc:a6f23293e844748d4d07f822f11e65980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a two-dimensional slice of grid data as a rendered image.  <a href="#a6f23293e844748d4d07f822f11e65980">More...</a><br /></td></tr>
<tr class="separator:a6f23293e844748d4d07f822f11e65980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75b9ec1f3753e8f65a2d3cb64cdcf83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a06355.html">GridCoverage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06395.html#aa75b9ec1f3753e8f65a2d3cb64cdcf83">forConvertedValues</a> (boolean arg0)</td></tr>
<tr class="separator:aa75b9ec1f3753e8f65a2d3cb64cdcf83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ea7ca030ecd46451eb9394fd466e2d"><td class="memItemLeft" align="right" valign="top">CoordinateReferenceSystem&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#ac3ea7ca030ecd46451eb9394fd466e2d">getCoordinateReferenceSystem</a> ()</td></tr>
<tr class="memdesc:ac3ea7ca030ecd46451eb9394fd466e2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the coordinate reference system to which the values in grid domain are referenced.  <a href="#ac3ea7ca030ecd46451eb9394fd466e2d">More...</a><br /></td></tr>
<tr class="separator:ac3ea7ca030ecd46451eb9394fd466e2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27ef052a91bc730ac81996f6418da38d"><td class="memItemLeft" align="right" valign="top">GridGeometry&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#a27ef052a91bc730ac81996f6418da38d">getGridGeometry</a> ()</td></tr>
<tr class="memdesc:a27ef052a91bc730ac81996f6418da38d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information about the &lt;cite&gt;domain&lt;/cite&gt; of this grid coverage.  <a href="#a27ef052a91bc730ac81996f6418da38d">More...</a><br /></td></tr>
<tr class="separator:a27ef052a91bc730ac81996f6418da38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60e41e388a84548d37fa90cbd5dd8c8c"><td class="memItemLeft" align="right" valign="top">List&lt; SampleDimension &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#a60e41e388a84548d37fa90cbd5dd8c8c">getSampleDimensions</a> ()</td></tr>
<tr class="memdesc:a60e41e388a84548d37fa90cbd5dd8c8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information about the &lt;cite&gt;range&lt;/cite&gt; of this grid coverage.  <a href="#a60e41e388a84548d37fa90cbd5dd8c8c">More...</a><br /></td></tr>
<tr class="separator:a60e41e388a84548d37fa90cbd5dd8c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dfaee3bce5f0d98818dbea7975a63f7"><td class="memItemLeft" align="right" valign="top">double []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#a9dfaee3bce5f0d98818dbea7975a63f7">evaluate</a> (final DirectPosition point, final double[] buffer)  throws CannotEvaluateException </td></tr>
<tr class="memdesc:a9dfaee3bce5f0d98818dbea7975a63f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a sequence of double values for a given point in the coverage.  <a href="#a9dfaee3bce5f0d98818dbea7975a63f7">More...</a><br /></td></tr>
<tr class="separator:a9dfaee3bce5f0d98818dbea7975a63f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfb9efea12d4f80e81726ec9ea0c9c39"><td class="memItemLeft" align="right" valign="top">FractionalGridCoordinates&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#abfb9efea12d4f80e81726ec9ea0c9c39">toGridCoordinates</a> (final DirectPosition point)  throws TransformException </td></tr>
<tr class="memdesc:abfb9efea12d4f80e81726ec9ea0c9c39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the specified geospatial position to grid coordinates.  <a href="#abfb9efea12d4f80e81726ec9ea0c9c39">More...</a><br /></td></tr>
<tr class="separator:abfb9efea12d4f80e81726ec9ea0c9c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad146fa8579a5f8a876c4688cc5a68520"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#ad146fa8579a5f8a876c4688cc5a68520">toString</a> ()</td></tr>
<tr class="memdesc:ad146fa8579a5f8a876c4688cc5a68520"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string representation of this grid coverage for debugging purpose.  <a href="#ad146fa8579a5f8a876c4688cc5a68520">More...</a><br /></td></tr>
<tr class="separator:ad146fa8579a5f8a876c4688cc5a68520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32798feeffc74937317bf91935b3ea60"><td class="memItemLeft" align="right" valign="top">TreeTable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#a32798feeffc74937317bf91935b3ea60">toTree</a> (final Locale locale, final int bitmask)</td></tr>
<tr class="memdesc:a32798feeffc74937317bf91935b3ea60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a tree representation of some elements of this grid coverage.  <a href="#a32798feeffc74937317bf91935b3ea60">More...</a><br /></td></tr>
<tr class="separator:a32798feeffc74937317bf91935b3ea60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a5ec12ba4154563c624646ad096914e78"><td class="memItemLeft" align="right" valign="top">final DataBuffer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a></td></tr>
<tr class="memdesc:a5ec12ba4154563c624646ad096914e78"><td class="mdescLeft">&#160;</td><td class="mdescRight">The sample values, potentially multi-banded.  <a href="#a5ec12ba4154563c624646ad096914e78">More...</a><br /></td></tr>
<tr class="separator:a5ec12ba4154563c624646ad096914e78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-methods"></a>
Package Functions</h2></td></tr>
<tr class="memitem:a4524832c85292bbb425204e002fc20df"><td class="memItemLeft" align="right" valign="top">final NumberRange&lt;?&gt; []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#a4524832c85292bbb425204e002fc20df">getRanges</a> ()</td></tr>
<tr class="memdesc:a4524832c85292bbb425204e002fc20df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the range of values in each sample dimension, or.  <a href="#a4524832c85292bbb425204e002fc20df">More...</a><br /></td></tr>
<tr class="separator:a4524832c85292bbb425204e002fc20df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa72235f1662f94786b1e594a1354bc80"><td class="memItemLeft" align="right" valign="top">final ColorModel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#aa72235f1662f94786b1e594a1354bc80">createColorModel</a> (final int visibleBand, final int dataType)</td></tr>
<tr class="memdesc:aa72235f1662f94786b1e594a1354bc80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a color model for the expected range of sample values.  <a href="#aa72235f1662f94786b1e594a1354bc80">More...</a><br /></td></tr>
<tr class="separator:aa72235f1662f94786b1e594a1354bc80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a673bc851e761babeb646365359f05875"><td class="memItemLeft" align="right" valign="top">final <a class="el" href="a06355.html">GridCoverage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#a673bc851e761babeb646365359f05875">getView</a> (final boolean converted)</td></tr>
<tr class="memdesc:a673bc851e761babeb646365359f05875"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the converted or package view, or.  <a href="#a673bc851e761babeb646365359f05875">More...</a><br /></td></tr>
<tr class="separator:a673bc851e761babeb646365359f05875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5697d07d9828702ade4ad4b9d070be8e"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#a5697d07d9828702ade4ad4b9d070be8e">setView</a> (final boolean converted, final <a class="el" href="a06355.html">GridCoverage</a> view)</td></tr>
<tr class="memdesc:a5697d07d9828702ade4ad4b9d070be8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the converted or package view.  <a href="#a5697d07d9828702ade4ad4b9d070be8e">More...</a><br /></td></tr>
<tr class="separator:a5697d07d9828702ade4ad4b9d070be8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb9bd8a3661ad395b1335e325c4e381"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#a4bb9bd8a3661ad395b1335e325c4e381">appendDataLayout</a> (TreeTable.Node root, Vocabulary vocabulary, TableColumn&lt; CharSequence &gt; column)</td></tr>
<tr class="memdesc:a4bb9bd8a3661ad395b1335e325c4e381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a "data layout" branch (if it exists) to the tree representation of this coverage.  <a href="#a4bb9bd8a3661ad395b1335e325c4e381">More...</a><br /></td></tr>
<tr class="separator:a4bb9bd8a3661ad395b1335e325c4e381"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-static-methods"></a>
Static Package Functions</h2></td></tr>
<tr class="memitem:afaa5743125217b51809755e74a1ea888"><td class="memItemLeft" align="right" valign="top">static double []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#afaa5743125217b51809755e74a1ea888">evaluate</a> (final RenderedImage <a class="el" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a>, final int x, final int y, final double[] buffer)</td></tr>
<tr class="memdesc:afaa5743125217b51809755e74a1ea888"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets sample values from the given image at the given index.  <a href="#afaa5743125217b51809755e74a1ea888">More...</a><br /></td></tr>
<tr class="separator:afaa5743125217b51809755e74a1ea888"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-attribs"></a>
Package Attributes</h2></td></tr>
<tr class="memitem:a51c43e873b14f4bee9284b1150b5e472"><td class="memItemLeft" align="right" valign="top">final GridGeometry&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#a51c43e873b14f4bee9284b1150b5e472">gridGeometry</a></td></tr>
<tr class="memdesc:a51c43e873b14f4bee9284b1150b5e472"><td class="mdescLeft">&#160;</td><td class="mdescRight">The grid extent, coordinate reference system (CRS) and conversion from cell indices to CRS.  <a href="#a51c43e873b14f4bee9284b1150b5e472">More...</a><br /></td></tr>
<tr class="separator:a51c43e873b14f4bee9284b1150b5e472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d1a5981a5db5b324a0686227d081d86"><td class="memItemLeft" align="right" valign="top">transient <a class="el" href="a06355.html">GridCoverage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06355.html#a5d1a5981a5db5b324a0686227d081d86">convertedView</a></td></tr>
<tr class="separator:a5d1a5981a5db5b324a0686227d081d86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:af6134e8c812cad9066727a900e16db68"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a06395.html#af6134e8c812cad9066727a900e16db68">getSampleCount</a> (final <a class="el" href="a06367.html">GridExtent</a> extent, long nbSamples)</td></tr>
<tr class="memdesc:af6134e8c812cad9066727a900e16db68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of cells in the given extent multiplied by the number of bands.  <a href="#af6134e8c812cad9066727a900e16db68">More...</a><br /></td></tr>
<tr class="separator:af6134e8c812cad9066727a900e16db68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="a06355.html#a71be5779428886df135eaef2033a8f21">GridCoverage</a> with data stored in an in-memory Java2D buffer. </p>
<p>Those data can be shown as <a class="el" href="">RenderedImage</a>. Images are created when <a class="el" href="a06395.html#a6f23293e844748d4d07f822f11e65980">render(GridExtent)</a> is invoked instead than at construction time. This delayed construction makes this class better suited to <em>n</em>-dimensional grids since those grids can not be wrapped into a single <a class="el" href="">RenderedImage</a>.</p>
<dl class="section author"><dt>Author</dt><dd>Johann Sorel (Geomatys) </dd>
<dd>
Martin Desruisseaux (Geomatys) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.1 </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.0  </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4d3d76db9b1304eed54ca09f006e2487"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d3d76db9b1304eed54ca09f006e2487">&#9670;&nbsp;</a></span>BufferedGridCoverage() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a06395.html">BufferedGridCoverage</a> </td>
          <td>(</td>
          <td class="paramtype">final GridGeometry&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Collection&lt;? extends SampleDimension &gt;&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final DataBuffer&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a grid coverage using the specified grid geometry, sample dimensions and data buffer. </p>
<p>This method stores the given buffer by reference (no copy). The bands in the given buffer can be stored either in a single bank (pixel interleaved image) or in different banks (banded image). This class detects automatically which of those two sample models is used.</p>
<p>Note that <a class="el" href="">DataBuffer</a> does not contain any information about image size. Consequently <a class="el" href="a06395.html#a6f23293e844748d4d07f822f11e65980">render(GridExtent)</a> depends on the domain <a class="el" href="">GridExtent</a>, which must be accurate. If the extent size does not reflect accurately the image size, then the image will not be rendered properly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>the grid extent, CRS and conversion from cell indices to CRS. </td></tr>
    <tr><td class="paramname">range</td><td>sample dimensions for each image band. </td></tr>
    <tr><td class="paramname">data</td><td>the sample values, potentially multi-banded. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NullPointerException</td><td>if an argument is<div class="fragment"><div class="line">null </div></div><!-- fragment --> . </td></tr>
    <tr><td class="paramname"><a class="el" href="a13943.html">IllegalArgumentException</a></td><td>if the data buffer has an incompatible number of banks. </td></tr>
    <tr><td class="paramname">IllegalGridGeometryException</td><td>if the grid extent is larger than the data buffer capacity. </td></tr>
    <tr><td class="paramname">ArithmeticException</td><td>if the grid extent is larger than 64 bits integer capacity. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a06395.html#a5ec12ba4154563c624646ad096914e78">BufferedGridCoverage.data</a>, and <a class="el" href="a06395.html#af6134e8c812cad9066727a900e16db68">BufferedGridCoverage.getSampleCount()</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                                                                                                                                     {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        super(domain, range);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        this.<a class="code" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a> = <a class="code" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        ArgumentChecks.ensureNonNull(<span class="stringliteral">&quot;data&quot;</span>, <a class="code" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">         * The buffer shall either contain all values in a single bank (pixel interleaved sample model)</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">         * or contain as many banks as bands (banded sample model).</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> numBands = range.size();</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> numBanks = <a class="code" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a>.getNumBanks();</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">if</span> (numBanks != 1 &amp;&amp; numBands != numBands) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="a13943.html">IllegalArgumentException</a>(Resources.format(Resources.Keys.MismatchedBandCount_2, numBands, numBands));</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">         * Verify that the buffer has enough elements for all cells in grid extent.</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">         * Note that the buffer may have all elements in a single bank.</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keyword">final</span> GridExtent extent = domain.getExtent();</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">long</span> expectedSize = <a class="code" href="a06395.html#af6134e8c812cad9066727a900e16db68">getSampleCount</a>(extent, numBands);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">long</span> bufferSize = JDK9.multiplyFull(<a class="code" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a>.getSize(), numBanks);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">if</span> (bufferSize &lt; expectedSize) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keyword">final</span> StringBuilder b = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; extent.getDimension(); i++) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="keywordflow">if</span> (i != 0) b.append(<span class="stringliteral">&quot; × &quot;</span>);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                b.append(extent.getSize(i));</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalGridGeometryException(Resources.format(</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    Resources.Keys.InsufficientBufferCapacity_3, b, numBands, expectedSize - bufferSize));</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div><div class="ttc" id="a13943_html"><div class="ttname"><a href="a13943.html">IllegalArgumentException</a></div></div>
<div class="ttc" id="a06395_html_af6134e8c812cad9066727a900e16db68"><div class="ttname"><a href="a06395.html#af6134e8c812cad9066727a900e16db68">org.apache.sis.internal.coverage.j2d.BufferedGridCoverage.getSampleCount</a></div><div class="ttdeci">static long getSampleCount(final GridExtent extent, long nbSamples)</div><div class="ttdoc">Returns the number of cells in the given extent multiplied by the number of bands. </div><div class="ttdef"><b>Definition:</b> BufferedGridCoverage.java:147</div></div>
<div class="ttc" id="a06395_html_a5ec12ba4154563c624646ad096914e78"><div class="ttname"><a href="a06395.html#a5ec12ba4154563c624646ad096914e78">org.apache.sis.internal.coverage.j2d.BufferedGridCoverage.data</a></div><div class="ttdeci">final DataBuffer data</div><div class="ttdoc">The sample values, potentially multi-banded. </div><div class="ttdef"><b>Definition:</b> BufferedGridCoverage.java:63</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e96e7bde37f4767a26739e711892ddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e96e7bde37f4767a26739e711892ddb">&#9670;&nbsp;</a></span>BufferedGridCoverage() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a06395.html">BufferedGridCoverage</a> </td>
          <td>(</td>
          <td class="paramtype">final GridGeometry&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Collection&lt;? extends SampleDimension &gt;&#160;</td>
          <td class="paramname"><em>bands</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>dataType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a grid coverage using the specified grid geometry, sample dimensions and data type. </p>
<p>This constructor creates a single-bank <a class="el" href="">DataBuffer</a> (pixel interleaved sample model) with all sample values initialized to zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">grid</td><td>the grid extent, CRS and conversion from cell indices to CRS. </td></tr>
    <tr><td class="paramname">bands</td><td>sample dimensions for each image band. </td></tr>
    <tr><td class="paramname">dataType</td><td>one of<div class="fragment"><div class="line">DataBuffer.TYPE_* </div></div><!-- fragment --> constants, the native data type used to store the coverage values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArithmeticException</td><td>if the grid size is too large. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a06395.html#af6134e8c812cad9066727a900e16db68">BufferedGridCoverage.getSampleCount()</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                                                                                                                {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        super(grid, bands);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> n = Math.toIntExact(<a class="code" href="a06395.html#af6134e8c812cad9066727a900e16db68">getSampleCount</a>(grid.getExtent(), bands.size()));</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">switch</span> (dataType) {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="keywordflow">case</span> DataBuffer.TYPE_BYTE:   <a class="code" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a> = <span class="keyword">new</span> DataBufferByte  (n); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keywordflow">case</span> DataBuffer.TYPE_SHORT:  <a class="code" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a> = <span class="keyword">new</span> DataBufferShort (n); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keywordflow">case</span> DataBuffer.TYPE_USHORT: <a class="code" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a> = <span class="keyword">new</span> DataBufferUShort(n); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">case</span> DataBuffer.TYPE_INT:    <a class="code" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a> = <span class="keyword">new</span> DataBufferInt   (n); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">case</span> DataBuffer.TYPE_FLOAT:  <a class="code" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a> = <span class="keyword">new</span> DataBufferFloat (n); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="keywordflow">case</span> DataBuffer.TYPE_DOUBLE: <a class="code" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a> = <span class="keyword">new</span> DataBufferDouble(n); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">default</span>: <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="a13943.html">IllegalArgumentException</a>(Errors.format(Errors.Keys.UnknownType_1, dataType));</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div><div class="ttc" id="a13943_html"><div class="ttname"><a href="a13943.html">IllegalArgumentException</a></div></div>
<div class="ttc" id="a06395_html_af6134e8c812cad9066727a900e16db68"><div class="ttname"><a href="a06395.html#af6134e8c812cad9066727a900e16db68">org.apache.sis.internal.coverage.j2d.BufferedGridCoverage.getSampleCount</a></div><div class="ttdeci">static long getSampleCount(final GridExtent extent, long nbSamples)</div><div class="ttdoc">Returns the number of cells in the given extent multiplied by the number of bands. </div><div class="ttdef"><b>Definition:</b> BufferedGridCoverage.java:147</div></div>
<div class="ttc" id="a06395_html_a5ec12ba4154563c624646ad096914e78"><div class="ttname"><a href="a06395.html#a5ec12ba4154563c624646ad096914e78">org.apache.sis.internal.coverage.j2d.BufferedGridCoverage.data</a></div><div class="ttdeci">final DataBuffer data</div><div class="ttdoc">The sample values, potentially multi-banded. </div><div class="ttdef"><b>Definition:</b> BufferedGridCoverage.java:63</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4bb9bd8a3661ad395b1335e325c4e381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bb9bd8a3661ad395b1335e325c4e381">&#9670;&nbsp;</a></span>appendDataLayout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void appendDataLayout </td>
          <td>(</td>
          <td class="paramtype">TreeTable.Node&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vocabulary&#160;</td>
          <td class="paramname"><em>vocabulary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TableColumn&lt; CharSequence &gt;&#160;</td>
          <td class="paramname"><em>column</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Appends a "data layout" branch (if it exists) to the tree representation of this coverage. </p>
<p>That branch will be inserted between "coverage domain" and "sample dimensions" branches. The default implementation does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>root of the tree where to add a branch. </td></tr>
    <tr><td class="paramname">vocabulary</td><td>localized resources for vocabulary. </td></tr>
    <tr><td class="paramname">column</td><td>the single column where to write texts. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="a06355.html#a32798feeffc74937317bf91935b3ea60">GridCoverage.toTree()</a>.</p>
<div class="fragment"><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                                                                                                        {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="aa72235f1662f94786b1e594a1354bc80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa72235f1662f94786b1e594a1354bc80">&#9670;&nbsp;</a></span>createColorModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final ColorModel createColorModel </td>
          <td>(</td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>visibleBand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>dataType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a color model for the expected range of sample values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">visibleBand</td><td>the band to be made visible (usually 0). All other bands (if any) will be ignored. </td></tr>
    <tr><td class="paramname">dataType</td><td>the color model type as one <a class="el" href="">java.awt.image.DataBuffer</a> constants. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>proposed color model, or<div class="fragment"><div class="line">null </div></div><!-- fragment --> if none. </dd></dl>

<p class="reference">References <a class="el" href="a06399.html#a3668a325460160a3ac51f36bf18debee">ColorModelFactory.createColorModel()</a>, and <a class="el" href="a06399.html#a63b75fcbb8f217072e82f0ca74e55b87">ColorModelFactory.GRAYSCALE</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06359.html#ae62078507e9d20695831b176f5a4fd7f">GridCoverage2D.GridCoverage2D()</a>, and <a class="el" href="a06339.html#a6f23293e844748d4d07f822f11e65980">ConvertedGridCoverage.render()</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                                                                 {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">return</span> ColorModelFactory.createColorModel(<a class="code" href="a06355.html#ac180948d623add7fb218d9f1af81ceb9">sampleDimensions</a>, visibleBand, dataType, ColorModelFactory.GRAYSCALE);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div><div class="ttc" id="a06355_html_ac180948d623add7fb218d9f1af81ceb9"><div class="ttname"><a href="a06355.html#ac180948d623add7fb218d9f1af81ceb9">org.apache.sis.coverage.grid.GridCoverage.sampleDimensions</a></div><div class="ttdeci">final SampleDimension [] sampleDimensions</div><div class="ttdoc">List of sample dimension (band) information for the grid coverage. </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:78</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9dfaee3bce5f0d98818dbea7975a63f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dfaee3bce5f0d98818dbea7975a63f7">&#9670;&nbsp;</a></span>evaluate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double [] evaluate </td>
          <td>(</td>
          <td class="paramtype">final DirectPosition&#160;</td>
          <td class="paramname"><em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final double []&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws CannotEvaluateException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a sequence of double values for a given point in the coverage. </p>
<p>The CRS of the given point may be any coordinate reference system; coordinate transformations will be applied as needed. If the CRS of the point is undefined, then it is assumed to be the same as this coverage. The returned sequence includes a value for each  SampleDimension sample dimension}.</p>
<p>The default interpolation type used when accessing grid values for points which fall between grid cells is nearest neighbor. This default interpolation method may change in future version.</p>
<p>The default implementation invokes <a class="el" href="a06395.html#a6f23293e844748d4d07f822f11e65980">render(GridExtent)</a> for a small region around the point. Subclasses should override with more efficient implementation.</p>
<p>Warning: this method may change. See <a href="https://issues.apache.org/jira/browse/SIS-485">SIS-485</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">point</td><td>the coordinate point where to evaluate. </td></tr>
    <tr><td class="paramname">buffer</td><td>an array in which to store values, or<div class="fragment"><div class="line">null </div></div><!-- fragment --> to create a new array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the<div class="fragment"><div class="line">buffer </div></div><!-- fragment --> array, or a newly created array if<div class="fragment"><div class="line">buffer </div></div><!-- fragment --> was null. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">PointOutsideCoverageException</td><td>if the evaluation failed because the input point has invalid coordinates. </td></tr>
    <tr><td class="paramname">CannotEvaluateException</td><td>if the values can not be computed at the specified coordinate for another reason. It may be thrown if the coverage data type can not be converted to<div class="fragment"><div class="line"><span class="keywordtype">double</span> </div></div><!-- fragment --> by an identity or widening conversion. Subclasses may relax this constraint if appropriate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>

<p class="reference">References <a class="el" href="a06347.html#abd74946782d37989bb539d6f690cf1a6">FractionalGridCoordinates.pointOutsideCoverage()</a>, <a class="el" href="a06355.html#a377e507a5ac3d5c1ad6b248064e77013">GridCoverage.render()</a>, <a class="el" href="a06347.html#a69789ee6e2767e6891ebe8e7da8e908d">FractionalGridCoordinates.toExtent()</a>, and <a class="el" href="a06355.html#abfb9efea12d4f80e81726ec9ea0c9c39">GridCoverage.toGridCoordinates()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06339.html#abe4af51c16013c6ea5538ea23b9fa2d0">ConvertedGridCoverage.evaluate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                                                                                               {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">         * TODO: instead of restricting to a single point, keep the automatic size (1 or 2),</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">         * invoke render for each plan, then interpolate. We would keep a value of 1 in the</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">         * size array if we want to disable interpolation in some particular axis (e.g. time).</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">long</span>[] size = <span class="keyword">new</span> <span class="keywordtype">long</span>[<a class="code" href="a06355.html#a51c43e873b14f4bee9284b1150b5e472">gridGeometry</a>.getDimension()];</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        java.util.Arrays.fill(size, 1);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keyword">final</span> FractionalGridCoordinates gc = <a class="code" href="a06355.html#abfb9efea12d4f80e81726ec9ea0c9c39">toGridCoordinates</a>(point);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                <span class="keyword">final</span> GridExtent subExtent = gc.toExtent(<a class="code" href="a06355.html#a51c43e873b14f4bee9284b1150b5e472">gridGeometry</a>.extent, size);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="a06355.html#a9dfaee3bce5f0d98818dbea7975a63f7">evaluate</a>(<a class="code" href="a06355.html#a377e507a5ac3d5c1ad6b248064e77013">render</a>(subExtent), 0, 0, buffer);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            } <span class="keywordflow">catch</span> (ArithmeticException | IndexOutOfBoundsException | DisjointExtentException ex) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                <span class="keywordflow">throw</span> (PointOutsideCoverageException) <span class="keyword">new</span> PointOutsideCoverageException(</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                        gc.pointOutsideCoverage(<a class="code" href="a06355.html#a51c43e873b14f4bee9284b1150b5e472">gridGeometry</a>.extent), point).initCause(ex);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        } <span class="keywordflow">catch</span> (PointOutsideCoverageException ex) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            ex.setOffendingLocation(point);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">throw</span> ex;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        } <span class="keywordflow">catch</span> (<a class="code" href="a13855.html">RuntimeException</a> | TransformException ex) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> CannotEvaluateException(ex.getMessage(), ex);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div><div class="ttc" id="a06355_html_abfb9efea12d4f80e81726ec9ea0c9c39"><div class="ttname"><a href="a06355.html#abfb9efea12d4f80e81726ec9ea0c9c39">org.apache.sis.coverage.grid.GridCoverage.toGridCoordinates</a></div><div class="ttdeci">FractionalGridCoordinates toGridCoordinates(final DirectPosition point)</div><div class="ttdoc">Converts the specified geospatial position to grid coordinates. </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:331</div></div>
<div class="ttc" id="a06355_html_a9dfaee3bce5f0d98818dbea7975a63f7"><div class="ttname"><a href="a06355.html#a9dfaee3bce5f0d98818dbea7975a63f7">org.apache.sis.coverage.grid.GridCoverage.evaluate</a></div><div class="ttdeci">double [] evaluate(final DirectPosition point, final double[] buffer)</div><div class="ttdoc">Returns a sequence of double values for a given point in the coverage. </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:266</div></div>
<div class="ttc" id="a06355_html_a51c43e873b14f4bee9284b1150b5e472"><div class="ttname"><a href="a06355.html#a51c43e873b14f4bee9284b1150b5e472">org.apache.sis.coverage.grid.GridCoverage.gridGeometry</a></div><div class="ttdeci">final GridGeometry gridGeometry</div><div class="ttdoc">The grid extent, coordinate reference system (CRS) and conversion from cell indices to CRS...</div><div class="ttdef"><b>Definition:</b> GridCoverage.java:69</div></div>
<div class="ttc" id="a06355_html_a377e507a5ac3d5c1ad6b248064e77013"><div class="ttname"><a href="a06355.html#a377e507a5ac3d5c1ad6b248064e77013">org.apache.sis.coverage.grid.GridCoverage.render</a></div><div class="ttdeci">abstract RenderedImage render(GridExtent sliceExtent)</div><div class="ttdoc">Returns a two-dimensional slice of grid data as a rendered image. </div></div>
<div class="ttc" id="a13855_html"><div class="ttname"><a href="a13855.html">RuntimeException</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afaa5743125217b51809755e74a1ea888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaa5743125217b51809755e74a1ea888">&#9670;&nbsp;</a></span>evaluate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double [] evaluate </td>
          <td>(</td>
          <td class="paramtype">final RenderedImage&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final double []&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">package</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets sample values from the given image at the given index. </p>
<p>This method does not verify explicitly if the coordinates are out of bounds; we rely on the checks performed by the image and sample model implementations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the data from which to get the sample values. </td></tr>
    <tr><td class="paramname">x</td><td>column index of the value to get. </td></tr>
    <tr><td class="paramname">y</td><td>row index of the value to get. </td></tr>
    <tr><td class="paramname">buffer</td><td>an array in which to store values, or<div class="fragment"><div class="line">null </div></div><!-- fragment --> to create a new array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the<div class="fragment"><div class="line">buffer </div></div><!-- fragment --> array, or a newly created array if<div class="fragment"><div class="line">buffer </div></div><!-- fragment --> was null. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArithmeticException</td><td>if an integer overflow occurred while computing indices. </td></tr>
    <tr><td class="paramname">IndexOutOfBoundsException</td><td>if a coordinate is out of bounds. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                                                                                        {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> tx = Math.toIntExact(Math.floorDiv(x - (<span class="keywordtype">long</span>) data.getTileGridXOffset(), data.getTileWidth()));</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keyword">final</span> <span class="keywordtype">int</span> ty = Math.toIntExact(Math.floorDiv(y - (<span class="keywordtype">long</span>) data.getTileGridYOffset(), data.getTileHeight()));</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">return</span> data.getTile(tx, ty).getPixel(x, y, buffer);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="aa75b9ec1f3753e8f65a2d3cb64cdcf83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa75b9ec1f3753e8f65a2d3cb64cdcf83">&#9670;&nbsp;</a></span>forConvertedValues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a06355.html">GridCoverage</a> forConvertedValues </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>arg0</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                                             {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <span class="comment">// TODO Auto-generated method stub</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a id="ac3ea7ca030ecd46451eb9394fd466e2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3ea7ca030ecd46451eb9394fd466e2d">&#9670;&nbsp;</a></span>getCoordinateReferenceSystem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CoordinateReferenceSystem getCoordinateReferenceSystem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the coordinate reference system to which the values in grid domain are referenced. </p>
<p>This is the CRS used when accessing a coverage with the</p><div class="fragment"><div class="line"><a class="code" href="a06355.html#a9dfaee3bce5f0d98818dbea7975a63f7">evaluate</a>(…) </div></div><!-- fragment --><p> methods. This coordinate reference system is usually different than the coordinate system of the grid. It is the target coordinate reference system of the <a class="el" href="">gridToCRS</a> math transform.</p>
<p>The default implementation delegates to <a class="el" href="">GridGeometry#getCoordinateReferenceSystem()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>the CRS used when accessing a coverage with the<div class="fragment"><div class="line"><a class="code" href="a06355.html#a9dfaee3bce5f0d98818dbea7975a63f7">evaluate</a>(…) </div></div><!-- fragment --> methods. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IncompleteGridGeometryException</td><td>if the grid geometry has no CRS. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="a06031.html#a5f7211b80d30549d072ee3e90cc72ee0">CoverageJsonWriter.coverageToCovJSON()</a>, and <a class="el" href="a05783.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">SRID.exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                                                                    {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="a06355.html#a51c43e873b14f4bee9284b1150b5e472">gridGeometry</a>.getCoordinateReferenceSystem();</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div><div class="ttc" id="a06355_html_a51c43e873b14f4bee9284b1150b5e472"><div class="ttname"><a href="a06355.html#a51c43e873b14f4bee9284b1150b5e472">org.apache.sis.coverage.grid.GridCoverage.gridGeometry</a></div><div class="ttdeci">final GridGeometry gridGeometry</div><div class="ttdoc">The grid extent, coordinate reference system (CRS) and conversion from cell indices to CRS...</div><div class="ttdef"><b>Definition:</b> GridCoverage.java:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a27ef052a91bc730ac81996f6418da38d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27ef052a91bc730ac81996f6418da38d">&#9670;&nbsp;</a></span>getGridGeometry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GridGeometry getGridGeometry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns information about the &lt;cite&gt;domain&lt;/cite&gt; of this grid coverage. </p>
<p>Information includes the grid extent, CRS and conversion from cell indices to CRS. </p><div class="fragment"><div class="line">GridGeometry </div></div><!-- fragment --><p> can also provide derived information like bounding box and resolution.</p>
<dl class="section return"><dt>Returns</dt><dd>grid extent, CRS and conversion from cell indices to CRS.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>org.apache.sis.storage.GridCoverageResource::getGridGeometry() </dd></dl>

<p class="reference">References <a class="el" href="a06355.html#a51c43e873b14f4bee9284b1150b5e472">GridCoverage.gridGeometry</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06339.html#a7c6acf2cfd03bf90f2a86d906460a759">ConvertedGridCoverage.ConvertedGridCoverage()</a>, <a class="el" href="a06031.html#a5f7211b80d30549d072ee3e90cc72ee0">CoverageJsonWriter.coverageToCovJSON()</a>, <a class="el" href="a05435.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">NumXTiles.exec()</a>, <a class="el" href="a05439.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">NumYTiles.exec()</a>, <a class="el" href="a05419.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">MinTileX.exec()</a>, <a class="el" href="a05423.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">MinTileY.exec()</a>, <a class="el" href="a05511.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">TileWidth.exec()</a>, <a class="el" href="a05503.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">TileGridYOffset.exec()</a>, <a class="el" href="a05507.html#a0727a911a23e75c8e79b5401336e9b31">TileHeight.exec()</a>, <a class="el" href="a05499.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">TileGridXOffset.exec()</a>, <a class="el" href="a05451.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">PixelSize.exec()</a>, <a class="el" href="a05723.html#a892f62c3bf1ab2917fc8745f0b6da2a3">NotSameAlignmentReason.exec()</a>, <a class="el" href="a05515.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">TranslateX.exec()</a>, <a class="el" href="a05519.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">TranslateY.exec()</a>, <a class="el" href="a04555.html#a892f62c3bf1ab2917fc8745f0b6da2a3">EqualSRS.exec()</a>, <a class="el" href="a04547.html#a2c490cbe392d82e6bccb464329ee50f4">DWithin3D.exec()</a>, <a class="el" href="a04651.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">SRIDGetAxis1Name.exec()</a>, <a class="el" href="a04655.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">SRIDGetAxis1Orientation.exec()</a>, <a class="el" href="a04659.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">SRIDGetAxis2Name.exec()</a>, <a class="el" href="a04663.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">SRIDGetAxis2Orientation.exec()</a>, <a class="el" href="a04667.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">SRIDHasFlippedAxis.exec()</a>, <a class="el" href="a04551.html#a892f62c3bf1ab2917fc8745f0b6da2a3">EqualNorm.exec()</a>, <a class="el" href="a05695.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Crosses.exec()</a>, <a class="el" href="a05475.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">ScaleX.exec()</a>, <a class="el" href="a05711.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Equals.exec()</a>, <a class="el" href="a04559.html#a892f62c3bf1ab2917fc8745f0b6da2a3">EqualTopo.exec()</a>, <a class="el" href="a05479.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">ScaleY.exec()</a>, <a class="el" href="a05487.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">SkewY.exec()</a>, <a class="el" href="a04527.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Difference.exec()</a>, <a class="el" href="a05715.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Intersection.exec()</a>, <a class="el" href="a05735.html#a892f62c3bf1ab2917fc8745f0b6da2a3">SymDifference.exec()</a>, <a class="el" href="a05327.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Or.exec()</a>, <a class="el" href="a05343.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Xor.exec()</a>, <a class="el" href="a05283.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Add.exec()</a>, <a class="el" href="a05335.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Subtract.exec()</a>, <a class="el" href="a05299.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Div.exec()</a>, <a class="el" href="a05291.html#a892f62c3bf1ab2917fc8745f0b6da2a3">And.exec()</a>, <a class="el" href="a05315.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Mult.exec()</a>, <a class="el" href="a05295.html#a2c490cbe392d82e6bccb464329ee50f4">AndConst.exec()</a>, <a class="el" href="a05287.html#a2c490cbe392d82e6bccb464329ee50f4">AddConst.exec()</a>, <a class="el" href="a05331.html#a2c490cbe392d82e6bccb464329ee50f4">OrConst.exec()</a>, <a class="el" href="a05347.html#a2c490cbe392d82e6bccb464329ee50f4">XorConst.exec()</a>, <a class="el" href="a05319.html#a2c490cbe392d82e6bccb464329ee50f4">MultConst.exec()</a>, <a class="el" href="a05339.html#a2c490cbe392d82e6bccb464329ee50f4">SubtractConst.exec()</a>, <a class="el" href="a05311.html#a2c490cbe392d82e6bccb464329ee50f4">Log.exec()</a>, <a class="el" href="a05303.html#a2c490cbe392d82e6bccb464329ee50f4">DivConst.exec()</a>, <a class="el" href="a05683.html#ad5a8389ba39a9efb6e460f29b7fb0156">ContainsProperly.exec()</a>, <a class="el" href="a05491.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">Summary.exec()</a>, <a class="el" href="a05535.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">Width.exec()</a>, <a class="el" href="a05387.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">Height.exec()</a>, <a class="el" href="a05647.html#ac0ceb42be2816e65dd030a8a1ee950e3">NearestValue.exec()</a>, <a class="el" href="a05379.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">Envelope.exec()</a>, <a class="el" href="a05595.html#a2c490cbe392d82e6bccb464329ee50f4">SetScale.exec()</a>, <a class="el" href="a05719.html#ad5a8389ba39a9efb6e460f29b7fb0156">Intersects.exec()</a>, <a class="el" href="a05731.html#a892f62c3bf1ab2917fc8745f0b6da2a3">SameAlignment.exec()</a>, <a class="el" href="a05483.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">SkewX.exec()</a>, <a class="el" href="a05727.html#ad5a8389ba39a9efb6e460f29b7fb0156">Overlaps.exec()</a>, <a class="el" href="a05739.html#ad5a8389ba39a9efb6e460f29b7fb0156">Touches.exec()</a>, <a class="el" href="a05703.html#ad5a8389ba39a9efb6e460f29b7fb0156">Disjoint.exec()</a>, <a class="el" href="a05687.html#ad5a8389ba39a9efb6e460f29b7fb0156">CoveredBy.exec()</a>, <a class="el" href="a05527.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">UpperLeftY.exec()</a>, <a class="el" href="a05679.html#ad5a8389ba39a9efb6e460f29b7fb0156">Contains.exec()</a>, <a class="el" href="a05691.html#ad5a8389ba39a9efb6e460f29b7fb0156">Covers.exec()</a>, <a class="el" href="a05523.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">UpperLeftX.exec()</a>, <a class="el" href="a05543.html#a2c490cbe392d82e6bccb464329ee50f4">WorldToRasterCoordX.exec()</a>, <a class="el" href="a05467.html#ae6cb49ee002bf4b495afe0464a235b67">RasterToWorldCoordY.exec()</a>, <a class="el" href="a05743.html#ad5a8389ba39a9efb6e460f29b7fb0156">Within.exec()</a>, <a class="el" href="a05547.html#a2c490cbe392d82e6bccb464329ee50f4">WorldToRasterCoordY.exec()</a>, <a class="el" href="a05463.html#ae6cb49ee002bf4b495afe0464a235b67">RasterToWorldCoordX.exec()</a>, <a class="el" href="a05459.html#ae6cb49ee002bf4b495afe0464a235b67">RasterToWorldCoord.exec()</a>, <a class="el" href="a05539.html#a2c490cbe392d82e6bccb464329ee50f4">WorldToRasterCoord.exec()</a>, and <a class="el" href="a06355.html#abfb9efea12d4f80e81726ec9ea0c9c39">GridCoverage.toGridCoordinates()</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                          {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="a06355.html#a51c43e873b14f4bee9284b1150b5e472">gridGeometry</a>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    }</div><div class="ttc" id="a06355_html_a51c43e873b14f4bee9284b1150b5e472"><div class="ttname"><a href="a06355.html#a51c43e873b14f4bee9284b1150b5e472">org.apache.sis.coverage.grid.GridCoverage.gridGeometry</a></div><div class="ttdeci">final GridGeometry gridGeometry</div><div class="ttdoc">The grid extent, coordinate reference system (CRS) and conversion from cell indices to CRS...</div><div class="ttdef"><b>Definition:</b> GridCoverage.java:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4524832c85292bbb425204e002fc20df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4524832c85292bbb425204e002fc20df">&#9670;&nbsp;</a></span>getRanges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final NumberRange&lt;?&gt; [] getRanges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the range of values in each sample dimension, or. </p>
<div class="fragment"><div class="line">null </div></div><!-- fragment --><p> if none. </p>

<p class="reference">Referenced by <a class="el" href="a06339.html#a6f23293e844748d4d07f822f11e65980">ConvertedGridCoverage.render()</a>.</p>
<div class="fragment"><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                                       {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        NumberRange&lt;?&gt;[] ranges = null;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="a06355.html#ac180948d623add7fb218d9f1af81ceb9">sampleDimensions</a>.length; i++) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keyword">final</span> Optional&lt;NumberRange&lt;?&gt;&gt; r = <a class="code" href="a06355.html#ac180948d623add7fb218d9f1af81ceb9">sampleDimensions</a>[i].getSampleRange();</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">if</span> (r.isPresent()) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <span class="keywordflow">if</span> (ranges == null) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                    ranges = <span class="keyword">new</span> NumberRange&lt;?&gt;[<a class="code" href="a06355.html#ac180948d623add7fb218d9f1af81ceb9">sampleDimensions</a>.length];</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                ranges[i] = r.get();</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">return</span> ranges;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div><div class="ttc" id="a06355_html_ac180948d623add7fb218d9f1af81ceb9"><div class="ttname"><a href="a06355.html#ac180948d623add7fb218d9f1af81ceb9">org.apache.sis.coverage.grid.GridCoverage.sampleDimensions</a></div><div class="ttdeci">final SampleDimension [] sampleDimensions</div><div class="ttdoc">List of sample dimension (band) information for the grid coverage. </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:78</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6134e8c812cad9066727a900e16db68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6134e8c812cad9066727a900e16db68">&#9670;&nbsp;</a></span>getSampleCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long getSampleCount </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="a06367.html">GridExtent</a>&#160;</td>
          <td class="paramname"><em>extent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>nbSamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of cells in the given extent multiplied by the number of bands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">extent</td><td>the extent for which to get the number of cells. </td></tr>
    <tr><td class="paramname">nbSamples</td><td>number of bands. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of cells multiplied by the number of bands. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArithmeticException</td><td>if the number of samples exceeds 64-bits integer capacity. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="a06367.html#a7e9fe025be58250b1c81ea91823f819e">GridExtent.getDimension()</a>, and <a class="el" href="a06367.html#a303a45005b63f9028248adb1046eca80">GridExtent.getSize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06395.html#a4d3d76db9b1304eed54ca09f006e2487">BufferedGridCoverage.BufferedGridCoverage()</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                                                                {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = extent.getDimension(); --i &gt;= 0;) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            nbSamples = Math.multiplyExact(nbSamples, extent.getSize(i));</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">return</span> nbSamples;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a60e41e388a84548d37fa90cbd5dd8c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60e41e388a84548d37fa90cbd5dd8c8c">&#9670;&nbsp;</a></span>getSampleDimensions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;SampleDimension&gt; getSampleDimensions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns information about the &lt;cite&gt;range&lt;/cite&gt; of this grid coverage. </p>
<p>Information include names, sample value ranges, fill values and transfer functions for all bands in this grid coverage. The length of the returned list should be equal to the  java.awt.image.SampleModel::getNumBands() number of bands} in the rendered image.</p>
<dl class="section return"><dt>Returns</dt><dd>names, value ranges, fill values and transfer functions for all bands in this grid coverage.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>org.apache.sis.storage.GridCoverageResource::getSampleDimensions() </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06031.html#a5f7211b80d30549d072ee3e90cc72ee0">CoverageJsonWriter.coverageToCovJSON()</a>, <a class="el" href="a06339.html#ab443371cdb566340dc7c63e8d99b1c71">ConvertedGridCoverage.create()</a>, <a class="el" href="a05583.html#aef8acfa09c0ce086ff6d82b4d078a8fb">SetBandNoDataValue.exec()</a>, <a class="el" href="a05283.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Add.exec()</a>, <a class="el" href="a05431.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">NumBands.exec()</a>, <a class="el" href="a05327.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Or.exec()</a>, <a class="el" href="a05291.html#a892f62c3bf1ab2917fc8745f0b6da2a3">And.exec()</a>, <a class="el" href="a05335.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Subtract.exec()</a>, <a class="el" href="a05315.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Mult.exec()</a>, <a class="el" href="a05343.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Xor.exec()</a>, <a class="el" href="a05299.html#a892f62c3bf1ab2917fc8745f0b6da2a3">Div.exec()</a>, <a class="el" href="a05339.html#a2c490cbe392d82e6bccb464329ee50f4">SubtractConst.exec()</a>, <a class="el" href="a05331.html#a2c490cbe392d82e6bccb464329ee50f4">OrConst.exec()</a>, <a class="el" href="a05303.html#a2c490cbe392d82e6bccb464329ee50f4">DivConst.exec()</a>, <a class="el" href="a05311.html#a2c490cbe392d82e6bccb464329ee50f4">Log.exec()</a>, <a class="el" href="a05319.html#a2c490cbe392d82e6bccb464329ee50f4">MultConst.exec()</a>, <a class="el" href="a05287.html#a2c490cbe392d82e6bccb464329ee50f4">AddConst.exec()</a>, <a class="el" href="a05295.html#a2c490cbe392d82e6bccb464329ee50f4">AndConst.exec()</a>, <a class="el" href="a05363.html#a892f62c3bf1ab2917fc8745f0b6da2a3">BandPixelType.exec()</a>, <a class="el" href="a05355.html#a892f62c3bf1ab2917fc8745f0b6da2a3">BandMetaData.exec()</a>, <a class="el" href="a05359.html#a892f62c3bf1ab2917fc8745f0b6da2a3">BandNoDataValue.exec()</a>, <a class="el" href="a05347.html#a2c490cbe392d82e6bccb464329ee50f4">XorConst.exec()</a>, <a class="el" href="a05491.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">Summary.exec()</a>, <a class="el" href="a05391.html#a4cd5b69d6ec07b0cf45215fe1fcadd60">IsEmpty.exec()</a>, <a class="el" href="a05595.html#a2c490cbe392d82e6bccb464329ee50f4">SetScale.exec()</a>, <a class="el" href="a05383.html#ad5a8389ba39a9efb6e460f29b7fb0156">HasNoBand.exec()</a>, and <a class="el" href="a06359.html#a524c8fced640c55ac13e301c803026f0">GridCoverage2D.forConvertedValues()</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                                       {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">return</span> UnmodifiableArrayList.wrap(<a class="code" href="a06355.html#ac180948d623add7fb218d9f1af81ceb9">sampleDimensions</a>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div><div class="ttc" id="a06355_html_ac180948d623add7fb218d9f1af81ceb9"><div class="ttname"><a href="a06355.html#ac180948d623add7fb218d9f1af81ceb9">org.apache.sis.coverage.grid.GridCoverage.sampleDimensions</a></div><div class="ttdeci">final SampleDimension [] sampleDimensions</div><div class="ttdoc">List of sample dimension (band) information for the grid coverage. </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:78</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a673bc851e761babeb646365359f05875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a673bc851e761babeb646365359f05875">&#9670;&nbsp;</a></span>getView()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final <a class="el" href="a06355.html">GridCoverage</a> getView </td>
          <td>(</td>
          <td class="paramtype">final boolean&#160;</td>
          <td class="paramname"><em>converted</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the converted or package view, or. </p>
<div class="fragment"><div class="line">null </div></div><!-- fragment --><p> if not yet computed. It is caller responsibility to ensure that this method is invoked in a synchronized block. </p>

<p class="reference">References <a class="el" href="a06355.html#a5d1a5981a5db5b324a0686227d081d86">GridCoverage.convertedView</a>, and <a class="el" href="a06355.html#a75461271c5e6e435946470300b1c4db1">GridCoverage.packedView</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06355.html#a524c8fced640c55ac13e301c803026f0">GridCoverage.forConvertedValues()</a>, and <a class="el" href="a06359.html#a524c8fced640c55ac13e301c803026f0">GridCoverage2D.forConvertedValues()</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                                                        {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">return</span> converted ? <a class="code" href="a06355.html#a5d1a5981a5db5b324a0686227d081d86">convertedView</a> : <a class="code" href="a06355.html#a75461271c5e6e435946470300b1c4db1">packedView</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div><div class="ttc" id="a06355_html_a5d1a5981a5db5b324a0686227d081d86"><div class="ttname"><a href="a06355.html#a5d1a5981a5db5b324a0686227d081d86">org.apache.sis.coverage.grid.GridCoverage.convertedView</a></div><div class="ttdeci">transient GridCoverage convertedView</div><div class="ttdef"><b>Definition:</b> GridCoverage.java:86</div></div>
<div class="ttc" id="a06355_html_a75461271c5e6e435946470300b1c4db1"><div class="ttname"><a href="a06355.html#a75461271c5e6e435946470300b1c4db1">org.apache.sis.coverage.grid.GridCoverage.packedView</a></div><div class="ttdeci">transient GridCoverage packedView</div><div class="ttdoc">View over this grid coverage after conversion of sample values, or. </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:86</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f23293e844748d4d07f822f11e65980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f23293e844748d4d07f822f11e65980">&#9670;&nbsp;</a></span>render()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RenderedImage render </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="a06367.html">GridExtent</a>&#160;</td>
          <td class="paramname"><em>sliceExtent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a two-dimensional slice of grid data as a rendered image. </p>
<p>This method returns a view; sample values are not copied.</p>
<dl class="section return"><dt>Returns</dt><dd>the grid slice as a rendered image. </dd></dl>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                                              {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keyword">final</span> ImageRenderer renderer = <span class="keyword">new</span> ImageRenderer(<span class="keyword">this</span>, sliceExtent);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            renderer.setData(<a class="code" href="a06395.html#a5ec12ba4154563c624646ad096914e78">data</a>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">return</span> renderer.image();</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        } <span class="keywordflow">catch</span> (<a class="code" href="a13943.html">IllegalArgumentException</a> | ArithmeticException | RasterFormatException e) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> CannotEvaluateException(e.getMessage(), e);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div><div class="ttc" id="a13943_html"><div class="ttname"><a href="a13943.html">IllegalArgumentException</a></div></div>
<div class="ttc" id="a06395_html_a5ec12ba4154563c624646ad096914e78"><div class="ttname"><a href="a06395.html#a5ec12ba4154563c624646ad096914e78">org.apache.sis.internal.coverage.j2d.BufferedGridCoverage.data</a></div><div class="ttdeci">final DataBuffer data</div><div class="ttdoc">The sample values, potentially multi-banded. </div><div class="ttdef"><b>Definition:</b> BufferedGridCoverage.java:63</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5697d07d9828702ade4ad4b9d070be8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5697d07d9828702ade4ad4b9d070be8e">&#9670;&nbsp;</a></span>setView()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final void setView </td>
          <td>(</td>
          <td class="paramtype">final boolean&#160;</td>
          <td class="paramname"><em>converted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="a06355.html">GridCoverage</a>&#160;</td>
          <td class="paramname"><em>view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the converted or package view. </p>
<p>The given view should not be null. It is caller responsibility to ensure that this method is invoked in a synchronized block. </p>

<p class="reference">Referenced by <a class="el" href="a06355.html#a524c8fced640c55ac13e301c803026f0">GridCoverage.forConvertedValues()</a>, and <a class="el" href="a06359.html#a524c8fced640c55ac13e301c803026f0">GridCoverage2D.forConvertedValues()</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                                                         {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">if</span> (converted) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <a class="code" href="a06355.html#a5d1a5981a5db5b324a0686227d081d86">convertedView</a> = view;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <a class="code" href="a06355.html#a75461271c5e6e435946470300b1c4db1">packedView</a> = view;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div><div class="ttc" id="a06355_html_a5d1a5981a5db5b324a0686227d081d86"><div class="ttname"><a href="a06355.html#a5d1a5981a5db5b324a0686227d081d86">org.apache.sis.coverage.grid.GridCoverage.convertedView</a></div><div class="ttdeci">transient GridCoverage convertedView</div><div class="ttdef"><b>Definition:</b> GridCoverage.java:86</div></div>
<div class="ttc" id="a06355_html_a75461271c5e6e435946470300b1c4db1"><div class="ttname"><a href="a06355.html#a75461271c5e6e435946470300b1c4db1">org.apache.sis.coverage.grid.GridCoverage.packedView</a></div><div class="ttdeci">transient GridCoverage packedView</div><div class="ttdoc">View over this grid coverage after conversion of sample values, or. </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:86</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abfb9efea12d4f80e81726ec9ea0c9c39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfb9efea12d4f80e81726ec9ea0c9c39">&#9670;&nbsp;</a></span>toGridCoordinates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FractionalGridCoordinates toGridCoordinates </td>
          <td>(</td>
          <td class="paramtype">final DirectPosition&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td> throws TransformException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts the specified geospatial position to grid coordinates. </p>
<p>If the given position is associated to a non-null coordinate reference system (CRS) different than the CRS of this coverage, then this method automatically transforms that position to the  <a class="el" href="a06355.html#ac3ea7ca030ecd46451eb9394fd466e2d" title="Returns the coordinate reference system to which the values in grid domain are referenced. ">getCoordinateReferenceSystem()</a> coverage CRS} before to compute grid coordinates.</p>
<p>This method does not put any restriction on the grid coordinates result. The result may be outside the  GridGeometry::getExtent() grid extent} if the  GridGeometry::getGridToCRS(PixelInCell) grid to CRS} transform allows it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">point</td><td>geospatial coordinates (in arbitrary CRS) to transform to grid coordinates. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the grid coordinates for the given geospatial coordinates. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IncompleteGridGeometryException</td><td>if the  <a class="el" href="a06355.html#a27ef052a91bc730ac81996f6418da38d" title="Returns information about the &lt;cite&gt;domain&lt;/cite&gt; of this grid coverage. ">getGridGeometry()</a> grid geometry} does not define a "grid to CRS" transform, or if the given point has a non-null CRS but this coverage does not  <a class="el" href="a06355.html#ac3ea7ca030ecd46451eb9394fd466e2d" title="Returns the coordinate reference system to which the values in grid domain are referenced. ">getCoordinateReferenceSystem()</a> have a CRS}. </td></tr>
    <tr><td class="paramname">TransformException</td><td>if the given coordinates can not be transformed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>FractionalGridCoordinates::toPosition(MathTransform)</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>

<p class="reference">References <a class="el" href="a06375.html#a00d1d96327fe14b4cbc3c2372ac20857">PointToGridCoordinates.crsToGrid</a>, <a class="el" href="a06347.html#a10c39e72f0b4afd8dca0723bb3e9130a">FractionalGridCoordinates.fromPosition()</a>, <a class="el" href="a06355.html#a27ef052a91bc730ac81996f6418da38d">GridCoverage.getGridGeometry()</a>, <a class="el" href="a06355.html#a4e6e362a7f278c78978c6377e4d11d1f">GridCoverage.lastConverter</a>, <a class="el" href="a06355.html#a377e507a5ac3d5c1ad6b248064e77013">GridCoverage.render()</a>, and <a class="el" href="a06375.html#ac9e444db6156d4c172922a1aae6ec448">PointToGridCoordinates.sourceCRS</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06355.html#a9dfaee3bce5f0d98818dbea7975a63f7">GridCoverage.evaluate()</a>, and <a class="el" href="a06359.html#a9dfaee3bce5f0d98818dbea7975a63f7">GridCoverage2D.evaluate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                                                                                                             {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keyword">final</span> CoordinateReferenceSystem sourceCRS = point.getCoordinateReferenceSystem();</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        PointToGridCoordinates converter = <a class="code" href="a06355.html#a4e6e362a7f278c78978c6377e4d11d1f">lastConverter</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span> (converter == null || !Objects.equals(converter.sourceCRS, sourceCRS)) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            converter = <span class="keyword">new</span> PointToGridCoordinates(sourceCRS, <span class="keyword">this</span>, <a class="code" href="a06355.html#a27ef052a91bc730ac81996f6418da38d">getGridGeometry</a>());</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <a class="code" href="a06355.html#a4e6e362a7f278c78978c6377e4d11d1f">lastConverter</a> = converter;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">return</span> FractionalGridCoordinates.fromPosition(point, converter.crsToGrid);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div><div class="ttc" id="a06355_html_a4e6e362a7f278c78978c6377e4d11d1f"><div class="ttname"><a href="a06355.html#a4e6e362a7f278c78978c6377e4d11d1f">org.apache.sis.coverage.grid.GridCoverage.lastConverter</a></div><div class="ttdeci">transient volatile PointToGridCoordinates lastConverter</div><div class="ttdoc">The last coordinate operation used by toGridCoordinates(DirectPosition). </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:93</div></div>
<div class="ttc" id="a06355_html_a27ef052a91bc730ac81996f6418da38d"><div class="ttname"><a href="a06355.html#a27ef052a91bc730ac81996f6418da38d">org.apache.sis.coverage.grid.GridCoverage.getGridGeometry</a></div><div class="ttdeci">GridGeometry getGridGeometry()</div><div class="ttdoc">Returns information about the &lt;cite&gt;domain&lt;/cite&gt; of this grid coverage. </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:139</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad146fa8579a5f8a876c4688cc5a68520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad146fa8579a5f8a876c4688cc5a68520">&#9670;&nbsp;</a></span>toString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">String toString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string representation of this grid coverage for debugging purpose. </p>
<p>The returned string is implementation dependent and may change in any future version. Current implementation is equivalent to the following, where</p><div class="fragment"><div class="line">&lt;<span class="keywordflow">default</span> flags&gt; </div></div><!-- fragment --><p> is the same set of flags than <a class="el" href="">GridGeometry#toString()</a>.</p>
<p>{ java return toTree(Locale.getDefault(), &lt;default flags&gt;=""&gt;).<a class="el" href="a06355.html#ad146fa8579a5f8a876c4688cc5a68520" title="Returns a string representation of this grid coverage for debugging purpose. ">toString()</a>; }</p>
<dl class="section return"><dt>Returns</dt><dd>a string representation of this grid coverage for debugging purpose. </dd></dl>

<p class="reference">References <a class="el" href="a06355.html#a32798feeffc74937317bf91935b3ea60">GridCoverage.toTree()</a>.</p>
<div class="fragment"><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                             {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="a06355.html#a32798feeffc74937317bf91935b3ea60">toTree</a>(Locale.getDefault(), GridGeometry.defaultFlags()).<a class="code" href="a06355.html#ad146fa8579a5f8a876c4688cc5a68520">toString</a>();</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    }</div><div class="ttc" id="a06355_html_ad146fa8579a5f8a876c4688cc5a68520"><div class="ttname"><a href="a06355.html#ad146fa8579a5f8a876c4688cc5a68520">org.apache.sis.coverage.grid.GridCoverage.toString</a></div><div class="ttdeci">String toString()</div><div class="ttdoc">Returns a string representation of this grid coverage for debugging purpose. </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:429</div></div>
<div class="ttc" id="a06355_html_a32798feeffc74937317bf91935b3ea60"><div class="ttname"><a href="a06355.html#a32798feeffc74937317bf91935b3ea60">org.apache.sis.coverage.grid.GridCoverage.toTree</a></div><div class="ttdeci">TreeTable toTree(final Locale locale, final int bitmask)</div><div class="ttdoc">Returns a tree representation of some elements of this grid coverage. </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:445</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a32798feeffc74937317bf91935b3ea60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32798feeffc74937317bf91935b3ea60">&#9670;&nbsp;</a></span>toTree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TreeTable toTree </td>
          <td>(</td>
          <td class="paramtype">final Locale&#160;</td>
          <td class="paramname"><em>locale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>bitmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a tree representation of some elements of this grid coverage. </p>
<p>The tree representation is for debugging purpose only and may change in any future SIS version.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">locale</td><td>the locale to use for textual labels. </td></tr>
    <tr><td class="paramname">bitmask</td><td>combination of <a class="el" href="">GridGeometry</a> flags. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a tree representation of the specified elements.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>GridGeometry::toTree(Locale, int) </dd></dl>

<p class="reference">References <a class="el" href="a06355.html#a4bb9bd8a3661ad395b1335e325c4e381">GridCoverage.appendDataLayout()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a06355.html#ad146fa8579a5f8a876c4688cc5a68520">GridCoverage.toString()</a>.</p>
<div class="fragment"><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                                                                    {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        ArgumentChecks.ensureNonNull(<span class="stringliteral">&quot;locale&quot;</span>, locale);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keyword">final</span> Vocabulary vocabulary = Vocabulary.getResources(locale);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keyword">final</span> TableColumn&lt;CharSequence&gt; column = TableColumn.VALUE_AS_TEXT;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keyword">final</span> TreeTable tree = <span class="keyword">new</span> DefaultTreeTable(column);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keyword">final</span> TreeTable.Node root = tree.getRoot();</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        root.setValue(column, Classes.getShortClassName(<span class="keyword">this</span>));</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        TreeTable.Node branch = root.newChild();</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        branch.setValue(column, vocabulary.getString(Vocabulary.Keys.CoverageDomain));</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <a class="code" href="a06355.html#a51c43e873b14f4bee9284b1150b5e472">gridGeometry</a>.formatTo(locale, vocabulary, bitmask, branch);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <a class="code" href="a06355.html#a4bb9bd8a3661ad395b1335e325c4e381">appendDataLayout</a>(root, vocabulary, column);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        branch = root.newChild();</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        branch.setValue(column, vocabulary.getString(Vocabulary.Keys.SampleDimensions));</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        branch.newChild().setValue(column, SampleDimension.toString(locale, <a class="code" href="a06355.html#ac180948d623add7fb218d9f1af81ceb9">sampleDimensions</a>));</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">return</span> tree;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div><div class="ttc" id="a06355_html_a51c43e873b14f4bee9284b1150b5e472"><div class="ttname"><a href="a06355.html#a51c43e873b14f4bee9284b1150b5e472">org.apache.sis.coverage.grid.GridCoverage.gridGeometry</a></div><div class="ttdeci">final GridGeometry gridGeometry</div><div class="ttdoc">The grid extent, coordinate reference system (CRS) and conversion from cell indices to CRS...</div><div class="ttdef"><b>Definition:</b> GridCoverage.java:69</div></div>
<div class="ttc" id="a06355_html_ac180948d623add7fb218d9f1af81ceb9"><div class="ttname"><a href="a06355.html#ac180948d623add7fb218d9f1af81ceb9">org.apache.sis.coverage.grid.GridCoverage.sampleDimensions</a></div><div class="ttdeci">final SampleDimension [] sampleDimensions</div><div class="ttdoc">List of sample dimension (band) information for the grid coverage. </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:78</div></div>
<div class="ttc" id="a06355_html_a4bb9bd8a3661ad395b1335e325c4e381"><div class="ttname"><a href="a06355.html#a4bb9bd8a3661ad395b1335e325c4e381">org.apache.sis.coverage.grid.GridCoverage.appendDataLayout</a></div><div class="ttdeci">void appendDataLayout(TreeTable.Node root, Vocabulary vocabulary, TableColumn&lt; CharSequence &gt; column)</div><div class="ttdoc">Appends a &quot;data layout&quot; branch (if it exists) to the tree representation of this coverage. </div><div class="ttdef"><b>Definition:</b> GridCoverage.java:472</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5d1a5981a5db5b324a0686227d081d86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d1a5981a5db5b324a0686227d081d86">&#9670;&nbsp;</a></span>convertedView</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">transient <a class="el" href="a06355.html">GridCoverage</a> convertedView</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="a06355.html#a673bc851e761babeb646365359f05875">GridCoverage.getView()</a>.</p>

</div>
</div>
<a id="a5ec12ba4154563c624646ad096914e78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ec12ba4154563c624646ad096914e78">&#9670;&nbsp;</a></span>data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final DataBuffer data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The sample values, potentially multi-banded. </p>
<p>The bands may be stored either in a single bank (pixel interleaved image) or in different banks (banded image). This class detects automatically which of those two sample models is used when <a class="el" href="a06395.html#a6f23293e844748d4d07f822f11e65980">render(GridExtent)</a> is invoked. </p>

<p class="reference">Referenced by <a class="el" href="a06395.html#a4d3d76db9b1304eed54ca09f006e2487">BufferedGridCoverage.BufferedGridCoverage()</a>.</p>

</div>
</div>
<a id="a51c43e873b14f4bee9284b1150b5e472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51c43e873b14f4bee9284b1150b5e472">&#9670;&nbsp;</a></span>gridGeometry</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final GridGeometry gridGeometry</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The grid extent, coordinate reference system (CRS) and conversion from cell indices to CRS. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a06355.html#a27ef052a91bc730ac81996f6418da38d" title="Returns information about the &lt;cite&gt;domain&lt;/cite&gt; of this grid coverage. ">getGridGeometry()</a> </dd></dl>

<p class="reference">Referenced by <a class="el" href="a06359.html#a9dfaee3bce5f0d98818dbea7975a63f7">GridCoverage2D.evaluate()</a>, <a class="el" href="a06355.html#a27ef052a91bc730ac81996f6418da38d">GridCoverage.getGridGeometry()</a>, <a class="el" href="a06359.html#a8d13a33e4262a8e9bdef9700adf49a39">GridCoverage2D.getGridGeometry2D()</a>, <a class="el" href="a06359.html#ae62078507e9d20695831b176f5a4fd7f">GridCoverage2D.GridCoverage2D()</a>, and <a class="el" href="a06359.html#a6f23293e844748d4d07f822f11e65980">GridCoverage2D.render()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a03698.html">org</a></li><li class="navelem"><a class="el" href="a03699.html">apache</a></li><li class="navelem"><a class="el" href="a03700.html">sis</a></li><li class="navelem"><a class="el" href="a03704.html">internal</a></li><li class="navelem"><a class="el" href="a03705.html">coverage</a></li><li class="navelem"><a class="el" href="a03703.html">j2d</a></li><li class="navelem"><a class="el" href="a06395.html">BufferedGridCoverage</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
